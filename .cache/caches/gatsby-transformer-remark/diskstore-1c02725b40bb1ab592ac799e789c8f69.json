{"expireTime":9007200810530857000,"key":"transformer-remark-markdown-ast-df489a35d5661a7b4847e925ca7c53d0-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypants-","val":{"type":"root","children":[{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"text","value":"翻译自 ","position":{"start":{"line":1,"column":3,"offset":2},"end":{"line":1,"column":7,"offset":6},"indent":[]}},{"type":"link","title":null,"url":"https://dzone.com/articles/20-database-design-best","children":[{"type":"text","value":"https://dzone.com/articles/20-database-design-best","position":{"start":{"line":1,"column":7,"offset":6},"end":{"line":1,"column":57,"offset":56},"indent":[]}}],"position":{"start":{"line":1,"column":7,"offset":6},"end":{"line":1,"column":57,"offset":56},"indent":[]}}],"position":{"start":{"line":1,"column":3,"offset":2},"end":{"line":1,"column":57,"offset":56},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1,"column":57,"offset":56},"indent":[]}},{"type":"list","ordered":true,"start":1,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"对","position":{"start":{"line":3,"column":4,"offset":61},"end":{"line":3,"column":5,"offset":62},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">table</code>","position":{"start":{"line":3,"column":5,"offset":62},"end":{"line":3,"column":12,"offset":69},"indent":[]}},{"type":"text","value":"和","position":{"start":{"line":3,"column":12,"offset":69},"end":{"line":3,"column":13,"offset":70},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">column</code>","position":{"start":{"line":3,"column":13,"offset":70},"end":{"line":3,"column":21,"offset":78},"indent":[]}},{"type":"text","value":"使用明确定义的单词并且风格一致的命名。","position":{"start":{"line":3,"column":21,"offset":78},"end":{"line":3,"column":40,"offset":97},"indent":[]}}],"position":{"start":{"line":3,"column":4,"offset":61},"end":{"line":3,"column":40,"offset":97},"indent":[]}}],"position":{"start":{"line":3,"column":1,"offset":58},"end":{"line":3,"column":40,"offset":97},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"表名使用单数（例如：使用","position":{"start":{"line":4,"column":4,"offset":101},"end":{"line":4,"column":16,"offset":113},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">StudentCourse</code>","position":{"start":{"line":4,"column":16,"offset":113},"end":{"line":4,"column":31,"offset":128},"indent":[]}},{"type":"text","value":" 而不是","position":{"start":{"line":4,"column":31,"offset":128},"end":{"line":4,"column":35,"offset":132},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">StudentCourses</code>","position":{"start":{"line":4,"column":35,"offset":132},"end":{"line":4,"column":51,"offset":148},"indent":[]}},{"type":"text","value":"），","position":{"start":{"line":4,"column":51,"offset":148},"end":{"line":4,"column":53,"offset":150},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">table</code>","position":{"start":{"line":4,"column":53,"offset":150},"end":{"line":4,"column":60,"offset":157},"indent":[]}},{"type":"text","value":"代表着一个实体的集合，不需要用复数命名。","position":{"start":{"line":4,"column":60,"offset":157},"end":{"line":4,"column":80,"offset":177},"indent":[]}}],"position":{"start":{"line":4,"column":4,"offset":101},"end":{"line":4,"column":80,"offset":177},"indent":[]}}],"position":{"start":{"line":4,"column":1,"offset":98},"end":{"line":4,"column":80,"offset":177},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"表名不要用空格，否则，您将不得不使用","position":{"start":{"line":5,"column":4,"offset":181},"end":{"line":5,"column":22,"offset":199},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">&#39;{&#39;，&#39;[&#39;，&#39;&#39;&#39;</code>","position":{"start":{"line":5,"column":22,"offset":199},"end":{"line":5,"column":35,"offset":212},"indent":[]}},{"type":"text","value":"等字符来定义表，访问时还需要用引号","position":{"start":{"line":5,"column":35,"offset":212},"end":{"line":5,"column":52,"offset":229},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">“Student Course”</code>","position":{"start":{"line":5,"column":52,"offset":229},"end":{"line":5,"column":70,"offset":247},"indent":[]}},{"type":"text","value":"， 直接用","position":{"start":{"line":5,"column":70,"offset":247},"end":{"line":5,"column":75,"offset":252},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">StudentCourse</code>","position":{"start":{"line":5,"column":75,"offset":252},"end":{"line":5,"column":90,"offset":267},"indent":[]}},{"type":"text","value":"会更好。","position":{"start":{"line":5,"column":90,"offset":267},"end":{"line":5,"column":94,"offset":271},"indent":[]}}],"position":{"start":{"line":5,"column":4,"offset":181},"end":{"line":5,"column":94,"offset":271},"indent":[]}}],"position":{"start":{"line":5,"column":1,"offset":178},"end":{"line":5,"column":94,"offset":271},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"表名不要使用不必要的前缀或者后缀，例如使用","position":{"start":{"line":6,"column":4,"offset":275},"end":{"line":6,"column":25,"offset":296},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">School</code>","position":{"start":{"line":6,"column":25,"offset":296},"end":{"line":6,"column":33,"offset":304},"indent":[]}},{"type":"text","value":"而不是","position":{"start":{"line":6,"column":33,"offset":304},"end":{"line":6,"column":36,"offset":307},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">TblSchool, SchoolTable</code>","position":{"start":{"line":6,"column":36,"offset":307},"end":{"line":6,"column":60,"offset":331},"indent":[]}},{"type":"text","value":"。","position":{"start":{"line":6,"column":60,"offset":331},"end":{"line":6,"column":61,"offset":332},"indent":[]}}],"position":{"start":{"line":6,"column":4,"offset":275},"end":{"line":6,"column":61,"offset":332},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":272},"end":{"line":6,"column":61,"offset":332},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"保持密码的安全性，需要用的时候在程序里解密","position":{"start":{"line":7,"column":4,"offset":336},"end":{"line":7,"column":25,"offset":357},"indent":[]}}],"position":{"start":{"line":7,"column":4,"offset":336},"end":{"line":7,"column":25,"offset":357},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":333},"end":{"line":7,"column":25,"offset":357},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"所有表使用","position":{"start":{"line":8,"column":4,"offset":361},"end":{"line":8,"column":9,"offset":366},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">integer</code>","position":{"start":{"line":8,"column":9,"offset":366},"end":{"line":8,"column":18,"offset":375},"indent":[]}},{"type":"text","value":"类型ID字段。 即使暂时不需要ID，将来也可能会需要，例如关联表，索引等。","position":{"start":{"line":8,"column":18,"offset":375},"end":{"line":8,"column":55,"offset":412},"indent":[]}}],"position":{"start":{"line":8,"column":4,"offset":361},"end":{"line":8,"column":55,"offset":412},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":358},"end":{"line":8,"column":55,"offset":412},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"索引选择","position":{"start":{"line":9,"column":4,"offset":416},"end":{"line":9,"column":8,"offset":420},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">integer</code>","position":{"start":{"line":9,"column":8,"offset":420},"end":{"line":9,"column":17,"offset":429},"indent":[]}},{"type":"text","value":"类型的列，","position":{"start":{"line":9,"column":17,"offset":429},"end":{"line":9,"column":22,"offset":434},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">varchar</code>","position":{"start":{"line":9,"column":22,"offset":434},"end":{"line":9,"column":31,"offset":443},"indent":[]}},{"type":"text","value":"列索引会引起性能问题。","position":{"start":{"line":9,"column":31,"offset":443},"end":{"line":9,"column":42,"offset":454},"indent":[]}}],"position":{"start":{"line":9,"column":4,"offset":416},"end":{"line":9,"column":42,"offset":454},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":413},"end":{"line":9,"column":42,"offset":454},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"使用位字段存储布尔值，使用","position":{"start":{"line":10,"column":4,"offset":458},"end":{"line":10,"column":17,"offset":471},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">integer</code>","position":{"start":{"line":10,"column":17,"offset":471},"end":{"line":10,"column":26,"offset":480},"indent":[]}},{"type":"text","value":"或","position":{"start":{"line":10,"column":26,"offset":480},"end":{"line":10,"column":27,"offset":481},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">varchar</code>","position":{"start":{"line":10,"column":27,"offset":481},"end":{"line":10,"column":36,"offset":490},"indent":[]}},{"type":"text","value":"是不必要的存储消耗。布尔值的字段列命名使用","position":{"start":{"line":10,"column":36,"offset":490},"end":{"line":10,"column":57,"offset":511},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">is</code>","position":{"start":{"line":10,"column":57,"offset":511},"end":{"line":10,"column":61,"offset":515},"indent":[]}},{"type":"text","value":"作为前缀。","position":{"start":{"line":10,"column":61,"offset":515},"end":{"line":10,"column":66,"offset":520},"indent":[]}}],"position":{"start":{"line":10,"column":4,"offset":458},"end":{"line":10,"column":66,"offset":520},"indent":[]}}],"position":{"start":{"line":10,"column":1,"offset":455},"end":{"line":10,"column":66,"offset":520},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"提供数据库访问权限，不要把管理员权限分配给所有人。","position":{"start":{"line":11,"column":4,"offset":524},"end":{"line":11,"column":29,"offset":549},"indent":[]}}],"position":{"start":{"line":11,"column":4,"offset":524},"end":{"line":11,"column":29,"offset":549},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":521},"end":{"line":11,"column":29,"offset":549},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"尽量避免出现select * 查询除非必须需要，使用select ","position":{"start":{"line":12,"column":5,"offset":554},"end":{"line":12,"column":38,"offset":587},"indent":[]}},{"type":"linkReference","identifier":"需要的列","referenceType":"shortcut","children":[{"type":"text","value":"需要的列","position":{"start":{"line":12,"column":39,"offset":588},"end":{"line":12,"column":43,"offset":592},"indent":[]}}],"position":{"start":{"line":12,"column":38,"offset":587},"end":{"line":12,"column":44,"offset":593},"indent":[]}},{"type":"text","value":"可以提高查询效率。","position":{"start":{"line":12,"column":44,"offset":593},"end":{"line":12,"column":53,"offset":602},"indent":[]}}],"position":{"start":{"line":12,"column":5,"offset":554},"end":{"line":12,"column":53,"offset":602},"indent":[]}}],"position":{"start":{"line":12,"column":1,"offset":550},"end":{"line":12,"column":53,"offset":602},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"如果应用程序代码足够大，则使用","position":{"start":{"line":13,"column":5,"offset":607},"end":{"line":13,"column":20,"offset":622},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">ORM（object relational mapping）</code>","position":{"start":{"line":13,"column":20,"offset":622},"end":{"line":13,"column":52,"offset":654},"indent":[]}},{"type":"text","value":"框架（例如","position":{"start":{"line":13,"column":52,"offset":654},"end":{"line":13,"column":57,"offset":659},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">hibernate</code>","position":{"start":{"line":13,"column":57,"offset":659},"end":{"line":13,"column":69,"offset":671},"indent":[]}},{"type":"text","value":"，","position":{"start":{"line":13,"column":69,"offset":671},"end":{"line":13,"column":70,"offset":672},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">MyBatis</code>","position":{"start":{"line":13,"column":70,"offset":672},"end":{"line":13,"column":79,"offset":681},"indent":[]}},{"type":"text","value":" …）。ORM框架的性能问题可以通过详细的配置参数来处理。","position":{"start":{"line":13,"column":79,"offset":681},"end":{"line":13,"column":110,"offset":712},"indent":[]}}],"position":{"start":{"line":13,"column":5,"offset":607},"end":{"line":13,"column":110,"offset":712},"indent":[]}}],"position":{"start":{"line":13,"column":1,"offset":603},"end":{"line":13,"column":110,"offset":712},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"将大表、不用的表或很少使用的表，部分划分到不同的物理存储区以提高查询性能。","position":{"start":{"line":14,"column":5,"offset":717},"end":{"line":14,"column":42,"offset":754},"indent":[]}}],"position":{"start":{"line":14,"column":5,"offset":717},"end":{"line":14,"column":42,"offset":754},"indent":[]}}],"position":{"start":{"line":14,"column":1,"offset":713},"end":{"line":14,"column":42,"offset":754},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"对于大型，敏感和任务评论者数据库系统，使用灾难恢复和安全服务，如故障转移群集，自动备份，复制等。","position":{"start":{"line":15,"column":5,"offset":759},"end":{"line":15,"column":53,"offset":807},"indent":[]}}],"position":{"start":{"line":15,"column":5,"offset":759},"end":{"line":15,"column":53,"offset":807},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":755},"end":{"line":15,"column":53,"offset":807},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"使用约束（外键，检查，非空…）来保证数据的完整性。 不要把所有的控制权都交给程序代码处理。","position":{"start":{"line":16,"column":6,"offset":813},"end":{"line":16,"column":53,"offset":860},"indent":[]}}],"position":{"start":{"line":16,"column":6,"offset":813},"end":{"line":16,"column":53,"offset":860},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":808},"end":{"line":16,"column":53,"offset":860},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"缺乏数据库文档是非常可恶的。 用ER图和说明文档来记录数据库设计。 也为触发器，存储过程和其他脚本编写注释行。","position":{"start":{"line":17,"column":5,"offset":865},"end":{"line":17,"column":60,"offset":920},"indent":[]}}],"position":{"start":{"line":17,"column":5,"offset":865},"end":{"line":17,"column":60,"offset":920},"indent":[]}}],"position":{"start":{"line":17,"column":1,"offset":861},"end":{"line":17,"column":60,"offset":920},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"在大表上经常使用的查询创建索引。 分析工具可以用来确定需要定义哪些索引。 对于多行数据的查询，聚簇索引通常更好。 对于点查询，非聚集索引通常更好。","position":{"start":{"line":18,"column":5,"offset":925},"end":{"line":18,"column":78,"offset":998},"indent":[]}}],"position":{"start":{"line":18,"column":5,"offset":925},"end":{"line":18,"column":78,"offset":998},"indent":[]}}],"position":{"start":{"line":18,"column":1,"offset":921},"end":{"line":18,"column":78,"offset":998},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"数据库服务器和Web服务器必须放置在不同的机器上。 这将提供更高的安全性（攻击者无法直接访问数据），并且由于请求数量和进程使用率降低，服务器CPU和内存性能会更好。","position":{"start":{"line":19,"column":5,"offset":1003},"end":{"line":19,"column":87,"offset":1085},"indent":[]}}],"position":{"start":{"line":19,"column":5,"offset":1003},"end":{"line":19,"column":87,"offset":1085},"indent":[]}}],"position":{"start":{"line":19,"column":1,"offset":999},"end":{"line":19,"column":87,"offset":1085},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"由于性能问题，不得在频繁查询的表中定义图像和","position":{"start":{"line":20,"column":5,"offset":1090},"end":{"line":20,"column":27,"offset":1112},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">Blob</code>","position":{"start":{"line":20,"column":27,"offset":1112},"end":{"line":20,"column":33,"offset":1118},"indent":[]}},{"type":"text","value":"数据列。 这些数据必须放在单独的表中，并且它们的指针可以在查询的表中使用。","position":{"start":{"line":20,"column":33,"offset":1118},"end":{"line":20,"column":70,"offset":1155},"indent":[]}}],"position":{"start":{"line":20,"column":5,"offset":1090},"end":{"line":20,"column":70,"offset":1155},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":1086},"end":{"line":20,"column":70,"offset":1155},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"标准化必须根据需要使用，以优化性能。 欠规范化会导致数据的过度重复，过度规范化会导致太多表中的过多连接。两者都会影响性能。","position":{"start":{"line":21,"column":5,"offset":1160},"end":{"line":21,"column":66,"offset":1221},"indent":[]}}],"position":{"start":{"line":21,"column":5,"offset":1160},"end":{"line":21,"column":66,"offset":1221},"indent":[]}}],"position":{"start":{"line":21,"column":1,"offset":1156},"end":{"line":21,"column":66,"offset":1221},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"一定要为数据库设计留足够的时间，否则可能会花费比设计多成百上千倍的时间来维护设计不佳的数据库甚至需要重新设计。","position":{"start":{"line":22,"column":5,"offset":1226},"end":{"line":22,"column":60,"offset":1281},"indent":[]}}],"position":{"start":{"line":22,"column":5,"offset":1226},"end":{"line":22,"column":60,"offset":1281},"indent":[]}}],"position":{"start":{"line":22,"column":1,"offset":1222},"end":{"line":22,"column":60,"offset":1281},"indent":[]}}],"position":{"start":{"line":3,"column":1,"offset":58},"end":{"line":22,"column":60,"offset":1281},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":23,"column":1,"offset":1282}}}}