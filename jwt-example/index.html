<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Gatsby 5.4.1"/><meta name="google-adsense-account" content="ca-pub-1730830298664620" data-gatsby-head="true"/><meta name="keywords" content="coding" data-gatsby-head="true"/><meta name="description" content="使用spring-boot, spring security, jjtw 搭建的JWT示例项目" data-gatsby-head="true"/><meta property="og:title" content="[JWT] 基于SpringBoot的JSON Web Token使用示例 | Funny Eagle" data-gatsby-head="true"/><meta property="og:description" content="使用spring-boot, spring security, jjtw 搭建的JWT示例项目" data-gatsby-head="true"/><meta name="twitter:title" content="[JWT] 基于SpringBoot的JSON Web Token使用示例 | Funny Eagle" data-gatsby-head="true"/><meta name="twitter:card" content="summary" data-gatsby-head="true"/><meta name="twitter:url" content="http://funnyeagle.cn/jwt-example/" data-gatsby-head="true"/><meta name="twitter:description" content="使用spring-boot, spring security, jjtw 搭建的JWT示例项目" data-gatsby-head="true"/><meta name="twitter:creator" content="Jason Yang" data-gatsby-head="true"/><style data-href="/styles.f8ca6e598f2cd78c849d.css" data-identity="gatsby-global-css">@font-face{font-family:iconfont;src:url(//at.alicdn.com/t/c/font_4148646_r5782wuawno.woff2?t=1688391839150) format("woff2"),url(//at.alicdn.com/t/c/font_4148646_r5782wuawno.woff?t=1688391839150) format("woff"),url(//at.alicdn.com/t/c/font_4148646_r5782wuawno.ttf?t=1688391839150) format("truetype")}.iconfont{font-size:16px}.icon-rss:before{content:"\e739"}.icon-twitter:before{content:"\e743"}.icon-yinyong:before{content:"\e839"}.icon-menu:before{content:"\e677"}.icon-weibo:before{content:"\ea8c"}.icon-github-fill:before{content:"\eac8"}.icon-close:before{content:"\e6a7"}.icon-coding:before{content:"\e64c"}.icon-life:before{content:"\e627"}.icon-tag:before{content:"\e653"}.icon-person:before{content:"\e63a"}.icon-archive:before{content:"\eb4d"}.icon-music:before{content:"\e7c1"}:root{--radius:0.5rem}.light-theme{--backgroundColor:#f6f7fa;--backgroundColor2:#fff;--mainColor:#0a0a04;--mainDerive1:#046f3b;--mainDerive2:#0a0a04;--mainDerive3:#c6cb07;--linkColor:#046f3b;--fontColor:#543d5c;--codeBlock:#3c495b;--code:#c3c7cb;--divider:#d6d6d6;--buttonColor:#fff;--buttonBackgroundColor:#09aa6f;--hrColor:#dfdfdf;--tableHeadColor:#f8f9fa;--shadow:0 4px 10px rgba(0,2,4,.06),0 0 1px rgba(0,2,4,.11)}.dark-theme{--backgroundColor:#10171d;--backgroundColor2:#212327;--mainColor:#e8fa7f;--mainDerive1:#09aa6f;--mainDerive2:#e8fa7f;--mainDerive3:#e8fa7f;--linkColor:#09aa6f;--fontColor:#e5e5e5;--codeBlock:#181818;--code:#c3c7cb;--divider:#3e4b5e;--buttonColor:#fff;--buttonBackgroundColor:#09aa6f;--hrColor:#5c5c5c;--tableHeadColor:#3a3a3a;--shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.css-toc{color:var(--mainDerive1);display:block;font-size:14px;margin:0 20px;max-height:50vh;overflow-x:hidden;overflow-y:auto;position:-webkit-sticky;position:sticky;top:40vh}.css-toc>ul>li{padding-left:6px}.css-toc a{box-shadow:none;color:var(--mainDerive1);display:inline-block;overflow:hidden;padding-top:2px;text-overflow:ellipsis;vertical-align:middle;width:100%}.css-toc .active{color:var(--mainColor)}.css-toc>ul{padding-left:0}.css-toc ul{list-style-type:none;margin-bottom:0}.css-toc ul p{display:inline-block;vertical-align:top}.css-toc li{white-space:nowrap}.css-toc li>p{margin:0;width:90%}.css-toc li>ul{opacity:.7;padding-left:1rem}.css-toc p{margin:0;padding:0}blockquote{border-left:4px solid var(--mainDerive2);box-shadow:0 2px 4px rgba(0,0,0,.14);box-sizing:border-box;color:var(--fontColor);margin:40px 20px;padding:35px 15px 10px;position:relative}blockquote:before{color:var(--mainDerive2);content:"\e839";display:inline-block;font-family:iconfont;font-size:35px;left:5px;line-height:1;position:absolute;top:5px;vertical-align:middle}blockquote p{line-height:1.7;margin:10px 0!important;padding:0}blockquote cite{color:#888;display:block;font-size:.9em;text-align:right}h1,h2,h3,h4,h5,h6{color:var(--linkColor);font-weight:600}h1{color:var(--mainColor);font-size:29px;font-weight:400;margin-bottom:0}h2,h3,h4,h5,h6{margin:.5em 0;position:relative}.list-item{background-color:var(--backgroundColor2);border-radius:var(--radius);margin:15px 0;padding:15px}.list-item .list-title{font-size:1.4rem;line-height:1.3;margin-bottom:.24rem}.list-item .list-title a{color:var(--mainColor)}.list-item .list-title a:hover{color:var(--mainDerive3)}.list-item .list-date{color:var(--mainDerive1);margin-bottom:16px;margin-top:6px}.list-item .list-excerpt{line-height:1.6;margin:10px 0 0;word-break:break-all}.say{align-items:center;display:flex;flex-direction:row;justify-content:center;margin:5px}.say .avatar{background-image:url(https://i.loli.net/2020/02/17/jrcMkuQxz6Z98H1.png);background-size:cover;height:80px;width:80px}.say .balloon2-left{background:#fff;border:3px solid #555;box-sizing:border-box;color:#555;display:inline-block;font-size:16px;margin:1.5em 0 1.5em 15px;padding:7px 10px;position:relative;width:calc(100% - 100px)}.say .balloon2-left:before{border:12px solid transparent;border-right-color:#fff;content:"";left:-24px;margin-top:-12px;position:absolute;top:50%;z-index:2}.say .balloon2-left:after{border:14px solid transparent;border-right-color:#555;content:"";left:-30px;margin-top:-14px;position:absolute;top:50%;z-index:1}.css-tags{display:flex;flex-wrap:wrap;justify-content:space-around;list-style:none;margin:10px 0;overflow:hidden;padding:0}.css-tag{border-radius:3px 0 0 3px;display:inline-block;font-size:1.1rem;font-weight:300;height:26px;line-height:26px;margin:0 10px 20px 0;padding:0 20px 0 23px;position:relative;text-decoration:none;transition:color .2s}.css-tag a{box-shadow:none;color:#999}.css-tag a:hover{color:var(--mainColor)}.css-comment-submit{margin:40px auto;max-width:400px}.css-comment-submit .title{margin-bottom:12px}.css-comment-submit button,.css-comment-submit input,.css-comment-submit textarea{box-sizing:border-box;display:block;width:100%}.css-comment-submit input,.css-comment-submit textarea{background-color:var(--backgroundColor2);border:none;border-radius:3px;font-family:sans-serif;height:2rem;line-height:2rem;margin:0 0 10px;padding:0 10px}.css-comment-submit textarea{height:6rem}.css-comment-submit .row{display:flex;justify-content:space-around}.css-comment-submit .row p{flex-basis:200px}.css-child-comment-display .css-reply,.css-comment-display .css-reply{opacity:0}.css-child-comment-display:hover .css-reply,.css-comment-display:hover .css-reply{opacity:1}.css-child-comment-display .name,.css-comment-display .name{color:var(--mainColor);font-weight:300}.css-child-comment-display .date,.css-comment-display .date{color:var(--mainDerive1);font:.8rem;padding:0 0 0 15px}.css-child-comment-display .message,.css-comment-display .message{white-space:pre-wrap}.css-child-comment-display,.css-comment-display{border-bottom:1px solid var(--hrColor);padding:20px}.css-child-comment-display{margin-left:30px}.title1{border-bottom:3px solid #000}.title2{border-bottom:3px solid #364e96;border-top:3px solid #364e96;color:#364e96;padding:.5em 0}.title3{background:transparent;padding:.25em .5em}.title3,.title4{border-left:5px solid #7db4e6;color:#494949}.title4{background:#f4f4f4;border-bottom:3px solid #d7d7d7;padding:.4em .5em}.title5{background:#dbebf8;border-radius:25px 0 0 25px;color:#505050;display:inline-block;line-height:1.3;padding:.5em;vertical-align:middle}.title5:before{color:#fff;content:"●";margin-right:8px}.title6{display:inline-block;margin-bottom:1em;position:relative}.title6:before{background-color:#000;border-radius:2px;bottom:-15px;content:"";display:inline-block;height:5px;left:50%;position:absolute;transform:translateX(-50%);width:60px}.title7{display:inline-block;padding:0 45px;position:relative}.title7:after,.title7:before{background-color:#000;content:"";display:inline-block;height:2px;position:absolute;top:50%;transform:rotate(-60deg);width:44px}.title7:before{left:0}.title7:after{right:0}.title8{padding:.25em 0;position:relative}.title8:after{background:linear-gradient(90deg,#e65a5a,transparent);content:"";display:block;height:4px}.title9{border-bottom:3px solid var(--mainDerive3);font-size:26px;font-weight:200;line-height:2;position:relative}.title9:after{border-bottom:3px solid var(--mainColor);bottom:-3px;content:" ";display:block;position:absolute;width:20%}.box1{border:3px solid #000;font-weight:700;margin:2em 0;padding:.5em 1em}.box1 p{margin:0;padding:0}.box2{background:#fff;border:3px solid #6091d3;border-radius:10px;color:#6091d3;font-weight:700;margin:2em 0;padding:.5em 1em}.box2 p{margin:0;padding:0}.box4{background:#cde4ff;border-bottom:5px solid #5989cf;border-top:5px solid #5989cf;color:#2c2c2f;margin:2em 0;padding:8px 19px}.box4 p{margin:0;padding:0}.box8{background:#fff8e8;border-left:10px solid #ffc06e;color:#232323;margin:2em 0;padding:.5em 1em}.box8 p{margin:0;padding:0}.box10{background:#e4fcff;border-top:6px solid #1dc1d6;box-shadow:0 3px 4px rgba(0,0,0,.32);color:#00bcd4;margin:2em 0;padding:.5em 1em}.box10 p{margin:0;padding:0}.box11{background:#fff;border-top:5px solid #5d627b;box-shadow:0 3px 5px rgba(0,0,0,.22);color:#5d627b;margin:2em 0;padding:.5em 1em}.box11 p{margin:0;padding:0}.box14{background:#d6ebff;border:2px dashed #fff;box-shadow:0 0 0 10px #d6ebff;margin:2em 0;padding:.2em .5em}.box14 p{margin:0;padding:0}.box16{background:repeating-linear-gradient(-45deg,#f0f8ff,#f0f8ff 3px,#e9f4ff 0,#e9f4ff 7px);margin:2em 0;padding:.5em 1em}.box16 p{margin:0;padding:0}.box17{border-bottom:2px solid #000;border-top:2px solid #000;margin:2em 0;padding:.5em 1.5em;position:relative}.box17:after,.box17:before{background-color:#000;content:"";height:calc(100% + 20px);position:absolute;top:-10px;width:2px}.box17:before{left:10px}.box17:after{right:10px}.box17 p{margin:0;padding:0}.box19{padding:.25em 1em;position:relative}.box19:after,.box19:before{content:"";display:inline-block;height:30px;position:absolute;width:20px}.box19:before{border-left:1px solid #5767bf;border-top:1px solid #5767bf;left:0;top:0}.box19:after{border-bottom:1px solid #5767bf;border-right:1px solid #5767bf;bottom:0;right:0}.box19 p{margin:0;padding:0}.box22{background:#f4f4f4;border-left:6px solid #5bb7ae;box-shadow:0 2px 3px rgba(0,0,0,.33);margin:1em 0;padding:.5em 1em}.box22 p{margin:0;padding:0}.box23{background:#fff0c6;border-radius:30px;margin:2em 0 2em 40px;padding:8px 15px;position:relative}.box23:before{font-size:15px;left:-40px}.box23:after,.box23:before{bottom:0;color:#fff0c6;content:"\e68a";font-family:iconfont;position:absolute}.box23:after{font-size:21px;left:-23px}.box23 p{margin:0;padding:0}.box24{background:#e6f4ff;color:#5c98d4;font-weight:700;margin:2em 0;padding:.5em .7em;position:relative}.box24:after{border:15px solid transparent;border-top-color:#e6f4ff;content:"";height:0;left:30px;position:absolute;top:100%;width:0}.box24 p{margin:0;padding:0}.box26{border:3px solid #5d627b;border-radius:8px;margin:2em;padding:1em;position:relative}.box26 a{color:#5d627b}.box26 .box-title{background:#fff;color:#5d627b;display:inline-block;font-size:19px;font-weight:700;left:10px;line-height:1;padding:0 9px;position:absolute;top:-13px}.box26 p{margin:0;padding:0}.box27{border:1px solid var(--mainColor);margin:2em 0;padding:.5em 1em;position:relative}.box27 pre{overflow-x:auto}.box27 .box-title{background:var(--mainColor);border-radius:5px 5px 0 0;color:#fff;display:inline-block;font-size:17px;height:25px;left:-1px;line-height:25px;padding:0 9px;position:absolute;top:-25px;vertical-align:middle}.box27 p{margin:0;padding:0}.box29{background:#dcefff;margin:2em 0}.box29 .box-title{background:#5fb3f5;color:#fff;font-size:1.2em;font-weight:700;letter-spacing:.05em;padding:4px;text-align:center}.box29 p{margin:0;padding:15px 20px}.link-card-wrapper{display:flex;flex-wrap:wrap}.link-card{align-items:center;background-color:var(--backgroundColor2);border-radius:3px;box-shadow:none;box-sizing:border-box;display:flex;flex-direction:row;justify-content:center;margin:10px;padding:12px;width:45%}.link-card .noimage,.link-card img{background-color:var(--backgroundColor);border-radius:3px;height:55px;width:55px}.link-card .noimage{flex-shrink:0;font-family:sans-serif;font-size:35px;font-weight:700;line-height:55px;text-align:center}.link-card img{margin:0!important;object-fit:contain}.link-card .info{flex-grow:1;min-width:0;padding-left:10px}.link-card .info .title{font-size:1.2rem}.link-card .info .description,.link-card .info .title{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.link-card .info .description{color:#aaa;font-size:.7rem}.dark-theme .gatsby-code-title{background:var(--codeBlock)}.dark-theme code[class*=language-],.dark-theme pre[class*=language-]{word-wrap:normal;background:none;color:var(--code);font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;-webkit-hyphens:none;hyphens:none;line-height:1.5;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}.dark-theme :not(pre)>code[class*=language-],.dark-theme pre[class*=language-]{background:var(--codeBlock)}.dark-theme pre[class*=language-]{margin:.5em 0;overflow:auto;padding:1em}.dark-theme pre[class*=language-]::selection{background:#27292a}.dark-theme code[class*=language-] ::selection,.dark-theme code[class*=language-]::selection,.dark-theme pre[class*=language-] ::selection,.dark-theme pre[class*=language-]::selection{background:hsla(0,0%,93%,.15)}.dark-theme :not(pre)>code[class*=language-]{border-radius:.3em;padding:.05em;white-space:normal}.dark-theme .token.cdata,.dark-theme .token.comment,.dark-theme .token.doctype,.dark-theme .token.prolog{color:#787878}.dark-theme .namespace,.dark-theme .token.punctuation{opacity:.7}.dark-theme .token.boolean,.dark-theme .token.deleted,.dark-theme .token.number,.dark-theme .token.tag{color:#cf694a}.dark-theme .token.builtin,.dark-theme .token.constant,.dark-theme .token.keyword,.dark-theme .token.property,.dark-theme .token.selector,.dark-theme .token.symbol{color:#f9ee9a}.dark-theme .language-css .token.string,.dark-theme .style .token.string,.dark-theme .token.attr-name,.dark-theme .token.attr-value,.dark-theme .token.char,.dark-theme .token.entity,.dark-theme .token.inserted,.dark-theme .token.operator,.dark-theme .token.string,.dark-theme .token.url,.dark-theme .token.variable{color:#919e6b}.dark-theme .token.atrule{color:#7386a5}.dark-theme .token.important,.dark-theme .token.regex{color:#e9c163}.dark-theme .token.bold,.dark-theme .token.important{font-weight:700}.dark-theme .token.italic{font-style:italic}.dark-theme .token.entity{cursor:help}.dark-theme pre[data-line]{padding:1em 0 1em 3em;position:relative}.dark-theme .language-markup .token.attr-name,.dark-theme .language-markup .token.punctuation,.dark-theme .language-markup .token.tag{color:#ad895c}.dark-theme .token{position:relative;z-index:1}.dark-theme .line-highlight{background:rgba(84,84,84,.25);background:linear-gradient(90deg,rgba(84,84,84,.1) 70%,rgba(84,84,84,0));border-bottom:1px dashed #545454;border-top:1px dashed #545454;left:0;line-height:inherit;margin-top:.75em;padding-bottom:inherit;padding-left:0;padding-right:0;padding-top:inherit;pointer-events:none;position:absolute;right:0;white-space:pre;z-index:0}.dark-theme .line-highlight:before,.dark-theme .line-highlight[data-end]:after{background-color:#8794a6;border-radius:999px;color:#f5f2f0;content:attr(data-start);font:700 65%/1.5 sans-serif;left:.6em;min-width:1em;padding:0 .5em;position:absolute;text-align:center;top:.4em;vertical-align:.3em}.dark-theme .line-highlight[data-end]:after{bottom:.4em;content:attr(data-end);top:auto}.dark-theme .language-text,.dark-theme a{word-break:break-all!important}.light-theme .gatsby-code-title{background:#faf8f5}.light-theme code[class*=language-],.light-theme pre[class*=language-]{word-wrap:normal;background:none;color:#000;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;-webkit-hyphens:none;hyphens:none;line-height:1.5;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}.light-theme pre[class*=language-]{margin:.5em 0;overflow:visible;padding:0;position:relative}.light-theme pre[class*=language-]>code{position:relative}.light-theme code[class*=language]{background:#faf8f5;border-radius:3px;display:block;height:inherit;margin:0;max-height:inherit;overflow:auto;padding:1em}.light-theme :not(pre)>code[class*=language-]{color:#c92c2c;display:inline;padding:.15em;position:relative;white-space:normal}.light-theme .token.block-comment,.light-theme .token.cdata,.light-theme .token.comment,.light-theme .token.doctype,.light-theme .token.prolog{color:#7d8b99}.light-theme .token.punctuation{color:#5f6364}.light-theme .token.boolean,.light-theme .token.constant,.light-theme .token.deleted,.light-theme .token.function-name,.light-theme .token.number,.light-theme .token.property,.light-theme .token.symbol,.light-theme .token.tag{color:#c92c2c}.light-theme .token.attr-name,.light-theme .token.builtin,.light-theme .token.char,.light-theme .token.function,.light-theme .token.inserted,.light-theme .token.selector,.light-theme .token.string{color:#2f9c0a}.light-theme .token.entity,.light-theme .token.operator,.light-theme .token.url,.light-theme .token.variable{background:hsla(0,0%,100%,.5);color:#a67f59}.light-theme .token.atrule,.light-theme .token.attr-value,.light-theme .token.class-name,.light-theme .token.keyword{color:#1990b8}.light-theme .token.important,.light-theme .token.regex{color:#e90}.light-theme .language-css .token.string,.light-theme .style .token.string{background:hsla(0,0%,100%,.5);color:#a67f59}.light-theme .token.important{font-weight:400}.light-theme .token.bold{font-weight:700}.light-theme .token.italic{font-style:italic}.light-theme .token.entity{cursor:help}.light-theme .namespace{opacity:.7}@media screen and (max-width:767px){.light-theme pre[class*=language-]:after,.light-theme pre[class*=language-]:before{bottom:14px;box-shadow:none}}.light-theme .token.cr:before,.light-theme .token.lf:before,.light-theme .token.tab:not(:empty):before{color:#e0d7d1}.light-theme pre[class*=language-].line-numbers.line-numbers{padding-left:0}.light-theme pre[class*=language-].line-numbers.line-numbers code{padding-left:3.8em}.light-theme pre[class*=language-].line-numbers.line-numbers .line-numbers-rows{left:0}.light-theme pre[class*=language-][data-line]{padding-bottom:0;padding-left:0;padding-top:0}.light-theme pre[data-line] code{padding-left:4em;position:relative}.light-theme pre .line-highlight{margin-top:0}.iconfont{-webkit-font-smoothing:antialiased;-webkit-text-stroke-width:.2px;-moz-osx-font-smoothing:grayscale;font-family:iconfont!important;font-style:normal}::-webkit-scrollbar{height:10px;width:10px}::-webkit-scrollbar-track{background:#ddd}::-webkit-scrollbar-thumb{background:var(--mainDerive1)}.usubeni{color:grey}.inline-block{display:inline-block}article,aside,div,footer,header,p{box-sizing:border-box}body{-webkit-touch-callout:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased!important;background-color:var(--backgroundColor);color:var(--fontColor);font-family:Courier New,SimSun,STSong,Hiragino Sans GB,Microsoft YaHei,Source Han Sans CN,WenQuanYi Micro Hei;font-size:16px;margin:0;outline:none;padding:0;transition:background-color .5s ease-in-out}.mask{animation:fade-out 4s linear;animation-fill-mode:forwards;background:linear-gradient(90deg,#fff,#fff 50%,hsla(0,0%,100%,0));height:100%;left:0;position:fixed;top:0;width:300%;z-index:20}@keyframes fade-out{0%{left:0;opacity:1}to{left:-300%;opacity:0;width:0}}img{background:var(--backgroundColor)}hr{background:var(--hrColor);border:none;color:var(--hrColor);height:1px;margin-top:40px;width:100%}a{color:var(--linkColor);text-decoration:none;word-break:break-all}footer{font-family:sans-serif;font-size:14px;padding:30px 0;text-align:center}table{border:1px solid #e9e9e9;border-collapse:collapse;font-size:15px;margin:1em 0;overflow-wrap:break-word;table-layout:fixed;width:100%}table th{background-color:var(--tableHeadColor);text-align:left}table tr>td,table tr>th{border:1px solid #e9e9e9;padding:.5em .8em}li>p{margin:0}button{background-color:var(--buttonBackgroundColor);border:none;border-radius:3px;color:var(--buttonColor);cursor:pointer;display:inline-block;margin-bottom:.3rem;padding:.5rem 1rem;text-decoration:none;transition:.4s}input,textarea{background:transparent;border:none;color:var(--fontColor);outline:none}button,input{text-align:center}.gatsby-resp-image-link{box-shadow:none}.page-name{color:#046f3b;font-size:1em;text-align:center}.css-aside{margin-top:30px;width:220px}.css-aside .column{align-items:center;flex-direction:column}.css-aside .row{flex-direction:row;flex-wrap:wrap;justify-content:space-around}.css-aside .row a{border:none!important}.css-aside .css-menu{display:flex;margin:10px auto}.css-aside .css-menu a{box-shadow:none;color:var(--mainDerive4);display:inline-block;font-size:1.1rem;letter-spacing:7px;line-height:1.8;padding:.25em 1em;position:relative;vertical-align:middle;word-spacing:5px}.css-aside .css-menu a:hover{color:var(--mainDerive3)}.css-aside .css-menu a .iconfont{font-size:1.5rem;margin-right:.3rem;vertical-align:middle}.css-aside .css-menu a+a{border-top:1px solid var(--divider)}.css-aside .css-bio{align-items:center;box-sizing:border-box;color:var(--linkColor);display:flex;padding:15px 15px 0;text-align:center}.css-aside .css-bio .css-avatar{border-radius:50%;margin-right:12px;overflow:hidden;width:60px}.css-aside .css-bio .author-wrapper{flex-grow:1}.css-aside .css-bio .author{font-size:1.2rem;text-align:left}.css-header a .logo{display:block;height:100%;transition:background-color .5s ease-in-out;width:100%}.css-header a .logo-mobile{color:#919404;display:block;font-size:1.5rem;font-weight:700;margin-left:2rem}.social-media{display:flex;justify-content:space-around;margin:auto;padding-top:.5rem;width:200px}.social-media a{box-shadow:none}.social-media .iconfont{color:var(--linkColor);font-size:1.3rem}.css-main{display:flex;justify-content:center;margin:auto;max-width:1200px}.css-post{flex-grow:1;line-height:1.8;margin:20px;max-width:900px}.css-post strong{margin:3px}.css-post .css-post-main{background-color:var(--backgroundColor2);border-radius:var(--radius);margin-top:3rem;padding:15px}.css-post .css-post-main p{word-wrap:break-word;margin-bottom:29px;word-break:break-word}.css-post .css-post-main ul{margin-bottom:29px}.css-post .css-post-main p+ol,.css-post .css-post-main p+ul{margin-bottom:1.5em;margin-top:-1.3em}.css-post .css-post-main p>img{display:block;left:-15px;margin:auto;max-height:650px;max-width:calc(100% + 30px);position:relative}.css-post .css-post-main .anchor{box-shadow:none}.css-post .css-post-main .anchor svg{fill:gray}.css-post .css-post-main a:active,.css-post .css-post-main a:hover{box-shadow:0 1px 0 0 currentColor}.css-post .css-archive{padding:15px 25px}.css-post .css-archive .item{background-color:var(--backgroundColor2);border-radius:var(--radius);display:flex;font-size:16px;margin-bottom:6px;padding:6px 12px}.css-post .css-archive .item .date{display:inline-block;margin-right:10px;opacity:.6;text-align:left;width:4em}.css-post .css-archive .item .title{box-shadow:none;flex-grow:1;width:300px}.css-post table{border:none;overflow:auto}.css-info{color:var(--mainDerive1);font-size:1em}.css-info .iconfont{padding:0 5px}.css-info .iconfont:first-of-type{padding:0 5px 0 0}.menu-button{display:none}.page-description{margin-bottom:.5rem}.inline-button{color:var(--linkColor);cursor:pointer;margin-left:1rem;transition:.4s}.inline-button:hover{color:var(--mainColor)}.theme-toggle{background-color:var(--backgroundColor);border-radius:50%;bottom:18px;box-shadow:var(--shadow);cursor:pointer;font-size:16px;font-weight:200;font-weight:bolder;padding:10px;position:fixed;right:12px}@keyframes fade-in{0%{filter:blur(8px);opacity:0}to{filter:blur(0);opacity:1}}@media screen and (max-width:1000px){.css-main{display:block;width:100%}.css-post{margin:45px auto auto;padding:15px;width:100%}.css-header{background-color:var(--backgroundColor2);height:60px;left:0;line-height:60px;padding:0 10px;position:fixed;top:0;width:100%;z-index:9}.css-header a{height:100%;padding-left:1rem;width:20%;word-break:normal!important}.css-header a .logo-mobile{color:#919404;display:inline;font-size:1rem;font-weight:700}.css-header .page-description,.css-header a .logo{display:none}.css-header .page-name{color:#046f3b;display:inline;margin-left:1em}.css-header .menu-button{cursor:pointer;display:block;position:inherit;top:0;-webkit-user-select:none;user-select:none}.css-header .menu-button .iconfont{font-size:30px}.css-aside{background-color:var(--backgroundColor2);bottom:0;overflow-y:auto;padding:50px 0 0;position:fixed;right:-100%;top:0;transition:all .6s ease-in-out;width:15rem;z-index:9}.open{left:0}.link-card-wrapper{width:100%}}.gatsby-resp-image-wrapper{max-width:100%!important}.language-text{word-break:break-all!important}.anchor.before{left:unset!important;right:0!important}.code-title{border-top-right-radius:.3em;display:block;margin-bottom:0;top:10px;width:100%}.code-title,.code-title span{border-top-left-radius:.3em;position:relative}.code-title span{border-bottom-right-radius:.3em;display:inline;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;opacity:.7;padding:3px 12px;top:1px}.button-wrapper{align-items:center;display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding-top:30px}.button-wrapper .page-button{display:block}</style><title data-gatsby-head="true">[JWT] 基于SpringBoot的JSON Web Token使用示例 | Funny Eagle</title><script src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1730830298664620" crossorigin="anonymous" data-gatsby-head="true"></script><link rel="canonical" href="http://funnyeagle.cn/jwt-example/" data-gatsby-head="true"/><link rel="alternate" type="application/rss+xml" title="Funny Eagle" href="/rss.xml"/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="sitemap" type="application/xml" href="/sitemap-index.xml"/><link rel="preconnect" href="https://www.googletagmanager.com"/><link rel="dns-prefetch" href="https://www.googletagmanager.com"/><script>       
          var theme = 'light'
          let localTheme = localStorage.getItem('theme')
          if (localTheme) {
            if (localTheme === 'light') {
              theme = 'light'
            } else {
              theme = 'dark'
            }
          } else if (window.matchMedia) {
            if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
              theme = 'dark'
            } else {
              theme = 'light'
            }
          } else {
            // default light
            theme = 'light'
          }
          document.documentElement.className = theme + '-theme'
    </script><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"/><meta name="format-detection" content="email=no,telephone=no,address=no"/><meta name="baidu-site-verification" content="rVEuQMP8C6"/><link rel="apple-touch-icon" sizes="180x180" href="/icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/icon.png"/><link rel="icon" type="image/png" sizes="16x16" href="/icon.png"/><link rel="manifest" href="/site.webmanifest"/><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css" integrity="sha384-vKruj+a13U8yHIkAyGgK1J3ArTLzrFGBbBc0tDp4ad/EyewESeXE/Iv67Aj8gKZ0" crossorigin="anonymous"/><meta name="msapplication-TileColor" content="#da532c"/><meta name="theme-color" content="#ffffff"/><meta name="baidu-site-verification" content="codeva-KiUgz2gAMo"/><meta name="google-adsense-account" content="ca-pub-1730830298664620"/><script async="" src="https://funnyeagle.cn/tongji.js" crossorigin="anonymous"></script></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div><div class="css-main"><aside class="css-aside close"><header class="css-header"><div><a style="box-shadow:none;text-decoration:none;font-weight:200" class="usubeni" href="/"><span class="logo-mobile">Funny Eagle</span></a></div><div class="menu-button"><i class="iconfont icon-menu"></i></div><meta name="google-adsense-account" content="ca-pub-1730830298664620"/><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1730830298664620" crossorigin="anonymous"></script></header><div class="css-toc"><ul>
<li><a href="#1%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAspring-boot%E9%A1%B9%E7%9B%AE%E9%85%8D%E7%BD%AEmaven%E5%9D%90%E6%A0%87%E9%9C%80%E8%A6%81%E4%BD%BF%E7%94%A8%E5%88%B0-spring-boot-starter-webspring-boot-starter-security-%E4%BB%A5%E5%8F%8A-jwt%E4%B8%BA%E4%BA%86%E7%AE%80%E5%8C%96%E4%BB%A3%E7%A0%81%E4%BD%BF%E7%94%A8%E4%BA%86lombok">1、创建一个spring-boot项目，配置maven坐标，需要使用到 spring-boot-starter-web、spring-boot-starter-security 以及 jwt，为了简化代码，使用了lombok。</a></li>
<li><a href="#2spring-boot%E5%B7%A5%E7%A8%8B%E6%90%AD%E5%BB%BA%E5%A5%BD%E4%B9%8B%E5%90%8E%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAhellocontroller%E5%86%99%E4%B8%80%E4%B8%AAget%E8%AF%B7%E6%B1%82%E7%9A%84-rest-api-hello">2、spring-boot工程搭建好之后，创建一个HelloController，写一个GET请求的 REST API <code>/hello</code></a></li>
<li><a href="#3%E6%8E%A5%E4%B8%8B%E6%9D%A5%E5%BC%80%E5%A7%8B%E9%85%8D%E7%BD%AEspring-security-%E5%92%8C-jwt">3、接下来开始配置spring security 和 JWT。</a></li>
</ul></div></aside><article class="css-post"><h1>[JWT] 基于SpringBoot的JSON Web Token使用示例</h1><div class="css-info"><span style="padding-right:12px">2023-11-16</span><span style="padding-right:8px"><a href="/tag/coding/">#<!-- -->coding</a></span></div><div class="css-post-main"><blockquote>
<p>上一篇<a href="http://www.funnyeagle.cn/Introduction-to-jwt/">JSON Web Token 入门简介</a>中，我们了解了什么是 JWT 以及使用场景等。本示例项目中，我们会搭建一个<code>spring-boot</code> 应用，利用 <code>JWT</code> 身份验证来保护公开的 <code>REST API</code>。该项目没有使用数据库，用硬编码的用户名和密码进行用户身份验证。只有客户端发起携带有效的 <code>JSON Web Token</code> （JWT） 请求时，它才能使用此 API。</p>
</blockquote>
<p>项目类图如下：
<span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/0da4b5e702886e846afb206a62b680ae/37f8f/jwt-uml.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 61.48648648648649%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAABvElEQVR42m1RWXKrMBD0cdAAQexYQhJCK4sNXl7l3f8kCWCn8pGpril9TGumu08IAAUBCgIAhBAQUitjuVSUMdLyqsq1dVKZsq7KqirLMoqi8F2noqoo54yLummCABkplsc/5QZpnDSek2a5PfRwcVbPy83PC8YpALzIlNJtThnScgTQcXG9f87r0wxzpy1tyLTe9XDx1s3r3U3XLMsB0IsMsB0eRREABEEgGb89/0/rU2rLpCJ17eer9jNnglBWVHUcx4De5L1HKcZJipME53mepllZlaRllPEzoYS2xSb1xYn3epHjKPRW2/HSW2/coIxTZvBazsvNjhepjJ/XXhlrjB4m7by2vjdOSEVbdorCUHDeKUNbTpk4IIXw46zdyITk+xxjnAm53UJZfaakZWVVb2cjhI6o3iFAknw05zNhvGWCcVEUJdqsgRBgTzTYgXbNUfQ7PQSQp8njfrs8PrX10/Loev1jUhhGb2xuw2748e/xgAyny3Kf1qd2o5uurJM/2f6uU4JxludZlsUfSZbnGGMAiOO4rpuqbrK8KPce/knuezXM106Zc9PYYWS8O5YcwjaBCP259pv8BbkQmidCVfPvAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="jwt-uml"
        title=""
        src="/static/0da4b5e702886e846afb206a62b680ae/fcda8/jwt-uml.png"
        srcset="/static/0da4b5e702886e846afb206a62b680ae/12f09/jwt-uml.png 148w,
/static/0da4b5e702886e846afb206a62b680ae/e4a3f/jwt-uml.png 295w,
/static/0da4b5e702886e846afb206a62b680ae/fcda8/jwt-uml.png 590w,
/static/0da4b5e702886e846afb206a62b680ae/efc66/jwt-uml.png 885w,
/static/0da4b5e702886e846afb206a62b680ae/c83ae/jwt-uml.png 1180w,
/static/0da4b5e702886e846afb206a62b680ae/37f8f/jwt-uml.png 3056w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<p>就这么几个类，下面直接开始吧！</p>
<h4 id="1创建一个spring-boot项目配置maven坐标需要使用到-spring-boot-starter-webspring-boot-starter-security-以及-jwt为了简化代码使用了lombok" style="position:relative;"><a href="#1%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAspring-boot%E9%A1%B9%E7%9B%AE%E9%85%8D%E7%BD%AEmaven%E5%9D%90%E6%A0%87%E9%9C%80%E8%A6%81%E4%BD%BF%E7%94%A8%E5%88%B0-spring-boot-starter-webspring-boot-starter-security-%E4%BB%A5%E5%8F%8A-jwt%E4%B8%BA%E4%BA%86%E7%AE%80%E5%8C%96%E4%BB%A3%E7%A0%81%E4%BD%BF%E7%94%A8%E4%BA%86lombok" aria-label="1创建一个spring boot项目配置maven坐标需要使用到 spring boot starter webspring boot starter security 以及 jwt为了简化代码使用了lombok permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1、创建一个spring-boot项目，配置maven坐标，需要使用到 spring-boot-starter-web、spring-boot-starter-security 以及 jwt，为了简化代码，使用了lombok。</h4>
<p>完整的pom.xml 如下：</p>
<deckgo-highlight-code language="xml" terminal="carbon" theme="one-dark" line-numbers="true"  >
          <code slot="code">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;
         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
    &lt;parent&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
        &lt;version&gt;2.5.0&lt;/version&gt;
        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;
    &lt;/parent&gt;
    &lt;groupId&gt;cn.funnyealge&lt;/groupId&gt;
    &lt;artifactId&gt;jwt-example&lt;/artifactId&gt;
    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
    &lt;name&gt;jwt-example&lt;/name&gt;
    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;
    &lt;properties&gt;
        &lt;java.version&gt;8&lt;/java.version&gt;
    &lt;/properties&gt;
    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;
            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;
            &lt;version&gt;0.9.1&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;
            &lt;artifactId&gt;lombok&lt;/artifactId&gt;
            &lt;optional&gt;true&lt;/optional&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;

    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
                &lt;configuration&gt;
                    &lt;image&gt;
                        &lt;builder&gt;paketobuildpacks/builder-jammy-base:latest&lt;/builder&gt;
                    &lt;/image&gt;
                    &lt;excludes&gt;
                        &lt;exclude&gt;
                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;
                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;
                        &lt;/exclude&gt;
                    &lt;/excludes&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
    &lt;repositories&gt;
        &lt;repository&gt;
            &lt;id&gt;spring-milestones&lt;/id&gt;
            &lt;name&gt;Spring Milestones&lt;/name&gt;
            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;
            &lt;snapshots&gt;
                &lt;enabled&gt;false&lt;/enabled&gt;
            &lt;/snapshots&gt;
        &lt;/repository&gt;
        &lt;repository&gt;
            &lt;id&gt;spring-snapshots&lt;/id&gt;
            &lt;name&gt;Spring Snapshots&lt;/name&gt;
            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;
            &lt;releases&gt;
                &lt;enabled&gt;false&lt;/enabled&gt;
            &lt;/releases&gt;
        &lt;/repository&gt;
    &lt;/repositories&gt;
    &lt;pluginRepositories&gt;
        &lt;pluginRepository&gt;
            &lt;id&gt;spring-milestones&lt;/id&gt;
            &lt;name&gt;Spring Milestones&lt;/name&gt;
            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;
            &lt;snapshots&gt;
                &lt;enabled&gt;false&lt;/enabled&gt;
            &lt;/snapshots&gt;
        &lt;/pluginRepository&gt;
        &lt;pluginRepository&gt;
            &lt;id&gt;spring-snapshots&lt;/id&gt;
            &lt;name&gt;Spring Snapshots&lt;/name&gt;
            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;
            &lt;releases&gt;
                &lt;enabled&gt;false&lt;/enabled&gt;
            &lt;/releases&gt;
        &lt;/pluginRepository&gt;
    &lt;/pluginRepositories&gt;

&lt;/project&gt;
</code>
        </deckgo-highlight-code>
<h4 id="2spring-boot工程搭建好之后创建一个hellocontroller写一个get请求的-rest-api-hello" style="position:relative;"><a href="#2spring-boot%E5%B7%A5%E7%A8%8B%E6%90%AD%E5%BB%BA%E5%A5%BD%E4%B9%8B%E5%90%8E%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAhellocontroller%E5%86%99%E4%B8%80%E4%B8%AAget%E8%AF%B7%E6%B1%82%E7%9A%84-rest-api-hello" aria-label="2spring boot工程搭建好之后创建一个hellocontroller写一个get请求的 rest api hello permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2、spring-boot工程搭建好之后，创建一个HelloController，写一个GET请求的 REST API <code>/hello</code></h4>
<deckgo-highlight-code language="java" terminal="carbon" theme="one-dark" line-numbers="true"  >
          <code slot="code">package cn.funnyealge.jwt.controller;

import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;

/**
 * @author yangjl
 * @description Hello Controller
 * @date 2023-11-15 10:43
 **/
@RestController
public class HelloController {

    @GetMapping(&quot;/hello&quot;)
    public String hello() {
        return &quot;Hello, World!&quot;;
    }
}
</code>
        </deckgo-highlight-code>
<p>此时启动项目的话，通过 <code>http://localhost:8080/hello</code> 可以直接访问到这个API的。</p>
<h4 id="3接下来开始配置spring-security-和-jwt" style="position:relative;"><a href="#3%E6%8E%A5%E4%B8%8B%E6%9D%A5%E5%BC%80%E5%A7%8B%E9%85%8D%E7%BD%AEspring-security-%E5%92%8C-jwt" aria-label="3接下来开始配置spring security 和 jwt permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3、接下来开始配置spring security 和 JWT。</h4>
<p>3.1 创建<code>JwtUtil</code>类，用于创建、验证<code>JWT</code>以及获取<code>JWT</code>中的信息。</p>
<deckgo-highlight-code language="java" terminal="carbon" theme="one-dark" line-numbers="true"  >
          <code slot="code">package cn.funnyealge.jwt.config;

import io.jsonwebtoken.Claims;
import io.jsonwebtoken.Jwts;
import io.jsonwebtoken.SignatureAlgorithm;
import org.springframework.beans.factory.annotation.Value;
import org.springframework.security.core.userdetails.UserDetails;
import org.springframework.stereotype.Component;

import java.io.Serializable;
import java.util.Date;
import java.util.HashMap;
import java.util.Map;
import java.util.function.Function;

/**
 * @author yangjl
 * @description jwt util
 * @date 2023-11-15 11:21
 **/
@Component
public class JwtUtil implements Serializable {
    public static final long JWT_TOKEN_VALIDITY = 5 * 60 * 60;
    private static final long serialVersionUID = 1L;
    @Value(&quot;${jwt.secret}&quot;)
    private String secret;

    /**
     * 从token中获取username
     */
    public String getUserNameFromToken(String token) {
        return getClaimFromToken(token, Claims::getSubject);
    }

    /**
     * 从token中获取过期时间
     *
     * @param token
     * @return
     */
    public Date getExpirationDateFromToken(String token) {
        return getClaimFromToken(token, Claims::getExpiration);
    }

    public &lt;T&gt; T getClaimFromToken(String token, Function&lt;Claims, T&gt; claimsResolver) {
        Claims claims = getAllClaimsFromToken(token);
        return claimsResolver.apply(claims);
    }

    /**
     * 从token中获取信息
     *
     * @param token
     * @return
     */
    private Claims getAllClaimsFromToken(String token) {
        return Jwts.parser().setSigningKey(secret).parseClaimsJws(token).getBody();
    }

    /**
     * 检查token是否过期
     *
     * @param token
     * @return
     */
    private boolean isTokenExpired(String token) {
        Date expiration = getExpirationDateFromToken(token);
        return expiration.before(new Date());
    }


    public String generateToken(UserDetails userDetails) {
        Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;(16);
        return doGenerateToken(claims, userDetails.getUsername());
    }

    /**
     * 使用Jwts生成Token
     *
     * @param claims
     * @param subject
     * @return
     */
    private String doGenerateToken(Map&lt;String, Object&gt; claims, String subject) {
        return Jwts.builder()
                .setClaims(claims)
                .setSubject(subject)
                .setIssuedAt(new Date(System.currentTimeMillis()))
                .setExpiration(new Date(System.currentTimeMillis() + JWT_TOKEN_VALIDITY * 1000))
                .signWith(SignatureAlgorithm.HS512, secret)
                .compact();
    }

    /**
     * 验证token
     *
     * @param token
     * @param userDetails
     * @return
     */
    public Boolean validateToken(String token, UserDetails userDetails) {
        String username = getUserNameFromToken(token);
        return username.equals(userDetails.getUsername()) &amp;&amp; !isTokenExpired(token);
    }

}
</code>
        </deckgo-highlight-code>
<p>3.2 创建<code>JWTUserDetailsService</code>类,实现了 spring security 的UserDetailsService 接口，重写loadUserByUsername方法，通过用户名获取用户详细信息，此处没有使用数据库，使用硬编码的方式定义了一个用户，实际应用中应该从数据库中查询用户信息。其中密码是经过<code>bcrypt</code>加密的，如果需要修改，搜一个在线Bcrypt密码生成工具生成替换一下就可以。</p>
<deckgo-highlight-code language="java" terminal="carbon" theme="one-dark" line-numbers="true"  >
          <code slot="code">package cn.funnyealge.jwt.service;

import org.springframework.security.core.userdetails.User;
import org.springframework.security.core.userdetails.UserDetails;
import org.springframework.security.core.userdetails.UserDetailsService;
import org.springframework.security.core.userdetails.UsernameNotFoundException;
import org.springframework.stereotype.Service;

import java.util.ArrayList;

/**
 * @author yangjl
 * @description
 * @date 2023-11-15 13:34
 **/
@Service
public class JtwUserDetailService implements UserDetailsService {
    @Override
    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {
        if (&quot;funnyeagle&quot;.equals(username)) {
            return new User(&quot;funnyeagle&quot;, &quot;$2a$10$JQEWsaUWgp6zYk1cvLvHMuM6kcLbmAdWPrp9QCSNYswu.kFum9PIq&quot;, new ArrayList&lt;&gt;());
        }

        throw new UsernameNotFoundException(&quot;User not found with username:&quot; + username);
    }
}
</code>
        </deckgo-highlight-code>
<p>3.3 创建<code>JwtRequest</code>类，包含用户名和密码，客户端向服务端发送请求时使用。</p>
<deckgo-highlight-code language="java" terminal="carbon" theme="one-dark" line-numbers="true"  >
          <code slot="code">package cn.funnyealge.jwt.model;

import lombok.Data;

import java.io.Serializable;

/**
 * @author yangjl
 * @description
 * @date 2023-11-15 13:50
 **/
@Data
public class JwtRequest implements Serializable {
    private static final long serialVersionUID = 1L;

    private String username;
    private String password;
}</code>
        </deckgo-highlight-code>
<p>3.4 创建<code>JwtResponse</code>类，包含token属性，用于向客户端返回数据</p>
<deckgo-highlight-code language="java" terminal="carbon" theme="one-dark" line-numbers="true"  >
          <code slot="code">package cn.funnyealge.jwt.model;

import lombok.Data;

import java.io.Serializable;

/**
 * @author yangjl
 * @description
 * @date 2023-11-15 13:52
 **/
@Data
public class JwtResponse implements Serializable {
    private static final long serialVersionUID = 1L;

    private final String token;

    public JwtResponse(String token) {
        this.token = token;
    }
}
</code>
        </deckgo-highlight-code>
<p>3.5 创建<code>JwtAuthenticationController</code>类，包含一个POST <code>/authenticate</code> API，调用<code>AuthenticationManager</code>的<code>authenticate()</code>方法对用户名和密码进行验证，验证通过则使用JwtUtil创建JWT token返回给客户端。</p>
<deckgo-highlight-code language="java" terminal="carbon" theme="one-dark" line-numbers="true"  >
          <code slot="code">package cn.funnyealge.jwt.controller;

import cn.funnyealge.jwt.config.JwtUtil;
import cn.funnyealge.jwt.model.JwtRequest;
import cn.funnyealge.jwt.model.JwtResponse;
import cn.funnyealge.jwt.service.JtwUserDetailService;
import org.springframework.http.ResponseEntity;
import org.springframework.security.authentication.AuthenticationManager;
import org.springframework.security.authentication.BadCredentialsException;
import org.springframework.security.authentication.DisabledException;
import org.springframework.security.authentication.UsernamePasswordAuthenticationToken;
import org.springframework.security.core.userdetails.UserDetails;
import org.springframework.web.bind.annotation.CrossOrigin;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RestController;

import javax.annotation.Resource;

/**
 * @author yangjl
 * @description
 * @date 2023-11-15 13:43
 **/
@RestController
@CrossOrigin
public class JwtAuthenticationController {

    @Resource
    private AuthenticationManager authenticationManager;

    @Resource
    private JwtUtil jwtUtil;

    @Resource
    private JtwUserDetailService userDetailService;

    @PostMapping(value = &quot;/authenticate&quot;)
    public ResponseEntity&lt;?&gt; createAuthenticationToken(@RequestBody JwtRequest authenticationRequest) throws Exception {
        authenticate(authenticationRequest.getUsername(), authenticationRequest.getPassword());
        UserDetails userDetails = userDetailService.loadUserByUsername(authenticationRequest.getUsername());
        String token = jwtUtil.generateToken(userDetails);
        return ResponseEntity.ok(new JwtResponse(token));
    }

    private void authenticate(String username, String password) throws Exception {
        try {
            authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(username, password));
        } catch (DisabledException e) {
            throw new Exception(&quot;user disabled&quot;, e);
        } catch (BadCredentialsException e) {
            throw new Exception(&quot;invalid credentials&quot;, e);
        }
    }
}
</code>
        </deckgo-highlight-code>
<p>3.6 创建<code>JwtRequestFilter</code>类，继承自spring的OncePerRequestFilter类，任何请求过来都会执行这个Filter，用来检查token的有效性，验证通过后，将用户信息设置到security的上下文中。</p>
<deckgo-highlight-code language="java" terminal="carbon" theme="one-dark" line-numbers="true"  >
          <code slot="code">package cn.funnyealge.jwt.config;

import cn.funnyealge.jwt.service.JtwUserDetailService;
import io.jsonwebtoken.ExpiredJwtException;
import org.springframework.security.authentication.UsernamePasswordAuthenticationToken;
import org.springframework.security.core.context.SecurityContextHolder;
import org.springframework.security.core.userdetails.UserDetails;
import org.springframework.security.web.authentication.WebAuthenticationDetailsSource;
import org.springframework.stereotype.Component;
import org.springframework.web.filter.OncePerRequestFilter;

import javax.annotation.Resource;
import javax.servlet.FilterChain;
import javax.servlet.ServletException;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.IOException;

/**
 * JwtRequestFilter 继承了 Spring Web Filter OncePerRequestFilter 类。
 * 对于任何传入请求，都会执行此 Filter 类。它检查请求是否具有有效的 JWT 令牌。
 * 如果它具有有效的 JWT 令牌，则它会在上下文中设置身份验证，以指定当前用户已通过身份验证。
 *
 * @author yangjl
 * @description
 * @date 2023-11-15 13:54
 **/
@Component
public class JwtRequestFilter extends OncePerRequestFilter {

    @Resource
    private JtwUserDetailService userDetailService;

    @Resource
    private JwtUtil jwtUtil;


    @Override
    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain chain) throws ServletException, IOException {
        final String requestTokenHeader = request.getHeader(&quot;Authorization&quot;);

        String username = null;
        String jwtToken = null;
        if (requestTokenHeader != null &amp;&amp; requestTokenHeader.startsWith(&quot;Bearer &quot;)) {
            jwtToken = requestTokenHeader.substring(7);
            try {
                username = jwtUtil.getUserNameFromToken(jwtToken);
            } catch (IllegalArgumentException e) {
                System.out.println(&quot;Unable to get JWT Token&quot;);
            } catch (ExpiredJwtException e) {
                System.out.println(&quot;JWT Token has expired&quot;);
            }
        } else {
            logger.warn(&quot;JWT Token does not begin with Bearer String&quot;);
        }

        if (username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {

            UserDetails userDetails = this.userDetailService.loadUserByUsername(username);

            if (jwtUtil.validateToken(jwtToken, userDetails)) {

                UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken = new UsernamePasswordAuthenticationToken(
                        userDetails, null, userDetails.getAuthorities());
                usernamePasswordAuthenticationToken
                        .setDetails(new WebAuthenticationDetailsSource().buildDetails(request));
                SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);
            }
        }
        chain.doFilter(request, response);
    }
}
</code>
        </deckgo-highlight-code>
<p>3.7 创建<code>JwtAuthenticationEntryPoint</code>类，继承spring的<code>AuthenticationEntryPoint</code>类，重写<code>commence</code>方法，用于拒绝未经身份验证的请求并返回错误码401。</p>
<deckgo-highlight-code language="java" terminal="carbon" theme="one-dark" line-numbers="true"  >
          <code slot="code">package cn.funnyealge.jwt.config;

import org.springframework.security.core.AuthenticationException;
import org.springframework.security.web.AuthenticationEntryPoint;
import org.springframework.stereotype.Component;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.IOException;
import java.io.Serializable;

/**
 * 此类继承 Spring 的 AuthenticationEntryPoint 类，拒绝未经身份验证的请求并返回错误代码 401
 *
 * @author yangjl
 * @description
 * @date 2023-11-15 14:02
 **/
@Component
public class JwtAuthenticationEntryPoint implements AuthenticationEntryPoint, Serializable {

    private static final long serialVersionUID = -1L;

    @Override
    public void commence(HttpServletRequest request, HttpServletResponse response,
                         AuthenticationException authException) throws IOException {

        response.sendError(HttpServletResponse.SC_UNAUTHORIZED, &quot;Unauthorized&quot;);
    }
}</code>
        </deckgo-highlight-code>
<p>3.8 创建<code>WebSecurityConfig</code>类， 配置 AuthenticationManager，BCryptPasswordEncoder 和验证配置。</p>
<deckgo-highlight-code language="java" terminal="carbon" theme="one-dark" line-numbers="true"  >
          <code slot="code">package cn.funnyealge.jwt.config;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.security.authentication.AuthenticationManager;
import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;
import org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;
import org.springframework.security.config.annotation.web.builders.HttpSecurity;
import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;
import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;
import org.springframework.security.config.http.SessionCreationPolicy;
import org.springframework.security.core.userdetails.UserDetailsService;
import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;
import org.springframework.security.crypto.password.PasswordEncoder;
import org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;

/**
 * @author yangjl
 * @description
 * @date 2023-11-15 14:21
 **/
@Configuration
@EnableWebSecurity
@EnableGlobalMethodSecurity(prePostEnabled = true)
public class WebSecurityConfig extends WebSecurityConfigurerAdapter {

    @Autowired
    private JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint;

    @Autowired
    private UserDetailsService jwtUserDetailsService;

    @Autowired
    private JwtRequestFilter jwtRequestFilter;

    @Autowired
    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {
        auth.userDetailsService(jwtUserDetailsService).passwordEncoder(passwordEncoder());
    }

    @Bean
    public PasswordEncoder passwordEncoder() {
        return new BCryptPasswordEncoder();
    }

    @Bean
    @Override
    public AuthenticationManager authenticationManagerBean() throws Exception {
        return super.authenticationManagerBean();
    }

    @Override
    protected void configure(HttpSecurity httpSecurity) throws Exception {
        httpSecurity.csrf().disable()
                // 放行 /authenticate
                .authorizeRequests().antMatchers(&quot;/authenticate&quot;).permitAll().
                // 其它任何请求都需要认证
                anyRequest().authenticated().and().
                // 使用无状态session
                exceptionHandling().authenticationEntryPoint(jwtAuthenticationEntryPoint).and().sessionManagement()
                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);

        // 所有请求都要通过filter来验证token
        httpSecurity.addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);
    }
}
</code>
        </deckgo-highlight-code>
<p>启动项目，使用postman请求<code>/authenticate</code>接口</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/bed327c9770c74dfc39f66e44c004863/86433/auth-api.jpg"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 44.5945945945946%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIBBf/EABUBAQEAAAAAAAAAAAAAAAAAAAEA/9oADAMBAAIQAxAAAAHk5YpCf//EABYQAQEBAAAAAAAAAAAAAAAAABABEf/aAAgBAQABBQI2lP/EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAEDAQE/AUf/xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAgEBPwFX/8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAGRAAAgMBAAAAAAAAAAAAAAAAATEAECFR/9oACAEBAAE/Id5QAiYFEr//2gAMAwEAAgADAAAAEDv/AP/EABYRAQEBAAAAAAAAAAAAAAAAAAARUf/aAAgBAwEBPxBGP//EABYRAQEBAAAAAAAAAAAAAAAAAAARUf/aAAgBAgEBPxBWv//EABoQAQEAAgMAAAAAAAAAAAAAAAEAEBExYYH/2gAIAQEAAT8QXSeQmgHTcWAv/9k='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="auth-api"
        title=""
        src="/static/bed327c9770c74dfc39f66e44c004863/1c72d/auth-api.jpg"
        srcset="/static/bed327c9770c74dfc39f66e44c004863/a80bd/auth-api.jpg 148w,
/static/bed327c9770c74dfc39f66e44c004863/1c91a/auth-api.jpg 295w,
/static/bed327c9770c74dfc39f66e44c004863/1c72d/auth-api.jpg 590w,
/static/bed327c9770c74dfc39f66e44c004863/a8a14/auth-api.jpg 885w,
/static/bed327c9770c74dfc39f66e44c004863/fbd2c/auth-api.jpg 1180w,
/static/bed327c9770c74dfc39f66e44c004863/86433/auth-api.jpg 2306w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<blockquote>
<p>TIP: 如果<code>/authenticate</code>接口抛出异常 <code>ClassNotFoundException: javax.xml.bind.DatatypeConverter</code>，将JDK版本修改为8即可。</p>
</blockquote>
<p>获取到token之后，在/hello请求的Header中添加 Authorization，Value的格式为 <code>Bearer TOKEN</code> Bearer后面有个空格。如图。
<span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/d676904b4e92b5f23b99124716bcf266/6c27d/hello-api.jpg"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 44.5945945945946%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIBBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHkGFJJ/8QAFhAAAwAAAAAAAAAAAAAAAAAAEBEg/9oACAEBAAEFAg4//8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQMBAT8BR//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAECAQE/AVf/xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAZEAACAwEAAAAAAAAAAAAAAAAAARAhYbH/2gAIAQEAAT8h4VomQ5//2gAMAwEAAgADAAAAEOP/AP/EABYRAQEBAAAAAAAAAAAAAAAAAAARUf/aAAgBAwEBPxBGP//EABYRAQEBAAAAAAAAAAAAAAAAAAARUf/aAAgBAgEBPxBWv//EABsQAQACAgMAAAAAAAAAAAAAAAEAIRAxEYGh/9oACAEBAAE/EF0IkNKV1BuD0GbYJ//Z'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="hello-api"
        title=""
        src="/static/d676904b4e92b5f23b99124716bcf266/1c72d/hello-api.jpg"
        srcset="/static/d676904b4e92b5f23b99124716bcf266/a80bd/hello-api.jpg 148w,
/static/d676904b4e92b5f23b99124716bcf266/1c91a/hello-api.jpg 295w,
/static/d676904b4e92b5f23b99124716bcf266/1c72d/hello-api.jpg 590w,
/static/d676904b4e92b5f23b99124716bcf266/a8a14/hello-api.jpg 885w,
/static/d676904b4e92b5f23b99124716bcf266/fbd2c/hello-api.jpg 1180w,
/static/d676904b4e92b5f23b99124716bcf266/6c27d/hello-api.jpg 2298w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<p>完整项目源码：<a href="https://github.com/funny-eagle/jwt-example">https://github.com/funny-eagle/jwt-example</a></p>
<p>（完）</p></div><hr/><ul class="button-wrapper"><li><a rel="prev" href="/Introduction-to-jwt/"><button>Prev: <!-- -->[JWT] JSON Web Token 入门简介</button></a></li><li><a rel="next" href="/if-can-not-pass-in-2023/"><button>Next: <!-- -->如果今年过不了</button></a></li></ul></article></div><footer><div class="social-media" style="margin-bottom:1rem"><a target="_blank" href="https://weibo.com/227307890"><i class="iconfont icon-weibo"></i></a><a target="_blank" href="https://github.com/funny-eagle"><i class="iconfont icon-github-fill"></i></a><a target="_blank" href="https://twitter.com/yangjinlong86"><i class="iconfont icon-twitter"></i></a><a target="_blank" href="http://funnyeagle.cn/rss.xml"><i class="iconfont icon-rss"></i></a></div><div style="margin-bottom:1rem">© <!-- --> funnyeagle.cn • Theme<!-- --> <a class="usubeni" target="_blank" href="https://github.com/ssshooter/gatsby-theme-usubeni">usubeni</a> <!-- -->• Powered by<!-- --> <a class="usubeni" target="_blank" href="https://www.gatsbyjs.org/">Gatsbyjs</a><br/><a href="https://beian.miit.gov.cn">蜀ICP备2023036051号-1</a></div></footer><div class="theme-toggle">☾</div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script async="" src="https://www.googletagmanager.com/gtag/js?id="></script><script>
      
      
      if(true) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/jwt-example/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-ea1e2944252ed1e1ffda.js\"],\"component---src-pages-404-js\":[\"/component---src-pages-404-js-2c886fd5dfd8b6a5a5c5.js\"],\"component---src-pages-index-js\":[\"/component---src-pages-index-js-1cfcb14ec0a28ac4da60.js\"],\"component---src-pages-links-js\":[\"/component---src-pages-links-js-25d2c286dfe24d90417a.js\"],\"component---src-pages-tags-js\":[\"/component---src-pages-tags-js-67b0e3ae2e8bc1ff2047.js\"],\"component---src-templates-blog-post-js\":[\"/component---src-templates-blog-post-js-cc3fcef1d93a58c7c653.js\"],\"component---src-templates-index-js\":[\"/component---src-templates-index-js-e1d3c9eda6b2e31cee14.js\"],\"component---src-templates-tag-js\":[\"/component---src-templates-tag-js-3cc60a8e62bd72ed9e7c.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="053046dcbd38649e45ce";</script><script src="/webpack-runtime-e49b2e93bfbea8f7470d.js" async></script><script src="/framework-ebc0d138c46b9b8414fe.js" async></script><script src="/app-ea1e2944252ed1e1ffda.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>