{"componentChunkName":"component---src-templates-blog-post-js","path":"/arts-37/","result":{"data":{"site":{"siteMetadata":{"title":"Funny Eagle","author":"Jason Yang"}},"markdownRemark":{"id":"61058e2a-5242-515b-8cfd-2268e911bb06","excerpt":"Algorithm: 942. DI String Match Review: What is Test Driven Development (TDD) Tip: Springboot logba…","html":"<blockquote>\n<ul>\n<li>Algorithm: 942. DI String Match</li>\n<li>Review: What is Test Driven Development (TDD)</li>\n<li>Tip: Springboot logback profile</li>\n<li>Share: 阮一峰的每周分享第52期</li>\n</ul>\n</blockquote>\n<h2 id=\"algorithm\" style=\"position:relative;\"><a href=\"#algorithm\" aria-label=\"algorithm permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Algorithm</h2>\n<pre><code class=\"language-java\">package org.nocoder.leetcode.solution;\n\n/**\n * 942. DI String Match\n * &#x3C;p>\n * Given a string S that only contains \"I\" (increase) or \"D\" (decrease), let N = S.length.\n * &#x3C;p>\n * Return any permutation A of [0, 1, ..., N] such that for all i = 0, ..., N-1:\n * &#x3C;p>\n * If S[i] == \"I\", then A[i] &#x3C; A[i+1]\n * If S[i] == \"D\", then A[i] > A[i+1]\n * &#x3C;p>\n * &#x3C;p>\n * Example 1:\n * &#x3C;p>\n * Input: \"IDID\"\n * Output: [0,4,1,3,2]\n * Example 2:\n * &#x3C;p>\n * Input: \"III\"\n * Output: [0,1,2,3]\n * Example 3:\n * &#x3C;p>\n * Input: \"DDI\"\n * Output: [3,2,0,1]\n * &#x3C;p>\n * &#x3C;p>\n * Note:\n * &#x3C;p>\n * 1 &#x3C;= S.length &#x3C;= 10000\n * S only contains characters \"I\" or \"D\".\n *\n * @author jason\n * @date 2019/4/28.\n */\npublic class DIStringMatch {\n    public static int[] diStringMatch(String s) {\n        int n = s.length();\n        int lo = 0, hi = n;\n        int[] ans = new int[n + 1];\n        for (int i = 0; i &#x3C; n; ++i) {\n            if (s.charAt(i) == 'I') {\n                ans[i] = lo++;\n            } else {\n                ans[i] = hi--;\n            }\n        }\n\n        ans[n] = lo;\n        return ans;\n    }\n\n    public static void main(String[] args) {\n        int[] arr = diStringMatch(\"IDID\");\n        for (int i = 0; i &#x3C; arr.length; i++) {\n            System.out.print(arr[i] + \" \");\n        }\n    }\n}\n\n</code></pre>\n<h2 id=\"review\" style=\"position:relative;\"><a href=\"#review\" aria-label=\"review permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Review</h2>\n<h3 id=\"what-is-test-driven-development-tdd\" style=\"position:relative;\"><a href=\"#what-is-test-driven-development-tdd\" aria-label=\"what is test driven development tdd permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"https://www.guru99.com/test-driven-development.html\">What is Test Driven Development (TDD)?</a></h3>\n<blockquote>\n<p>测试驱动开发从为应用程序的每个小功能设计和开发测试开始。在TDD方法中，首先，开发测试，指定并验证代码将执行的操作。</p>\n</blockquote>\n<p><strong>如何进行TDD测试</strong></p>\n<p>以下步骤定义了如何执行TDD</p>\n<ol>\n<li>编写测试代码</li>\n<li>运行所有测试，看看是否有任何新测试失败</li>\n<li>编写业务逻辑代码</li>\n<li>运行测试并重构代码</li>\n<li>重复以上过程</li>\n</ol>\n<p><strong>关于TDD的一些说明：</strong></p>\n<ul>\n<li>TDD既不是“测试”也不是“设计”。</li>\n<li>TDD并不意味着“编写一些测试，然后构建一个通过测试的系统。</li>\n<li>TDD并不意味着“进行大量测试”。</li>\n</ul>\n<h2 id=\"tip\" style=\"position:relative;\"><a href=\"#tip\" aria-label=\"tip permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tip</h2>\n<h3 id=\"springboot-logback-profile\" style=\"position:relative;\"><a href=\"#springboot-logback-profile\" aria-label=\"springboot logback profile permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Springboot logback profile</h3>\n<blockquote>\n<p>Springboot 默认的logging 配置可以将日志打印到控制台或者写出到文件，如果需要滚动归档，就可以用<code>logback.xml</code>来扩展日志功能了，\n接下来我们需要实现不同的环境不同的日志配置，例如开发环境下直接打印到控制台，测试环境下打印日志到控制台并且输出到文件，生产环境只输出到文件。</p>\n</blockquote>\n<p>在<code>Resource</code>目录下创建xml配置文件，这样命名<code>logback-spring.xml</code></p>\n<p>官方的控制台打印日志配置了颜色，比较好看，可以引入springboot logging 包下的defaults.xml直接使用</p>\n<pre><code class=\"language-xml\">&#x3C;?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n&#x3C;configuration>\n    &#x3C;include resource=\"org/springframework/boot/logging/logback/defaults.xml\"/>\n    &#x3C;appender name=\"CONSOLE\" class=\"ch.qos.logback.core.ConsoleAppender\">\n        &#x3C;encoder>\n            &#x3C;pattern>${CONSOLE_LOG_PATTERN}&#x3C;/pattern>\n        &#x3C;/encoder>\n    &#x3C;/appender>\n\n    &#x3C;appender name=\"FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\">\n        &#x3C;rollingPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy\">\n            &#x3C;FileNamePattern>./log/service-keeper.%d{yyyy-MM-dd}.%i.log&#x3C;/FileNamePattern>\n            &#x3C;maxFileSize>10MB&#x3C;/maxFileSize>\n            &#x3C;maxHistory>60&#x3C;/maxHistory>\n        &#x3C;/rollingPolicy>\n        &#x3C;encoder>\n            &#x3C;pattern>%date [%thread] %-5level %logger{5} - %msg%n&#x3C;/pattern>\n            &#x3C;charset class=\"java.nio.charset.Charset\">UTF-8&#x3C;/charset>\n        &#x3C;/encoder>\n    &#x3C;/appender>\n\n    &#x3C;springProfile name=\"dev\">\n        &#x3C;logger name=\"org.nocoder.servicekeeper.infrastructure.repository\" level=\"DEBUG\"/>\n        &#x3C;root level=\"info\">\n            &#x3C;appender-ref ref=\"CONSOLE\"/>\n            &#x3C;!--&#x3C;appender-ref ref=\"FILE\"/>-->\n        &#x3C;/root>\n    &#x3C;/springProfile>\n\n    &#x3C;springProfile name=\"test\">\n        &#x3C;logger name=\"org.nocoder.servicekeeper.infrastructure.repository\" level=\"DEBUG\"/>\n        &#x3C;root level=\"info\">\n            &#x3C;appender-ref ref=\"CONSOLE\"/>\n            &#x3C;appender-ref ref=\"FILE\"/>\n        &#x3C;/root>\n    &#x3C;/springProfile>\n\n    &#x3C;springProfile name=\"prod\">\n        &#x3C;root level=\"info\">\n            &#x3C;appender-ref ref=\"FILE\"/>\n        &#x3C;/root>\n    &#x3C;/springProfile>\n&#x3C;/configuration>\n</code></pre>\n<p>org/springframework/boot/logging/logback/defaults.xml</p>\n<pre><code class=\"language-xml\">&#x3C;?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\n&#x3C;!--\nDefault logback configuration provided for import, equivalent to the programmatic\ninitialization performed by Boot\n-->\n\n&#x3C;included>\n    &#x3C;conversionRule conversionWord=\"clr\" converterClass=\"org.springframework.boot.logging.logback.ColorConverter\" />\n    &#x3C;conversionRule conversionWord=\"wex\" converterClass=\"org.springframework.boot.logging.logback.WhitespaceThrowableProxyConverter\" />\n    &#x3C;conversionRule conversionWord=\"wEx\" converterClass=\"org.springframework.boot.logging.logback.ExtendedWhitespaceThrowableProxyConverter\" />\n    &#x3C;property name=\"CONSOLE_LOG_PATTERN\" value=\"${CONSOLE_LOG_PATTERN:-%clr(%d{${LOG_DATEFORMAT_PATTERN:-yyyy-MM-dd HH:mm:ss.SSS}}){faint} %clr(${LOG_LEVEL_PATTERN:-%5p}) %clr(${PID:- }){magenta} %clr(---){faint} %clr([%15.15t]){faint} %clr(%-40.40logger{39}){cyan} %clr(:){faint} %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}}\"/>\n    &#x3C;property name=\"FILE_LOG_PATTERN\" value=\"${FILE_LOG_PATTERN:-%d{${LOG_DATEFORMAT_PATTERN:-yyyy-MM-dd HH:mm:ss.SSS}} ${LOG_LEVEL_PATTERN:-%5p} ${PID:- } --- [%t] %-40.40logger{39} : %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}}\"/>\n\n    &#x3C;logger name=\"org.apache.catalina.startup.DigesterFactory\" level=\"ERROR\"/>\n    &#x3C;logger name=\"org.apache.catalina.util.LifecycleBase\" level=\"ERROR\"/>\n    &#x3C;logger name=\"org.apache.coyote.http11.Http11NioProtocol\" level=\"WARN\"/>\n    &#x3C;logger name=\"org.apache.sshd.common.util.SecurityUtils\" level=\"WARN\"/>\n    &#x3C;logger name=\"org.apache.tomcat.util.net.NioSelectorPool\" level=\"WARN\"/>\n    &#x3C;logger name=\"org.eclipse.jetty.util.component.AbstractLifeCycle\" level=\"ERROR\"/>\n    &#x3C;logger name=\"org.hibernate.validator.internal.util.Version\" level=\"WARN\"/>\n&#x3C;/included>\n</code></pre>\n<p>application.yml</p>\n<pre><code class=\"language-yml\">spring:\n  profiles:\n    active: dev\n</code></pre>\n<p>配置好以后Resource 目录下的结构类似这样</p>\n<pre><code>└── resources\n    ├── application-dev.yml\n    ├── application-prod.yml\n    ├── application-test.yml\n    ├── application.yml\n    ├── logback-spring.xml\n</code></pre>\n<h2 id=\"share\" style=\"position:relative;\"><a href=\"#share\" aria-label=\"share permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Share</h2>\n<h3 id=\"阮一峰的每周分享第52期\" style=\"position:relative;\"><a href=\"#%E9%98%AE%E4%B8%80%E5%B3%B0%E7%9A%84%E6%AF%8F%E5%91%A8%E5%88%86%E4%BA%AB%E7%AC%AC52%E6%9C%9F\" aria-label=\"阮一峰的每周分享第52期 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"http://www.ruanyifeng.com/blog/2019/04/weekly-issue-52.html\">阮一峰的每周分享第52期</a></h3>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#algorithm\">Algorithm</a></p>\n</li>\n<li>\n<p><a href=\"#review\">Review</a></p>\n<ul>\n<li><a href=\"#what-is-test-driven-development-tdd\">What is Test Driven Development (TDD)?</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#tip\">Tip</a></p>\n<ul>\n<li><a href=\"#springboot-logback-profile\">Springboot logback profile</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#share\">Share</a></p>\n<ul>\n<li><a href=\"#%E9%98%AE%E4%B8%80%E5%B3%B0%E7%9A%84%E6%AF%8F%E5%91%A8%E5%88%86%E4%BA%AB%E7%AC%AC52%E6%9C%9F\">阮一峰的每周分享第52期</a></li>\n</ul>\n</li>\n</ul>","frontmatter":{"title":"ARTS 第37周","tags":["coding","arts"],"description":"Algorithm, Reiview, Tip and Share","date":"2019-04-19"}}},"pageContext":{"slug":"/arts-37/","previous":{"fields":{"slug":"/arts-36/"},"frontmatter":{"title":"ARTS 第36周","tags":["coding","arts"],"slug":""}},"next":{"fields":{"slug":"/principles-of-good-programming/"},"frontmatter":{"title":"编程原则","tags":["coding"],"slug":""}}}},"staticQueryHashes":["2052298874"],"slicesMap":{}}