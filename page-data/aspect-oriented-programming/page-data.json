{"componentChunkName":"component---src-templates-blog-post-js","path":"/aspect-oriented-programming/","result":{"data":{"site":{"siteMetadata":{"title":"Jason Yang's Website","author":"Jason Yang"}},"markdownRemark":{"id":"6f40b0b0-d64b-5365-a833-25cb5b5c278a","excerpt":"AOP 被认为是对 OOP 的一个强大的补充，有了 AOP，我们可以把之前分散在应用各处的行为放在可重用的模块中，可以有效减少冗余代码，并让我们的类只关注自身的主要功能。 AOP 概述 面向切面编程…","html":"<blockquote>\n<p>AOP 被认为是对 OOP 的一个强大的补充，有了 AOP，我们可以把之前分散在应用各处的行为放在可重用的模块中，可以有效减少冗余代码，并让我们的类只关注自身的主要功能。</p>\n</blockquote>\n<h2 id=\"aop-概述\" style=\"position:relative;\"><a href=\"#aop-%E6%A6%82%E8%BF%B0\" aria-label=\"aop 概述 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>AOP 概述</h2>\n<p>面向切面编程（aspect-oriented programming），是一种将横切关注点与业务逻辑分离的编程方式。每个横切关注点都集中在一个地方，而不是分散在多处代码中。这样使我们的服务模块更加简洁，因为它们只包含了主要关注点的代码，而次要的功能或者说辅助的功能被转移到切面中了。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2f4e0193d1fbcc4a0d5c4c4981af66fe/82158/aop-1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 49.32432432432432%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAACe0lEQVR42n2Sx0/TAQCFf/+EB2PUi3+CV1CMHGRFTWTExDgS9WQwYkG0KksCURQqMy1bQTZaBVqKgGAoZZWWSmnppBRKhS4Ksj5jOONLvuTLS97tCRyZfVb9DuAACLMXNB7WO0F216xHroS1wDaT9iAzzhDTjn8E0Tq3+GFcRPzlOv1GJ+b5XgJDZ1C7wKBqZakoBo1rjynLOpNWH1M2HxrLBq71MIJ8comzaR1EZnQS8aSLc8/kXMgZIaF0lLuNV4kuGSNdWotVfoKIEjsvC8oYF0cRJbEQXzJLbImOeImeqNda6kddCHqnn7ffTLzv+4cZSZ+Jsn4nxQot96ouU6g00NbXxsSH0xQP+2mqq6E/PQrJ8G/KVTbKVA7KBxy8U9hQm9cRVDo38bk9JBd951qhguSiQZLf/uRG1RB3pFdIkY2TV9/ATPNJEmuWyH9Tjkp0npRaO7dkem7KDNyuNpBUoaNd40ZQm7w8kKkR1WtIqxvnccMkogYtGS1jpLYl8rB1BtnnJlYUp0jt9FAnlWLIvUhalxtx+wJP282IO8ykfVpAqV9DmLCsI2qcRtys5WnTDOIWHc9bjbzoniK1NRFR5yx18k+4FadJ/+KloboaQ140mfJVsrtMZHUvkv3ZQmabiYG5NQSlzkN0tpLYbDmxOT3E5fUS92qQpMoR7n+8SkL5GFm1NTi+HudShZ3816VMiSOJr7SSUjlHUqWBlKpfJEj0NKvdCOE/u3iCu3g39/GG9vAEd/CFQWuf41F7DGqbEd9iI6GBYyz7g7iUUtwFkSx7A3gC26z6wnj8W6z4woS2dhD4T5Y3LIdysMlecP7QtwPsem1HHvsv/VeBbXO9v9EAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"aop-demo\"\n        title=\"\"\n        src=\"/static/2f4e0193d1fbcc4a0d5c4c4981af66fe/fcda8/aop-1.png\"\n        srcset=\"/static/2f4e0193d1fbcc4a0d5c4c4981af66fe/12f09/aop-1.png 148w,\n/static/2f4e0193d1fbcc4a0d5c4c4981af66fe/e4a3f/aop-1.png 295w,\n/static/2f4e0193d1fbcc4a0d5c4c4981af66fe/fcda8/aop-1.png 590w,\n/static/2f4e0193d1fbcc4a0d5c4c4981af66fe/82158/aop-1.png 696w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>上图表示划分为三个服务模块的应用，每个模块提供相应的服务，而且这些模块都需要类似的辅助功能，例如日志、安全、事务等等。我们并不想在各个模块中写重复的日志、安全、事务的代码，那么就可以使用选用切面这个方案，来解决这个问题。</p>\n<h2 id=\"aop-术语\" style=\"position:relative;\"><a href=\"#aop-%E6%9C%AF%E8%AF%AD\" aria-label=\"aop 术语 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>AOP 术语</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 552px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5030ef0a87877df7e90d9832847a7dce/08c0b/aop-2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.64864864864865%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABmUlEQVR42n2S3U8aQRTF9w/vU19MmrTpi0k/3tqY8CCUEsRYFJjdtTG2sgW1bo0a60rRwn5IVdiP2V8zgKs10JucnMzcMzPn3jsaMyJNU/4XKv8Yd/vaLKEK++Ir4keR2m4Bwy5i2CWMoxLn/tGdeqaJuRfuOBt8bL3m1cpzXuSfsaQvUt5/y3GvPc5HcUSSJBkyh7PsK0g5eWTv8Jo3uRN6/vTQdL/T6eA4Dj/PzvCDYFbJ6QNWkMRxynL5gCcLFczt8we5iTYcDYnC0T/VaaNIMooSbiIYRnCrEDJeKy5UOzx9uYXRdAkl3IQTjdL2vYA/txGnl8PMlpY3u+R0j2qjwAf9O2tilZL4wlq9QNGw2dDzvKsc0NgssSpqrAidiqhRFiZL9T7LRpf3679onQwmF9ZaHp+sKz5bO9QtB9NqI6xjtnfbiHaXxpaBuXfBZrOJ0dxHt2wMS/Eh698GVC2XnLjMXGrz/prrDfA9l9+9gKtp0+dFcB3fD0WqiY4bKu9ZSly3j+/7BIE/5iSJp42XGeSjT60c/gWIie9Jij1qxwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"aop-demo\"\n        title=\"\"\n        src=\"/static/5030ef0a87877df7e90d9832847a7dce/08c0b/aop-2.png\"\n        srcset=\"/static/5030ef0a87877df7e90d9832847a7dce/12f09/aop-2.png 148w,\n/static/5030ef0a87877df7e90d9832847a7dce/e4a3f/aop-2.png 295w,\n/static/5030ef0a87877df7e90d9832847a7dce/08c0b/aop-2.png 552w\"\n        sizes=\"(max-width: 552px) 100vw, 552px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<ul>\n<li>\n<p><code>advice</code> - 通知</p>\n<ul>\n<li>\n<blockquote>\n<p>切面的具体行为，即要切入执行的代码</p>\n</blockquote>\n</li>\n</ul>\n</li>\n<li>\n<p><code>pointcut</code> - 切点</p>\n<ul>\n<li>\n<blockquote>\n<p>通知被应用的具体位置</p>\n</blockquote>\n</li>\n</ul>\n</li>\n<li>\n<p><code>join point</code> - 连接点</p>\n<ul>\n<li>\n<blockquote>\n<p>程序运行时，能够应用通知的所有点</p>\n</blockquote>\n</li>\n</ul>\n</li>\n<li>\n<p><code>aspect</code> - 切面</p>\n<ul>\n<li>\n<blockquote>\n<p>什么时候在什么地方做什么事情，是切点和通知的结合</p>\n</blockquote>\n</li>\n</ul>\n</li>\n<li>\n<p><code>target</code> - 目标对象</p>\n<ul>\n<li>\n<blockquote>\n<p>被切入功能的目标对象</p>\n</blockquote>\n</li>\n</ul>\n</li>\n<li>\n<p><code>introduction</code> - 引入</p>\n<ul>\n<li>\n<blockquote>\n<p>将新的方法或属性引入到现有的类中</p>\n</blockquote>\n</li>\n</ul>\n</li>\n<li>\n<p><code>weaving</code> - 织入</p>\n<ul>\n<li>\n<blockquote>\n<p>把切面应用到目标对象并创建新的代理对象的过程</p>\n</blockquote>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"代理模式\" style=\"position:relative;\"><a href=\"#%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F\" aria-label=\"代理模式 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>代理模式</h2>\n<p>代理模式是使用代理对象完成用户请求，屏蔽用户对真实对象访问的一种设计模式。现实生活中，代理人被授权执行当事人的一些事宜，无需当事人出面，从第三方的角度看，他只和代理人通信。而事实上代理人是要有当事人的授权，并且在核心问题上还需要请示当事人。</p>\n<p>AOP 就是使用代理模式实现的，其中的代理类就相当于AOP中的切面。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 533px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/41018c766a2b8eadd4241117d2b44252/a1aa0/aop-3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 35.13513513513513%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABd0lEQVR42mWRzStEYRTG719CkpKtpZTCRkkkK2KmLMz4LMWGwkakKCxICDW+IpRQIpGQEmp8LYjMwmimmXfmunPv+9O9c10mT51Oved5n855HkVKiZTGn5JISHa7DGnwA90wEGqEmCqwiDZMngnFeeD/8C9CkSBr5yMM7lTSs51P73YBowcuju4XHb7ZFUMXJMQjMv6ELh6QetQaapqGqqrERJzAxyt96xW4JtNwjxXiGnZTP+7GO59Hgy+D+dOuX0HtfZrIrsLjssLnlkL0aYBIHEQ0jBBJ8UP/Ik0r6TROtFPquaaoZpfi2kPKW05pnSunbTWHl6A/eXIidELspoLwVTXiqhQtuGefLx0j7gJnNC9l45kpobpniqqOLao6N6jrH8KzkEv3ZiHhWDDVw1TIlFBMHN0v0bWZT/NyJl5fDl5fNq2rWfTvlPEQuLA4ZniK9UHqdsK6LWIZ4vjyIxoSH1w+77Hvn+XgboHbt2O+EqojZm74DdDG5Zn+IY0GAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"aop-demo\"\n        title=\"\"\n        src=\"/static/41018c766a2b8eadd4241117d2b44252/a1aa0/aop-3.png\"\n        srcset=\"/static/41018c766a2b8eadd4241117d2b44252/12f09/aop-3.png 148w,\n/static/41018c766a2b8eadd4241117d2b44252/e4a3f/aop-3.png 295w,\n/static/41018c766a2b8eadd4241117d2b44252/a1aa0/aop-3.png 533w\"\n        sizes=\"(max-width: 533px) 100vw, 533px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h3 id=\"静态代理\" style=\"position:relative;\"><a href=\"#%E9%9D%99%E6%80%81%E4%BB%A3%E7%90%86\" aria-label=\"静态代理 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>静态代理</h3>\n<p>之所以称为静态代理，是因为在程序运行前，代理类就已经存在了。</p>\n<p><strong>举个例子</strong></p>\n<p>一般艺人都需要助理，来帮他跑腿，演出前谈价格，演出后收钱，只有表演的时候艺人才亲自出马。</p>\n<ol>\n<li>\n<p>定义一个艺人接口</p>\n<deckgo-highlight-code language=\"java\" terminal=\"carbon\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\">package org.nocoder.proxy.staticproxy;\r\n\r\n/**\r\n * 艺人接口\r\n * @author jason\r\n * @date 2019/2/14.\r\n */\r\npublic interface Artist {\r\n    /**\r\n     * 表演\r\n     */\r\n    void perform();\r\n}</code>\n        </deckgo-highlight-code>\n</li>\n<li>\n<p>定义艺人实现类刘德华</p>\n<deckgo-highlight-code language=\"java\" terminal=\"carbon\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\">package org.nocoder.proxy.staticproxy;\r\n\r\n/**\r\n * 艺人刘德华\r\n *\r\n * @author jason\r\n * @date 2019/2/14.\r\n */\r\npublic class LiuDehua implements Artist {\r\n\r\n    private LiuDehua() {\r\n    }\r\n\r\n    public static LiuDehua getInstance() {\r\n        return new LiuDehua();\r\n    }\r\n\r\n    public void perform() {\r\n        System.out.println(&quot;刘德华出场演唱笨小孩...&quot;);\r\n    }\r\n}</code>\n        </deckgo-highlight-code>\n</li>\n<li>\n<p>编写代理类</p>\n<deckgo-highlight-code language=\"java\" terminal=\"carbon\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\">package org.nocoder.proxy.staticproxy;\r\n\r\n/**\r\n * 艺人助理（代理类）\r\n *\r\n * @author jason\r\n * @date 2019/2/14.\r\n */\r\npublic class ArtistProxy implements Artist {\r\n\r\n    private LiuDehua liuDehua;\r\n\r\n    private ArtistProxy() {\r\n    }\r\n\r\n    public ArtistProxy(LiuDehua liuDehua) {\r\n        this.liuDehua = liuDehua;\r\n    }\r\n\r\n\r\n    public void perform() {\r\n        System.out.println(&quot;助理出面谈价格，签合同...&quot;);\r\n        liuDehua.perform();\r\n        System.out.println(&quot;助理出面收钱...&quot;);\r\n    }\r\n}</code>\n        </deckgo-highlight-code>\n</li>\n<li>\n<p>运行<code>main</code>方法，将艺人实例传入代理类的构造方法，然后调用代理类的<code>perform()</code></p>\n<deckgo-highlight-code language=\"java\" terminal=\"carbon\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\">package org.nocoder.proxy.staticproxy;\r\n\r\n/**\r\n * @author jason\r\n * @date 2019/2/14.\r\n */\r\npublic class StaticProxyDemo {\r\n\r\n    public static void main(String[] args) {\r\n        LiuDehua liuDehua = LiuDehua.getInstance();\r\n        ArtistProxy proxy = new ArtistProxy(liuDehua);\r\n        proxy.perform();\r\n    }\r\n}</code>\n        </deckgo-highlight-code>\n</li>\n<li>\n<p>运行结果</p>\n<deckgo-highlight-code language=\"java\" terminal=\"carbon\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\">助理出面谈价格，签合同...\r\n刘德华出场演唱笨小孩...\r\n助理出面收钱...\r\n\r\nProcess finished with exit code 0</code>\n        </deckgo-highlight-code>\n</li>\n</ol>\n<p><strong>静态代理的缺点</strong></p>\n<p>假设主题接口中的方法很多，为每一个接口写一个代理方法也很麻烦。如果接口有变动，则真实主题和代理类都要修改，不利于系统维护；</p>\n<h3 id=\"动态代理\" style=\"position:relative;\"><a href=\"#%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86\" aria-label=\"动态代理 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>动态代理</h3>\n<p>动态代理是在程序运行时，利用Java反射机制动态的生成代理类的代理模式。</p>\n<h4 id=\"jdk动态代理\" style=\"position:relative;\"><a href=\"#jdk%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86\" aria-label=\"jdk动态代理 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Jdk动态代理</h4>\n<ul>\n<li>JDK的动态代理依靠接口实现</li>\n<li>如果类并没有实现接口，则不能使用Jdk的动态代理</li>\n</ul>\n<ol>\n<li>\n<p>定义图书服务接口</p>\n<deckgo-highlight-code language=\"java\" terminal=\"carbon\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\">package org.nocoder.proxy.jdkproxy;\r\n\r\n/**\r\n * 图书服务接口\r\n * @author jason\r\n * @date 2019/2/14.\r\n */\r\npublic interface BookService {\r\n    /**\r\n     * 新增图书接口\r\n     */\r\n    void addBook();\r\n}</code>\n        </deckgo-highlight-code>\n</li>\n<li>\n<p>编写图书服务实现类</p>\n<deckgo-highlight-code language=\"java\" terminal=\"carbon\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\">package org.nocoder.proxy.jdkproxy;\r\n\r\n/**\r\n * 图书服务实现类\r\n * @author jason\r\n * @date 2019/2/14.\r\n */\r\npublic class BookServiceImpl implements BookService {\r\n    @Override\r\n    public void addBook() {\r\n        System.out.println(&quot;新增图书&quot;);\r\n    }\r\n}</code>\n        </deckgo-highlight-code>\n</li>\n<li>\n<p>编写InvocationHandler实现类</p>\n<deckgo-highlight-code language=\"java\" terminal=\"carbon\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\">package org.nocoder.proxy.jdkproxy;\r\n\r\nimport java.lang.reflect.InvocationHandler;\r\nimport java.lang.reflect.Method;\r\n\r\n/**\r\n * JDK 动态代理\r\n * @author jason\r\n * @date 2019/2/14.\r\n */\r\npublic class BookServiceInvocationHandler implements InvocationHandler {\r\n\r\n    private Object target;\r\n\r\n\r\n    public BookServiceInvocationHandler(Object target){\r\n        this.target = target;\r\n    }\r\n\r\n    @Override\r\n    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\r\n        System.out.println(&quot;事务开始&quot;);\r\n        Object result = method.invoke(target, args);\r\n        System.out.println(&quot;事务结束&quot;);\r\n        return result;\r\n    }\r\n}\t</code>\n        </deckgo-highlight-code>\n</li>\n<li>\n<p>运行测试程序</p>\n<deckgo-highlight-code language=\"java\" terminal=\"carbon\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\">package org.nocoder.proxy.jdkproxy;\r\n\r\nimport java.lang.reflect.Proxy;\r\n\r\n/**\r\n * JDK动态代理演示\r\n *\r\n * @author jason\r\n * @date 2019/2/14.\r\n */\r\npublic class JdkProxyDemo {\r\n    public static void main(String[] args) {\r\n        BookServiceInvocationHandler invocationHandler = new BookServiceInvocationHandler(new BookServiceImpl());\r\n\r\n        // JDK 动态代理只支持接口\r\n        BookService bookServiceProxy = (BookService) Proxy.newProxyInstance(\r\n                BookServiceImpl.class.getClassLoader(),\r\n                BookServiceImpl.class.getInterfaces(),\r\n                invocationHandler);\r\n\r\n        bookServiceProxy.addBook();\r\n    }\r\n}</code>\n        </deckgo-highlight-code>\n</li>\n<li>\n<p>运行结果</p>\n<deckgo-highlight-code language=\"java\" terminal=\"carbon\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\">事务开始\r\n新增图书\r\n事务结束\r\n\r\nProcess finished with exit code 0</code>\n        </deckgo-highlight-code>\n</li>\n</ol>\n<h4 id=\"cglib动态代理\" style=\"position:relative;\"><a href=\"#cglib%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86\" aria-label=\"cglib动态代理 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CGLIB动态代理</h4>\n<p>JDK的动态代理依靠接口实现，如果有些类并没有实现接口，则不能使用JDK代理，这时就要使用cglib动态代理了。使用cglib需要依赖<code>cglib</code>的jar，使用maven为例</p>\n<deckgo-highlight-code language=\"xml\" terminal=\"carbon\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\">&lt;dependency&gt;\r\n  &lt;groupId&gt;cglib&lt;/groupId&gt;\r\n  &lt;artifactId&gt;cglib-nodep&lt;/artifactId&gt;\r\n  &lt;version&gt;3.2.4&lt;/version&gt;\r\n&lt;/dependency&gt;</code>\n        </deckgo-highlight-code>\n<ol>\n<li>\n<p>定义图书服务类</p>\n<deckgo-highlight-code language=\"java\" terminal=\"carbon\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\">package org.nocoder.proxy.cglibproxy;\r\n\r\n/**\r\n * @author jason\r\n * @date 2019/2/14.\r\n */\r\npublic class BookService {\r\n    public void addBook() {\r\n        System.out.println(&quot;新增图书&quot;);\r\n    }\r\n}</code>\n        </deckgo-highlight-code>\n</li>\n<li>\n<p>编写MethodInterceptor实现类</p>\n<deckgo-highlight-code language=\"java\" terminal=\"carbon\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\">package org.nocoder.proxy.cglibproxy;\r\n\r\nimport net.sf.cglib.proxy.MethodInterceptor;\r\nimport net.sf.cglib.proxy.MethodProxy;\r\nimport java.lang.reflect.Method;\r\n\r\n/**\r\n * @author jason\r\n * @date 2019/2/14.\r\n */\r\npublic class BookServiceMethodInterceptor implements MethodInterceptor {\r\n\r\n    @Override\r\n    public Object intercept(Object o, Method method, Object[] objects, MethodProxy methodProxy) throws Throwable {\r\n        System.out.println(&quot;事务开始&quot;);\r\n        methodProxy.invokeSuper(o, objects);\r\n        System.out.println(&quot;事务结束&quot;);\r\n        return null;\r\n    }\r\n}</code>\n        </deckgo-highlight-code>\n</li>\n<li>\n<p>运行测试程序</p>\n<deckgo-highlight-code language=\"java\" terminal=\"carbon\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\">package org.nocoder.proxy.cglibproxy;\r\n\r\nimport net.sf.cglib.proxy.Enhancer;\r\n\r\n/**\r\n * @author jason\r\n * @date 2019/2/14.\r\n */\r\npublic class CglibProxyDemo {\r\n    public static void main(String[] args) {\r\n        BookServiceMethodInterceptor cglibInterceptor = new BookServiceMethodInterceptor();\r\n        //cglib 强化剂\r\n        Enhancer enhancer = new Enhancer();\r\n        enhancer.setSuperclass(BookService.class);\r\n        // 创建代理对象\r\n        enhancer.setCallback(cglibInterceptor);\r\n        BookService bookServiceProxy = (BookService)enhancer.create();\r\n        bookServiceProxy.addBook();\r\n    }\r\n}</code>\n        </deckgo-highlight-code>\n</li>\n<li>\n<p>运行结果</p>\n<deckgo-highlight-code language=\"shell\" terminal=\"carbon\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\">事务开始\r\n新增图书\r\n事务结束\r\n\r\nProcess finished with exit code 0</code>\n        </deckgo-highlight-code>\n</li>\n</ol>\n<h2 id=\"spring-aop\" style=\"position:relative;\"><a href=\"#spring-aop\" aria-label=\"spring aop permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Spring AOP</h2>\n<p>Spring 提供了4中 aop 的支持，基于代理的经典SpringAOP，纯POJO切面，@Aspect注解驱动的切面，注入式AspectJ切面。前三种都是SpringAOP实现的变体，SpringAOP构建在动态代理基础之上，因此，Spring对AOP的支持局限于方法拦截。第四种实际是使用AspectJ的解决方案。提供了SpringAOP所不能支持的许多类型的切点。我们可以借助Spring的依赖注入把bean装配进AspectJ切面中。Spring借鉴了AspectJ的切面，以提供注解驱动的AOP。本质上，它依然是Spring基于代理的AOP。</p>\n<h4 id=\"使用aspect创建切面类\" style=\"position:relative;\"><a href=\"#%E4%BD%BF%E7%94%A8aspect%E5%88%9B%E5%BB%BA%E5%88%87%E9%9D%A2%E7%B1%BB\" aria-label=\"使用aspect创建切面类 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>使用<code>@Aspect</code>创建切面类</h4>\n<p>Audience类使用<code>@Aspect</code>注解进行了标注。该注解表明Audience不仅仅是一个POJO，还是一个切面。Audience类中的方法都使用注解来定义切面的具体行为。Audience有四个方法，定义了一个观众在观看演出时可能会做的事情。在演出之前，观众要就坐（takeSeats()）并将手机调至静音状态（silenceCellPhones()）。如果演出很精彩的话，观众应该会鼓掌喝彩（applause()）。不过，如果演出没有达到观众预期的话，观众会要求退款（demandRefund()）。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4f0838d7d2f183bec5f1a7c408ab279b/47ff6/aspect-execution.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 34.45945945945946%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAAA4UlEQVR42n1RRwrEQAzL//8XUgnkENIL6d2LBNrbrsF4xiPLssd539dgz/PYsiy277tt22bXdRnekJvnmfG+b2Jxb5qGNcMw2DRN1vc9ax0RgiQIAovj2DzPIwgFYRia67rm+z5zsHVdSYgIfBRFfG/b1hwAQKruUgVHwXEc7HyeJ6PyIMcZkwAjIyHIqqqysiytrms6RimKgmd0xjvOeZ7zLhx8HEeSfwlFiiSUqCsUaadyKJNrz4ia0NFioQbdpeCfae9pmlqSJNyn8iTsus6yLCMZIsYT4JfrtyFG44LwA//oHJEzwcUNAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"aspect-execution\"\n        title=\"\"\n        src=\"/static/4f0838d7d2f183bec5f1a7c408ab279b/fcda8/aspect-execution.png\"\n        srcset=\"/static/4f0838d7d2f183bec5f1a7c408ab279b/12f09/aspect-execution.png 148w,\n/static/4f0838d7d2f183bec5f1a7c408ab279b/e4a3f/aspect-execution.png 295w,\n/static/4f0838d7d2f183bec5f1a7c408ab279b/fcda8/aspect-execution.png 590w,\n/static/4f0838d7d2f183bec5f1a7c408ab279b/47ff6/aspect-execution.png 852w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/02e39b25fa3ea3ba8a8ab4b275b90103/b12f7/aspect-annotation.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 77.70270270270271%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAABjklEQVR42o2Ui46CQAxF+f9v1ISg8hARUEQBpZvTzSUTlk2cpOlY+rjt7RhVVWX3+92aprGu6+zz+dj7/Xat+1rmeTaOdHii3W5n5/PZ4ji2/X7v98Ph4HI8Hi1NU0uSxO+n08kAoGRbEmVZZm3bWlEUHny9Xi3Pc8OOxk7yuq43E/xBSODj8bBpmmwYBhfa+vaQlFE9n89fhGVZOkIEdMyy7/slOYLz6/VyjYzj6ABIwHc6YRRLwsvl4ga0ftMqjrRKB6GQhKQiL0QbUQmWqQwyBdEGdqHFhs/6kBQ7eXyGt9ttaUVBVKdFCfawmBCCjhGxAQBYSMGAZi1YEVplfShGAFozRIMGCXdyaZlKOIYkICBSEny22N1anUhEwDB3/YZ1EmqWek1CrG3Ah4KAcIQEkAAnmKZVrQ/fRJAC1ocOGBn+jlBEiABV464d1HcxrlGEK8PdEYKKJwdKEaQ3TNugU9tokqoIMRAIuuWlcFF7BNE6dxaahNpP/ROFBxuxxInxaO30zdv974+BGf4AGz3ZkluvUHEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"aspect-annotation\"\n        title=\"\"\n        src=\"/static/02e39b25fa3ea3ba8a8ab4b275b90103/fcda8/aspect-annotation.png\"\n        srcset=\"/static/02e39b25fa3ea3ba8a8ab4b275b90103/12f09/aspect-annotation.png 148w,\n/static/02e39b25fa3ea3ba8a8ab4b275b90103/e4a3f/aspect-annotation.png 295w,\n/static/02e39b25fa3ea3ba8a8ab4b275b90103/fcda8/aspect-annotation.png 590w,\n/static/02e39b25fa3ea3ba8a8ab4b275b90103/efc66/aspect-annotation.png 885w,\n/static/02e39b25fa3ea3ba8a8ab4b275b90103/b12f7/aspect-annotation.png 1020w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h4 id=\"advice的5种注解\" style=\"position:relative;\"><a href=\"#advice%E7%9A%845%E7%A7%8D%E6%B3%A8%E8%A7%A3\" aria-label=\"advice的5种注解 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Advice的5种注解</h4>\n<table>\n<thead>\n<tr>\n<th><strong>注解</strong></th>\n<th align=\"left\"><strong>通知</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>@After</td>\n<td align=\"left\">通知方法会在目标方法返回或抛异常后调用</td>\n</tr>\n<tr>\n<td>@AfterReturning</td>\n<td align=\"left\">通知方法会在目标方法返回后调用</td>\n</tr>\n<tr>\n<td>@AfterThrowing</td>\n<td align=\"left\">通知方法会在目标方法抛异常后调用</td>\n</tr>\n<tr>\n<td>@Around</td>\n<td align=\"left\">通知方法会将目标方法封装起来</td>\n</tr>\n<tr>\n<td>@Before</td>\n<td align=\"left\">通知方法会在目标方法调用之前执行</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"使用pointcut声明切点表达式\" style=\"position:relative;\"><a href=\"#%E4%BD%BF%E7%94%A8pointcut%E5%A3%B0%E6%98%8E%E5%88%87%E7%82%B9%E8%A1%A8%E8%BE%BE%E5%BC%8F\" aria-label=\"使用pointcut声明切点表达式 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>使用<code>@Pointcut</code>声明切点表达式</h4>\n<p>@Pointcut 声明使用频繁的切点表达式后，在通知注解中引用即可</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0a99c320af39d8816b005834866a351d/ad997/pointcut.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 85.8108108108108%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABYlAAAWJQFJUiTwAAABo0lEQVR42n2U666CMBCEef8n5J94R1TwAl4QXfNtMs0eDrHJ2pay09mZxaxtWzsej3a9Xq1pGrvdbvZ6vf5F3/cez+fT3u+3MT6fj0ccWV3XVhSF7fd7m81mttlsbLfb2XK5tPV6bdvt1sqy9D1n7AEVYAQmMljx8uFwcEBASFwsFglktVr5vuu6xCSC/GFIyYDd73djTclaA6A98+PxsKmBJJwPw2DZ5XLxMtAQkPP57Gt04nbmGNJUewZV5HnuGmc8hCFaEmhJACzweBFrArYAwEoXeMk8QCNAAcIAbsR5OR4H7xNTw01hQTKAGKQ1c1VVPqMlrJAHVgzeRSrpmlyGKkxoBQ4J1jCLTko76aq+HPekA8YeYz2fz718mKmZx8ACiv3oGvJDEq2hZGaYwlwRmUxplwARmC9j7DIa4WrUSK4Czlls9lSyTMEAAJmJ0+nkSRhBYMrY8SmWriHlyhSJLXNii6iZSSaHyugIOZ9MgTq9yHeMIXzT/GFgFA1NAqUBIlAuowKe69JUModqFZkiljILY8TkZ8mgTzn3K3EqxPALDGoqC6FmDGYAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"pointcut\"\n        title=\"\"\n        src=\"/static/0a99c320af39d8816b005834866a351d/fcda8/pointcut.png\"\n        srcset=\"/static/0a99c320af39d8816b005834866a351d/12f09/pointcut.png 148w,\n/static/0a99c320af39d8816b005834866a351d/e4a3f/pointcut.png 295w,\n/static/0a99c320af39d8816b005834866a351d/fcda8/pointcut.png 590w,\n/static/0a99c320af39d8816b005834866a351d/efc66/pointcut.png 885w,\n/static/0a99c320af39d8816b005834866a351d/ad997/pointcut.png 1012w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h2 id=\"总结\" style=\"position:relative;\"><a href=\"#%E6%80%BB%E7%BB%93\" aria-label=\"总结 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>总结</h2>\n<ul>\n<li>面向切面编程是面向对象编程的一个强大的补充</li>\n<li>通过切面可以把分散在应用各处的行为放入可重用的模块中</li>\n<li>通过注解显示的声明在什么地方应用该行为</li>\n<li>有效减少冗余代码，让我们的类关注自身的主要功能</li>\n<li>动态代理模式和静态代理模式</li>\n<li>通过使用@Aspect注解和简单的配置，可以很简单的在Spring中装配advice和pointcut</li>\n</ul>\n<h2 id=\"参考文献\" style=\"position:relative;\"><a href=\"#%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE\" aria-label=\"参考文献 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>参考文献</h2>\n<ul>\n<li>\n<p>Spring 实战（第4版）</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/bdc0657875cd67678ffd44015b81d107/c7dcc/spring-in-action.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 62.83783783783784%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABGnAAARpwHTd0PhAAACiklEQVR42n1T30tTcRS//0r00EMvPfRQWFgEEc5M1NTSUFPMrB6kYD5IYQYJIT0UwUZBQeWmIKxyxB6M9lAiBKY559zadrvb3f213c15vffu3n3i+42NVsMDh/P9ni/fz/nxOYeRZRmapiGfz8M0TfA8j3Q6DUVR6D0SiSAjCOA4jvotywKRcrlctZUzEcbr9SIQCCAYDGJ2dhZzc3PweDzw+/0U1O12w+fzweVywb+4SIP/kVqgKqAsiVBkEdruDmRJgm6YKJVMWLYNwzAogFmysKcb0HQDJcuGXrKgm1ZNhhVw5vpAMzrON2B0+BK0ooDd7E/oRR4o70GWFcTjcbBSHmFOQYgVEUkp2EgSm6UA9l+ARJlrXUdxpekgJm+344vPjfmnE7DKFnRDRzabRSgUgiRJiMZi+Lq8TO8rKyvUV0+Ye2MdmB7vxMM7rXA52zBwtQkLbx9gcz2IXG4Hka0t8OkUNn6sIxwOI5lMYnV1FYIggGVZGoD419bWUCgUwAz1t6O3uxn9PRew5HuFLscRuJ9NApYGUZIRjUYR43PY5BSoxT2aBWHatm2q5FxRWvLNwRYMdp/C6HAn3j2fwf1b57C9/Y1+FEWBRmdTPL5vbIJLpVEsFrGfMCN9DvS0ncRQXwvePHbixcwQPi29po+ZTIYC/mJZ5FW1mtW/7NaQ0uY4hrONh3G59QQeTVzE+3knFjx3YZUMOoekT8kkS8FjsRhUVf1vsGsyPNNwCKePH8BoXyM8L6fw+eMTBD64IIkcHZtEIk77mEgkKOu6rlc/1x3sCecIxm70YnpqnEbfKRSgKGp1DcnqVZSwSEDJGpL3uhnu12BCAAEgpYuiSMsmlowO2aJ6gL8BsNeVsWWVGLQAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"spring-in-action\"\n        title=\"\"\n        src=\"/static/bdc0657875cd67678ffd44015b81d107/fcda8/spring-in-action.png\"\n        srcset=\"/static/bdc0657875cd67678ffd44015b81d107/12f09/spring-in-action.png 148w,\n/static/bdc0657875cd67678ffd44015b81d107/e4a3f/spring-in-action.png 295w,\n/static/bdc0657875cd67678ffd44015b81d107/fcda8/spring-in-action.png 590w,\n/static/bdc0657875cd67678ffd44015b81d107/c7dcc/spring-in-action.png 641w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n</li>\n<li>\n<p>Head First 设计模式</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 578px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ef40ceb3747e4ddb28236fe0e1cd7a75/508ef/head-first-design-pattern.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 64.86486486486486%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABFwAAARcAESNTyuAAACqElEQVR42n2T7U/TUBSH988aExMTP/pV0MQYExEMagxojEQUQTZceAljRBw4NtjKYN1W1o5t3dq9tN3KWHnbY3oT8DWe5OTe3Pz63N855zaQy+VYXY0Qj8fZ3NwUubGxITKbzRIOh8XZ2lqUiYlJgsEghYKCZVmsrKwQi8WEdmpqikQiQcC2bYrFIul0moODAyFsNpti3263hOjw8JCcLLO+FiG9u0PDqOG6XVKpFLIsI0mSgOfzeQJyLsfU+2kWvoSJRqMsL68IVx9mPhFeXMLzPI5dF+98QOcUrP6AinXCgH9HIC1JvH7zltGxMUZHnzI+/oyRkSdMTL5mPhii0WigFPJUjCa7+TIxqUBcPqJl2Ti2zeXlJYPB4HoNXJGPtArRSIzQ3Brrkc3rG/2W+OXreo1iUSWZ2KakaUjSHvFEErfXFzofJoCed4p73OX7twzJbYlo1B+GQkEu0nFcAfQHV2t1yOoOpdYxRbNLvuagNVzKre7vwLOzM+p6nVKpwZtHd5l5fBOnXSG2vo8ilzk56Ylp1+s14TSTyYhL/B76ZV7BrnvY6/VIbecxalXeDt1g6+Vt1EQYs9nCti0cxxEOVVXFNE3x0RXoV9jVGvD6fQzTYmtpmsXJByhLY6hb70h9T6EqNbpdR8D8VBSFqq5zIQbws8xfoWIolbJFKhIk/nUVo5gktyOhl5u+BKttiXeoaSpSOkXHscX5n3HtMJlMMvJ0hIf3hxi+N8ydWzd5cO8hL56/Yu7zHIZhCGdGs82BUqLrXeCcnOH2z2m5HqbT4/T84qdDv+Gzs7MEQyFCCyGmP84wH5xnYSFEJBIRf021WsFod8hodXYLZfYOq+yrOjuFCoWaRf/0/PeS/xeu66JpGqZpkJez4pHv70nsZ/ao69W/Sv4Bopqk+/5NJWwAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"head-first-dp\"\n        title=\"\"\n        src=\"/static/ef40ceb3747e4ddb28236fe0e1cd7a75/508ef/head-first-design-pattern.png\"\n        srcset=\"/static/ef40ceb3747e4ddb28236fe0e1cd7a75/12f09/head-first-design-pattern.png 148w,\n/static/ef40ceb3747e4ddb28236fe0e1cd7a75/e4a3f/head-first-design-pattern.png 295w,\n/static/ef40ceb3747e4ddb28236fe0e1cd7a75/508ef/head-first-design-pattern.png 578w\"\n        sizes=\"(max-width: 578px) 100vw, 578px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n</li>\n<li>\n<p><a href=\"https://zh.wikipedia.org/wiki/%E9%9D%A2%E5%90%91%E4%BE%A7%E9%9D%A2%E7%9A%84%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1\">https://zh.wikipedia.org/wiki/%E9%9D%A2%E5%90%91%E4%BE%A7%E9%9D%A2%E7%9A%84%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1</a></p>\n</li>\n<li>\n<p><a href=\"https://zh.wikipedia.org/wiki/%E6%A8%AA%E5%88%87%E5%85%B3%E6%B3%A8%E7%82%B9\">https://zh.wikipedia.org/wiki/%E6%A8%AA%E5%88%87%E5%85%B3%E6%B3%A8%E7%82%B9</a></p>\n</li>\n<li>\n<p><a href=\"https://juejin.im/post/5b06bf2df265da0de2574ee1\">https://juejin.im/post/5b06bf2df265da0de2574ee1</a></p>\n</li>\n<li>\n<p><a href=\"http://www.cnblogs.com/jqyp/archive/2010/08/20/1805041.html#3460821\">http://www.cnblogs.com/jqyp/archive/2010/08/20/1805041.html#3460821</a></p>\n</li>\n<li>\n<p><a href=\"http://blog.didispace.com/springbootaoplog/\">http://blog.didispace.com/springbootaoplog/</a></p>\n</li>\n</ul>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#aop-%E6%A6%82%E8%BF%B0\">AOP 概述</a></p>\n</li>\n<li>\n<p><a href=\"#aop-%E6%9C%AF%E8%AF%AD\">AOP 术语</a></p>\n</li>\n<li>\n<p><a href=\"#%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F\">代理模式</a></p>\n<ul>\n<li>\n<p><a href=\"#%E9%9D%99%E6%80%81%E4%BB%A3%E7%90%86\">静态代理</a></p>\n</li>\n<li>\n<p><a href=\"#%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86\">动态代理</a></p>\n<ul>\n<li><a href=\"#jdk%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86\">Jdk动态代理</a></li>\n<li><a href=\"#cglib%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86\">CGLIB动态代理</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#spring-aop\">Spring AOP</a></p>\n<ul>\n<li>\n<ul>\n<li><a href=\"#%E4%BD%BF%E7%94%A8aspect%E5%88%9B%E5%BB%BA%E5%88%87%E9%9D%A2%E7%B1%BB\">使用<code>@Aspect</code>创建切面类</a></li>\n<li><a href=\"#advice%E7%9A%845%E7%A7%8D%E6%B3%A8%E8%A7%A3\">Advice的5种注解</a></li>\n<li><a href=\"#%E4%BD%BF%E7%94%A8pointcut%E5%A3%B0%E6%98%8E%E5%88%87%E7%82%B9%E8%A1%A8%E8%BE%BE%E5%BC%8F\">使用<code>@Pointcut</code>声明切点表达式</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%E6%80%BB%E7%BB%93\">总结</a></p>\n</li>\n<li>\n<p><a href=\"#%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE\">参考文献</a></p>\n</li>\n</ul>","frontmatter":{"title":"面向切面编程","tags":["coding"],"description":"面向切面编程知识点整理。","date":"2019-02-14"}}},"pageContext":{"slug":"/aspect-oriented-programming/","previous":{"fields":{"slug":"/about-logging/"},"frontmatter":{"title":"关于日志的那些事儿","tags":["coding"],"slug":""}},"next":{"fields":{"slug":"/about/"},"frontmatter":{"title":"关于","tags":null,"slug":null}}}},"staticQueryHashes":["2052298874"],"slicesMap":{}}