{"componentChunkName":"component---src-templates-blog-post-js","path":"/java-http-url-connection-post/","result":{"data":{"site":{"siteMetadata":{"title":"Jason Yang's Website","author":"Jason Yang"}},"markdownRemark":{"id":"2279d3a6-b229-5771-94b0-8c4ed0be8b9f","excerpt":"","html":"<deckgo-highlight-code language=\"java\" terminal=\"carbon\" theme=\"one-dark\" line-numbers=\"true\"  >\n          <code slot=\"code\">public class HttpURLConnectionPost {  \n  \n\t/**  \n\t* @param args  \n\t* @throws IOException  \n\t*/  \n\tpublic static void main(String[] args) throws IOException {  \n\t\treadContentFromPost();  \n\t}  \n\tpublic static void readContentFromPost() throws IOException {  \n\t\t// Post请求的url，与get不同的是不需要带参数  \n\t\tURL postUrl = new URL(&quot;http://www.xxxxxxx.com&quot;);  \n\t\t// 打开连接  \n\t\tHttpURLConnection connection = (HttpURLConnection) postUrl.openConnection();       \n\t\t// 设置是否向connection输出，因为这个是post请求，参数要放在http正文内，因此需要设为true  \n\t\tconnection.setDoOutput(true);  \n\t\tconnection.setDoInput(true);  \n\t\t// 默认是 GET方式  \n\t\tconnection.setRequestMethod(&quot;POST&quot;);        \n\t\t// Post 请求不能使用缓存  \n\t\tconnection.setUseCaches(false);    \n\t\t//设置本次连接是否自动重定向   \n\t\tconnection.setInstanceFollowRedirects(true);        \n\t\t// 配置本次连接的Content-type，配置为application/x-www-form-urlencoded的  \n\t\t// 意思是正文是urlencoded编码过的form参数  \n\t\tconnection.setRequestProperty(&quot;Content-Type&quot;,&quot;application/x-www-form-urlencoded&quot;);  \n\t\t// 连接，从postUrl.openConnection()至此的配置必须要在connect之前完成，  \n\t\t// 要注意的是connection.getOutputStream会隐含的进行connect。  \n\t\tconnection.connect();  \n\t\tDataOutputStream out = new DataOutputStream(connection.getOutputStream());  \n\t\t// 正文，正文内容其实跟get的URL中 &#39;? &#39;后的参数字符串一致  \n\t\tString content = &quot;字段名=&quot; + URLEncoder.encode(&quot;字符串值&quot;, &quot;编码&quot;);  \n\t\t// DataOutputStream.writeBytes将字符串中的16位的unicode字符以8位的字符形式写到流里面  \n\t\tout.writeBytes(content);  \n\t\tout.flush();  \n\t\tout.close();  \n\t\tBufferedReader reader = new BufferedReader(new InputStreamReader(connection.getInputStream()));  \n\t\tString line;  \n\t\twhile ((line = reader.readLine()) != null){  \n\t\t\tSystem.out.println(line);  \n\t\t}  \n\t\treader.close();  \n\t\t//断开连接 \n\t\tconnection.disconnect();  \n\t}  \n  \n}</code>\n        </deckgo-highlight-code>","tableOfContents":"","frontmatter":{"title":"JAVA HttpURLConnection Post方式提交传递参数","tags":["coding"],"description":"如题，一段代码示例。","date":"2018-05-08"}}},"pageContext":{"slug":"/java-http-url-connection-post/","previous":{"fields":{"slug":"/sleepless-in-java/"},"frontmatter":{"title":"读《Java夜未眠》部分笔记","tags":["coding"],"slug":""}},"next":{"fields":{"slug":"/Integrate-an-h2-database-in-your-springboot-app/"},"frontmatter":{"title":"Integrate an H2 Database in Your Spring Boot App","tags":["coding"],"slug":""}}}},"staticQueryHashes":["2052298874"],"slicesMap":{}}