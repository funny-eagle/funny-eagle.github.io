{"componentChunkName":"component---src-templates-blog-post-js","path":"/arts-24/","result":{"data":{"site":{"siteMetadata":{"title":"Funny Eagle","author":"Jason Yang"}},"markdownRemark":{"id":"59927a8c-469e-5e58-85c1-24e42b94aba8","excerpt":"Algorithm Review Netty User guide discard server echo server time server Tip 使用 datax 将 mysql 数据导入 …","html":"<h2 id=\"algorithm\" style=\"position:relative;\"><a href=\"#algorithm\" aria-label=\"algorithm permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Algorithm</h2>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">package</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>nocoder<span class=\"token punctuation\">.</span>leetcode<span class=\"token punctuation\">.</span>solution</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token comment\">/**\r\n * 28. Implement strStr()\r\n * &lt;p>\r\n * Return the index of the first occurrence of needle in haystack, or -1 if needle is not part of haystack.\r\n * &lt;p>\r\n * Example 1:\r\n * &lt;p>\r\n * Input: haystack = \"hello\", needle = \"ll\"\r\n * Output: 2\r\n * Example 2:\r\n * &lt;p>\r\n * Input: haystack = \"aaaaa\", needle = \"bba\"\r\n * Output: -1\r\n * Clarification:\r\n * &lt;p>\r\n * What should we return when needle is an empty string?\r\n * This is a great question to ask during an interview.\r\n * &lt;p>\r\n * For the purpose of this problem, we will return 0 when needle is an empty string.\r\n * This is consistent to C's strstr() and Java's indexOf().\r\n *\r\n * @author yangjinlong\r\n * @date 2018-12-17\r\n */</span>\r\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ImplementStrStr</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">strStr</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> haystack<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> needle<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">char</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> haystackArr <span class=\"token operator\">=</span> haystack<span class=\"token punctuation\">.</span><span class=\"token function\">toCharArray</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">char</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> needleArr <span class=\"token operator\">=</span> needle<span class=\"token punctuation\">.</span><span class=\"token function\">toCharArray</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>needleArr<span class=\"token punctuation\">.</span>length <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n\r\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> haystackArr<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> needleArr<span class=\"token punctuation\">.</span>length <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">checkMatchingAtIndex</span><span class=\"token punctuation\">(</span>haystackArr<span class=\"token punctuation\">,</span> needleArr<span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">return</span> i<span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span>\r\n\r\n        <span class=\"token keyword\">return</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">checkMatchingAtIndex</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">char</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> haystackArr<span class=\"token punctuation\">,</span> <span class=\"token keyword\">char</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> needleArr<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> idx<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n\r\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> needleArr<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>haystackArr<span class=\"token punctuation\">[</span>i <span class=\"token operator\">+</span> idx<span class=\"token punctuation\">]</span> <span class=\"token operator\">!=</span> needleArr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span>\r\n\r\n        <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token class-name\">ImplementStrStr</span> implementStrStr <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ImplementStrStr</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>implementStrStr<span class=\"token punctuation\">.</span><span class=\"token function\">strStr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hello\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"llo\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>implementStrStr<span class=\"token punctuation\">.</span><span class=\"token function\">strStr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"aaaaaa\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"bba\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>implementStrStr<span class=\"token punctuation\">.</span><span class=\"token function\">strStr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"bbbbbb\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>implementStrStr<span class=\"token punctuation\">.</span><span class=\"token function\">strStr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"mississipp\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"issip\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span>\r\n</code></pre></div>\n<h2 id=\"review\" style=\"position:relative;\"><a href=\"#review\" aria-label=\"review permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Review</h2>\n<h3 id=\"netty-user-guide\" style=\"position:relative;\"><a href=\"#netty-user-guide\" aria-label=\"netty user guide permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"https://netty.io/wiki/user-guide-for-4.x.html#wiki-h2-0\">Netty User guide</a></h3>\n<ul>\n<li>discard server</li>\n<li>echo server</li>\n<li>time server</li>\n</ul>\n<h2 id=\"tip\" style=\"position:relative;\"><a href=\"#tip\" aria-label=\"tip permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tip</h2>\n<h3 id=\"使用-datax-将-mysql-数据导入-elasticsearch\" style=\"position:relative;\"><a href=\"#%E4%BD%BF%E7%94%A8-datax-%E5%B0%86-mysql-%E6%95%B0%E6%8D%AE%E5%AF%BC%E5%85%A5-elasticsearch\" aria-label=\"使用 datax 将 mysql 数据导入 elasticsearch permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>使用 datax 将 mysql 数据导入 elasticsearch</h3>\n<ul>\n<li>\n<p>访问 <a href=\"http://47.106.164.212:9100/\">es-head</a> 查看当前使用的 index</p>\n</li>\n<li>\n<p>删除没用的 <code class=\"language-text\">index</code> ，发送 HTTP <code class=\"language-text\">DELETE</code> 请求</p>\n<ul>\n<li><a href=\"http://47.106.164.212:9200/yuntu_librarys_v2\">http://47.106.164.212:9200/yuntu_librarys_v2</a></li>\n</ul>\n</li>\n<li>\n<p>创建<code class=\"language-text\">index</code>，发送 HTTP <code class=\"language-text\">PUT</code> 请求</p>\n<ul>\n<li>\n<p><a href=\"http://47.106.164.212:9200/yuntu_librarys_v2\">http://47.106.164.212:9200/yuntu_librarys_v2</a></p>\n</li>\n<li>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\r\n    <span class=\"token property\">\"index\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n       <span class=\"token property\">\"number_of_shards\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"number_of_replicas\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"0\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"refresh_interval\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"10s\"</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n<li>\n<p><a href=\"http://47.106.164.212:9200/yuntu_library_books_v2\">http://47.106.164.212:9200/yuntu_library_books_v2</a></p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\r\n    <span class=\"token property\">\"index\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n       <span class=\"token property\">\"number_of_shards\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"number_of_replicas\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"0\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"refresh_interval\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"10s\"</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n<li></li>\n</ul>\n</li>\n<li>\n<p>发送 HTTP <code class=\"language-text\">POST</code> 请求，添加 mapping</p>\n<ul>\n<li>\n<p><a href=\"http://47.106.164.212:9200/yuntu_librarys_v2/doc/_mapping?pretty\">http://47.106.164.212:9200/yuntu_librarys_v2/doc/_mapping?pretty</a></p>\n</li>\n<li>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\r\n    <span class=\"token property\">\"doc\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token property\">\"properties\"</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                    <span class=\"token property\">\"id\"</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                        <span class=\"token property\">\"type\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"integer\"</span>             \r\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n                    <span class=\"token property\">\"isbn\"</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                         <span class=\"token property\">\"type\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"keyword\"</span>                                       \r\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n                    <span class=\"token property\">\"price\"</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                         <span class=\"token property\">\"type\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"double\"</span>                                                                \r\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n                   <span class=\"token property\">\"bookId\"</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                         <span class=\"token property\">\"type\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"integer\"</span>                     \r\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n                    <span class=\"token property\">\"operUser\"</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                         <span class=\"token property\">\"type\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"integer\"</span>                     \r\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n                    <span class=\"token property\">\"customerId\"</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                         <span class=\"token property\">\"type\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"integer\"</span>                     \r\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n                    <span class=\"token property\">\"barNumber\"</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                         <span class=\"token property\">\"type\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"text\"</span><span class=\"token punctuation\">,</span>\r\n                         <span class=\"token property\">\"analyzer\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"keyword\"</span>               \r\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n                    <span class=\"token property\">\"isChecked\"</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                         <span class=\"token property\">\"type\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"text\"</span><span class=\"token punctuation\">,</span>\r\n                         <span class=\"token property\">\"analyzer\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"keyword\"</span>               \r\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n                   <span class=\"token property\">\"checkedDate\"</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                         <span class=\"token property\">\"type\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"text\"</span><span class=\"token punctuation\">,</span>\r\n                         <span class=\"token property\">\"analyzer\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"keyword\"</span>               \r\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n                    <span class=\"token property\">\"frameCode\"</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                         <span class=\"token property\">\"type\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"text\"</span><span class=\"token punctuation\">,</span>\r\n                         <span class=\"token property\">\"analyzer\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"keyword\"</span>                                                 \r\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n         \r\n                    <span class=\"token property\">\"isEffective\"</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                         <span class=\"token property\">\"type\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"text\"</span><span class=\"token punctuation\">,</span>\r\n                         <span class=\"token property\">\"analyzer\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"keyword\"</span>                                                 \r\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n                    <span class=\"token property\">\"bookName\"</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                        <span class=\"token property\">\"type\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"text\"</span><span class=\"token punctuation\">,</span>\r\n                         <span class=\"token property\">\"analyzer\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"keyword\"</span>          \r\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n                    <span class=\"token property\">\"author\"</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                        <span class=\"token property\">\"type\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"text\"</span><span class=\"token punctuation\">,</span>\r\n                         <span class=\"token property\">\"analyzer\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"keyword\"</span>                                              \r\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n                    <span class=\"token property\">\"publisher\"</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                       <span class=\"token property\">\"type\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"text\"</span><span class=\"token punctuation\">,</span>\r\n                         <span class=\"token property\">\"analyzer\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"keyword\"</span>      \r\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n                    <span class=\"token property\">\"publishDate\"</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                       <span class=\"token property\">\"type\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"text\"</span><span class=\"token punctuation\">,</span>\r\n                         <span class=\"token property\">\"analyzer\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"keyword\"</span>                                    \r\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n                   <span class=\"token property\">\"storageTime\"</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                       <span class=\"token property\">\"type\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"text\"</span><span class=\"token punctuation\">,</span>\r\n                         <span class=\"token property\">\"analyzer\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"keyword\"</span>                                    \r\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n                    <span class=\"token property\">\"categoryCode\"</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                      <span class=\"token property\">\"type\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"text\"</span><span class=\"token punctuation\">,</span>\r\n                         <span class=\"token property\">\"analyzer\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"keyword\"</span>      \r\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n                    <span class=\"token property\">\"catalogueDate\"</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                       <span class=\"token property\">\"type\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"text\"</span><span class=\"token punctuation\">,</span>\r\n                         <span class=\"token property\">\"analyzer\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"keyword\"</span>                                           \r\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n                    <span class=\"token property\">\"bookState\"</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                        <span class=\"token property\">\"type\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"text\"</span><span class=\"token punctuation\">,</span>\r\n                         <span class=\"token property\">\"analyzer\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"keyword\"</span>                                       \r\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n                   <span class=\"token property\">\"storeRoom\"</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                        <span class=\"token property\">\"type\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"text\"</span><span class=\"token punctuation\">,</span>\r\n                         <span class=\"token property\">\"analyzer\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"keyword\"</span>                                         \r\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n             \r\n                    <span class=\"token property\">\"borrowNum\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">{</span>\r\n                       <span class=\"token property\">\"type\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"integer\"</span>  \r\n                   <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n                 <span class=\"token property\">\"canAppoint\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">{</span>\r\n                       <span class=\"token property\">\"type\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"integer\"</span>  \r\n                   <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n                  \r\n                     <span class=\"token property\">\"praiseNum\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">{</span>\r\n                        <span class=\"token property\">\"type\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"integer\"</span>  \r\n                   <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n                    <span class=\"token property\">\"libCode\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">{</span>\r\n                        <span class=\"token property\">\"type\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"text\"</span><span class=\"token punctuation\">,</span>\r\n                         <span class=\"token property\">\"analyzer\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"keyword\"</span> \r\n                   <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n                   \r\n                    <span class=\"token property\">\"belongLibraryHallCode\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">{</span>\r\n                        <span class=\"token property\">\"type\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"text\"</span><span class=\"token punctuation\">,</span>\r\n                         <span class=\"token property\">\"analyzer\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"keyword\"</span> \r\n                   <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n                    <span class=\"token property\">\"callNumber\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">{</span>\r\n                        <span class=\"token property\">\"type\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"text\"</span><span class=\"token punctuation\">,</span>\r\n                         <span class=\"token property\">\"analyzer\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"keyword\"</span> \r\n                   <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n                    <span class=\"token property\">\"solrUpdate\"</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n                        <span class=\"token property\">\"type\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"date\"</span>                                      \r\n                       \r\n                    <span class=\"token punctuation\">}</span>\r\n                       \r\n            <span class=\"token punctuation\">}</span> \r\n    <span class=\"token punctuation\">}</span> \r\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n<li>\n<p>数据初始化</p>\n<ul>\n<li>\n<p><code class=\"language-text\">datax</code> 用于初始化数据量较大的表，如 <code class=\"language-text\">library_books</code></p>\n<ul>\n<li>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">python datax.py libraryBooks.json</code></pre></div>\n</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">logstash</code> 用于持续同步数据</p>\n<ul>\n<li>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">Logstash:usr/local/elk/logstash/mysql.conf 下yuntu-library-books.cfg, yuntu-librarys.cfg 的index 值</code></pre></div>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>es 索引别名替换, HTTP <code class=\"language-text\">POST</code>请求</p>\n<ul>\n<li>\n<p><a href=\"http://47.106.164.212:9200/_aliases\">http://47.106.164.212:9200/_aliases</a></p>\n</li>\n<li>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\r\n   <span class=\"token property\">\"actions\"</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\r\n        <span class=\"token punctuation\">{</span> <span class=\"token property\">\"remove\"</span> <span class=\"token operator\">:</span> \r\n         \t<span class=\"token punctuation\">{</span> \r\n                <span class=\"token property\">\"index\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"yuntu_library_books_v1\"</span><span class=\"token punctuation\">,</span> \r\n                <span class=\"token property\">\"alias\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"yuntu_library_books\"</span> \r\n            <span class=\"token punctuation\">}</span> \r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">{</span> <span class=\"token property\">\"add\"</span> <span class=\"token operator\">:</span> \r\n         \t<span class=\"token punctuation\">{</span> \r\n                <span class=\"token property\">\"index\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"yuntu_library_books_v2\"</span><span class=\"token punctuation\">,</span> \r\n                <span class=\"token property\">\"alias\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"yuntu_library_books\"</span> \r\n            <span class=\"token punctuation\">}</span> \r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">]</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"share\" style=\"position:relative;\"><a href=\"#share\" aria-label=\"share permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Share</h2>\n<h3 id=\"chinese-translation-of-netty-4x-user-guide-中文翻译netty-4x-用户指南\" style=\"position:relative;\"><a href=\"#chinese-translation-of-netty-4x-user-guide-%E4%B8%AD%E6%96%87%E7%BF%BB%E8%AF%91netty-4x-%E7%94%A8%E6%88%B7%E6%8C%87%E5%8D%97\" aria-label=\"chinese translation of netty 4x user guide 中文翻译netty 4x 用户指南 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"https://github.com/waylau/netty-4-user-guide\">Chinese translation of Netty 4.x User Guide. 中文翻译《Netty 4.x 用户指南》</a></h3>\n<p>中文版 netty user guide 作为参考</p>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#algorithm\">Algorithm</a></p>\n</li>\n<li>\n<p><a href=\"#review\">Review</a></p>\n<ul>\n<li><a href=\"#netty-user-guide\">Netty User guide</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#tip\">Tip</a></p>\n<ul>\n<li><a href=\"#%E4%BD%BF%E7%94%A8-datax-%E5%B0%86-mysql-%E6%95%B0%E6%8D%AE%E5%AF%BC%E5%85%A5-elasticsearch\">使用 datax 将 mysql 数据导入 elasticsearch</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#share\">Share</a></p>\n<ul>\n<li><a href=\"#chinese-translation-of-netty-4x-user-guide-%E4%B8%AD%E6%96%87%E7%BF%BB%E8%AF%91netty-4x-%E7%94%A8%E6%88%B7%E6%8C%87%E5%8D%97\">Chinese translation of Netty 4.x User Guide. 中文翻译《Netty 4.x 用户指南》</a></li>\n</ul>\n</li>\n</ul>","frontmatter":{"title":"ARTS 第24周：实现strStr算法、Netty User guide、使用datax将mysql数据导入elasticsearch与Netty 4.x用户指南中文翻译","tags":["coding","arts"],"description":"本周ARTS包含LeetCode实现strStr算法解析、Netty User guide分享、使用datax将mysql数据导入elasticsearch详解，以及Netty 4.x用户指南中文翻译。","date":"2018-12-15"}}},"pageContext":{"slug":"/arts-24","previous":{"fields":{"slug":"/arts-23"},"frontmatter":{"title":"ARTS 第23周：链表中间节点算法、复合模式、Python3 configparser读取包含百分号的配置文件与Spring Boot设置跨域访问","tags":["coding","arts"],"slug":"/arts-23"}},"next":{"fields":{"slug":"/arts-25"},"frontmatter":{"title":"ARTS 第25周：整数转罗马数字算法、10种常见软件架构模式、Spring Boot静态资源路径配置与GitHub ImgBot应用推荐","tags":["coding","arts"],"slug":"/arts-25"}}}},"staticQueryHashes":["2052298874"],"slicesMap":{}}