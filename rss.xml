<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Funny Eagle]]></title><description><![CDATA[Funny Eagle 技术博客;记录技术成长]]></description><link>https://funnyeagle.cn</link><generator>GatsbyJS</generator><lastBuildDate>Mon, 29 Sep 2025 04:55:39 GMT</lastBuildDate><item><title><![CDATA[使用wscat进行WebSocket通信测试]]></title><description><![CDATA[wscat 是基于 Node.js 的命令行工具，可以方便地进行 WebSocket 通信测试。 wscat安装 创建WebSocket服务器 测试连接WebSocket服务器 用法 选项 通过 wscat，可以快速验证 WebSocket…]]></description><link>https://funnyeagle.cn/wscat</link><guid isPermaLink="false">https://funnyeagle.cn/wscat</guid><pubDate>Wed, 23 Jul 2025 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;wscat 是基于 Node.js 的命令行工具，可以方便地进行 WebSocket 通信测试。&lt;/p&gt;
&lt;h3 id=&quot;wscat安装&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#wscat%E5%AE%89%E8%A3%85&quot; aria-label=&quot;wscat安装 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;wscat安装&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-g&lt;/span&gt; wscat&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;创建websocket服务器&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%88%9B%E5%BB%BAwebsocket%E6%9C%8D%E5%8A%A1%E5%99%A8&quot; aria-label=&quot;创建websocket服务器 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;创建WebSocket服务器&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;wscat &lt;span class=&quot;token parameter variable&quot;&gt;--listen&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;8080&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;测试连接websocket服务器&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%B5%8B%E8%AF%95%E8%BF%9E%E6%8E%A5websocket%E6%9C%8D%E5%8A%A1%E5%99%A8&quot; aria-label=&quot;测试连接websocket服务器 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;测试连接WebSocket服务器&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;wscat &lt;span class=&quot;token parameter variable&quot;&gt;-c&lt;/span&gt; ws://localhost:8080&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;用法&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E7%94%A8%E6%B3%95&quot; aria-label=&quot;用法 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;用法&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;wscat &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;选项&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;--listen &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; 端口 &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;--connect&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; 网址 &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;选项&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E9%80%89%E9%A1%B9&quot; aria-label=&quot;选项 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;选项&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;-V, --version 输出版本号
--auth &amp;lt;用户名：密码&gt; 添加基本 HTTP 认证头
--ca &amp;lt; 证书机构 &gt; 指定证书机构（仅用于 --connect）
--cert &amp;lt; 客户端 SSL 证书 &gt; 指定客户端 SSL 证书（仅用于 --connect）
--host &amp;lt; 主机 &gt; 可选主机
--key &amp;lt; 密钥 &gt; 指定客户端 SSL 证书的密钥（仅用于 --connect）
--max-redirects [数量] 允许的最大重定向次数（默认：10）
--no-color 无颜色模式运行
--passphrase [密码短语] 指定客户端 SSL 证书密钥的密码短语（仅用于 --connect）。若不提供值，将提示输入
--proxy &amp;lt;[协议://] 主机 [: 端口]&gt; 通过代理连接。代理必须支持 CONNECT 方法
--slash 启用控制帧的斜杠命令（/ping [数据]、/pong [数据]、/close [代码 [, 原因]]）（仅用于 --connect）
-c, --connect &amp;lt; 网址 &gt; 连接到 WebSocket 服务器
-H, --header &amp;lt; 头信息：值 &gt; 设置 HTTP 头信息。重复该选项可设置多个（仅用于 --connect）（默认：[]）
-l, --listen &amp;lt; 端口 &gt; 监听端口
-L, --location 跟随重定向
-n, --no-check 不检查未授权证书（仅用于 --connect）
-o, --origin &amp;lt; 源 &gt; 可选的源信息
-p, --protocol &amp;lt; 版本 &gt; 可选的协议版本
-P, --show-ping-pong 当收到 ping 或 pong 帧时打印通知（仅用于 --connect）
-s, --subprotocol &amp;lt; 协议 &gt; 可选的子协议。重复该选项可指定多个（默认：[]）
-w, --wait &amp;lt; 秒数 &gt; 执行命令后等待指定秒数（-1 表示保持连接打开）
-x, --execute &amp;lt; 命令 &gt; 连接后执行命令。重复该选项可执行多个（仅用于 --connect）（默认：[]）
-h, --help 显示命令帮助&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;通过 wscat，可以快速验证 WebSocket 服务器的连接、消息发送和接收功能，是开发和调试的实用工具。Github: &lt;a href=&quot;https://github.com/websockets/wscat&quot;&gt;https://github.com/websockets/wscat&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[JAAS是什么]]></title><description><![CDATA[JAAS（Java Authentication and Authorization Service）配置是Java中用于实现身份验证和授权的标准机制，在Kafka客户端中主要用于配置安全认证信息（如用户名、密码）。以下是关于JAAS配置的详细说明： 1. 什么是JAAS…]]></description><link>https://funnyeagle.cn/what-is-jaas</link><guid isPermaLink="false">https://funnyeagle.cn/what-is-jaas</guid><pubDate>Wed, 02 Jul 2025 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;JAAS（Java Authentication and Authorization Service）配置是Java中用于实现身份验证和授权的标准机制，在Kafka客户端中主要用于配置安全认证信息（如用户名、密码）。以下是关于JAAS配置的详细说明：&lt;/p&gt;
&lt;h3 id=&quot;1-什么是jaas&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#1-%E4%BB%80%E4%B9%88%E6%98%AFjaas&quot; aria-label=&quot;1 什么是jaas permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;strong&gt;1. 什么是JAAS？&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;JAAS是Java平台提供的安全框架，允许应用程序：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;验证用户身份&lt;/strong&gt;（Authentication）：确认用户是谁。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;授权访问资源&lt;/strong&gt;（Authorization）：决定用户可以做什么。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;在Kafka中，JAAS配置主要用于存储认证所需的凭证（如用户名和密码），并指定使用的认证机制（如SCRAM、PLAIN、GSSAPI等）。&lt;/p&gt;
&lt;h3 id=&quot;2-kafka中的jaas配置格式&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#2-kafka%E4%B8%AD%E7%9A%84jaas%E9%85%8D%E7%BD%AE%E6%A0%BC%E5%BC%8F&quot; aria-label=&quot;2 kafka中的jaas配置格式 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;strong&gt;2. Kafka中的JAAS配置格式&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;JAAS配置通常以字符串形式嵌入到Kafka客户端的配置中，格式为：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;put&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;sasl.jaas.config&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;LoginModuleClassName required option1=value1 option2=value2;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;LoginModuleClassName&lt;/strong&gt;：指定使用的登录模块类，例如：
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;org.apache.kafka.common.security.plain.PlainLoginModule&lt;/code&gt;（PLAIN机制）&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;org.apache.kafka.common.security.scram.ScramLoginModule&lt;/code&gt;（SCRAM机制）&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;com.sun.security.auth.module.Krb5LoginModule&lt;/code&gt;（Kerberos机制）&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;required&lt;/strong&gt;：表示该登录模块是必需的。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;option&lt;/strong&gt;：配置选项，如&lt;code class=&quot;language-text&quot;&gt;username&lt;/code&gt;、&lt;code class=&quot;language-text&quot;&gt;password&lt;/code&gt;等。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;3-常见jaas配置示例&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#3-%E5%B8%B8%E8%A7%81jaas%E9%85%8D%E7%BD%AE%E7%A4%BA%E4%BE%8B&quot; aria-label=&quot;3 常见jaas配置示例 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;strong&gt;3. 常见JAAS配置示例&lt;/strong&gt;&lt;/h3&gt;
&lt;h4 id=&quot;-plain机制用户名密码&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#-plain%E6%9C%BA%E5%88%B6%E7%94%A8%E6%88%B7%E5%90%8D%E5%AF%86%E7%A0%81&quot; aria-label=&quot; plain机制用户名密码 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;strong&gt;① PLAIN机制（用户名+密码）&lt;/strong&gt;&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;put&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;sasl.jaas.config&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;token string&quot;&gt;&quot;org.apache.kafka.common.security.plain.PlainLoginModule required &quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;username=\&quot;your_username\&quot; &quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;password=\&quot;your_password\&quot;;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&quot;-scram-sha-256512机制&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#-scram-sha-256512%E6%9C%BA%E5%88%B6&quot; aria-label=&quot; scram sha 256512机制 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;strong&gt;② SCRAM-SHA-256/512机制&lt;/strong&gt;&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;put&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;sasl.jaas.config&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;token string&quot;&gt;&quot;org.apache.kafka.common.security.scram.ScramLoginModule required &quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;username=\&quot;your_username\&quot; &quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;password=\&quot;your_password\&quot;;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&quot;-kerberos机制gssapi&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#-kerberos%E6%9C%BA%E5%88%B6gssapi&quot; aria-label=&quot; kerberos机制gssapi permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;strong&gt;③ Kerberos机制（GSSAPI）&lt;/strong&gt;&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;put&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;sasl.jaas.config&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;token string&quot;&gt;&quot;com.sun.security.auth.module.Krb5LoginModule required &quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;useKeyTab=true &quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;storeKey=true &quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;keyTab=\&quot;/path/to/your/keytab\&quot; &quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;principal=\&quot;your_principal@YOUR.REALM\&quot;;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;4-在kafka客户端中配置jaas&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#4-%E5%9C%A8kafka%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%B8%AD%E9%85%8D%E7%BD%AEjaas&quot; aria-label=&quot;4 在kafka客户端中配置jaas permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;strong&gt;4. 在Kafka客户端中配置JAAS&lt;/strong&gt;&lt;/h3&gt;
&lt;h4 id=&quot;方式一代码中直接配置推荐&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%96%B9%E5%BC%8F%E4%B8%80%E4%BB%A3%E7%A0%81%E4%B8%AD%E7%9B%B4%E6%8E%A5%E9%85%8D%E7%BD%AE%E6%8E%A8%E8%8D%90&quot; aria-label=&quot;方式一代码中直接配置推荐 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;strong&gt;方式一：代码中直接配置（推荐）&lt;/strong&gt;&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token class-name&quot;&gt;Properties&lt;/span&gt; props &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Properties&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;put&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;sasl.jaas.config&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;org.apache.kafka.common.security.scram.ScramLoginModule required &quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;username=\&quot;%s\&quot; password=\&quot;%s\&quot;;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;your_username&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;your_password&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&quot;方式二通过jaas配置文件&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%96%B9%E5%BC%8F%E4%BA%8C%E9%80%9A%E8%BF%87jaas%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6&quot; aria-label=&quot;方式二通过jaas配置文件 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;strong&gt;方式二：通过JAAS配置文件&lt;/strong&gt;&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;创建&lt;code class=&quot;language-text&quot;&gt;kafka_client_jaas.conf&lt;/code&gt;文件：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;properties&quot;&gt;&lt;pre class=&quot;language-properties&quot;&gt;&lt;code class=&quot;language-properties&quot;&gt;&lt;span class=&quot;token key attr-name&quot;&gt;KafkaClient&lt;/span&gt; &lt;span class=&quot;token value attr-value&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token key attr-name&quot;&gt;    org.apache.kafka.common.security.scram.ScramLoginModule&lt;/span&gt; &lt;span class=&quot;token value attr-value&quot;&gt;required&lt;/span&gt;
&lt;span class=&quot;token key attr-name&quot;&gt;    username&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token value attr-value&quot;&gt;&quot;your_username&quot;&lt;/span&gt;
&lt;span class=&quot;token key attr-name&quot;&gt;    password&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token value attr-value&quot;&gt;&quot;your_password&quot;;&lt;/span&gt;
};&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;在Java启动时指定配置文件路径：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;java&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-Djava.security.auth.login.config&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;/path/to/kafka_client_jaas.conf &lt;span class=&quot;token parameter variable&quot;&gt;-jar&lt;/span&gt; your-app.jar&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;在代码中简化配置：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;put&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;sasl.jaas.config&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;KafkaClient&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;5-注意事项&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#5-%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9&quot; aria-label=&quot;5 注意事项 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;strong&gt;5. 注意事项&lt;/strong&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;安全性&lt;/strong&gt;：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;密码不应硬编码在代码中，建议通过环境变量或配置中心获取。&lt;/li&gt;
&lt;li&gt;生产环境推荐使用SASL_SSL协议（同时启用认证和加密）。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;与其他配置的配合&lt;/strong&gt;：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;sasl.mechanism&lt;/code&gt;必须与JAAS配置中的登录模块匹配（如SCRAM-SHA-256对应&lt;code class=&quot;language-text&quot;&gt;ScramLoginModule&lt;/code&gt;）。&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;security.protocol&lt;/code&gt;指定传输协议（如SASL_PLAINTEXT或SASL_SSL）。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;调试技巧&lt;/strong&gt;：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;添加系统属性&lt;code class=&quot;language-text&quot;&gt;-Djava.security.debug=loginconfig,jaas&lt;/code&gt;可查看JAAS详细调试信息。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;6-总结&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#6-%E6%80%BB%E7%BB%93&quot; aria-label=&quot;6 总结 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;strong&gt;6. 总结&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;JAAS配置是Kafka客户端实现安全认证的核心机制，通过指定登录模块和凭证信息，确保客户端能够合法访问Kafka集群。不同的认证机制（如PLAIN、SCRAM、Kerberos）对应不同的JAAS配置格式，需根据实际环境选择合适的配置方式。&lt;/p&gt;</content:encoded></item><item><title><![CDATA[goaccess设置为中文报告并显示访客地理位置]]></title><description><![CDATA[本文主要介绍如何将goaccess设置为中文报告并显示访客地理位置。 本文内容基于 Ubuntu 22.04.5 LTS ，goaccess 1.9.4 GoAccess 是轻量级日志分析工具，支持实时解析 Nginx、Apache 等日志，生成交互式 HTML…]]></description><link>https://funnyeagle.cn/goaccess-show-cn-and-location</link><guid isPermaLink="false">https://funnyeagle.cn/goaccess-show-cn-and-location</guid><pubDate>Mon, 23 Jun 2025 00:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;本文主要介绍如何将goaccess设置为中文报告并显示访客地理位置。&lt;/p&gt;
&lt;p&gt;本文内容基于 Ubuntu 22.04.5 LTS ，goaccess 1.9.4&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;GoAccess 是轻量级日志分析工具，支持实时解析 Nginx、Apache 等日志，生成交互式 HTML 报告，含访问统计、用户来源等可视化数据。&lt;/p&gt;
&lt;h2 id=&quot;使goaccess生成的报告页面显示为中文&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%BD%BFgoaccess%E7%94%9F%E6%88%90%E7%9A%84%E6%8A%A5%E5%91%8A%E9%A1%B5%E9%9D%A2%E6%98%BE%E7%A4%BA%E4%B8%BA%E4%B8%AD%E6%96%87&quot; aria-label=&quot;使goaccess生成的报告页面显示为中文 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;使goaccess生成的报告页面显示为中文&lt;/h2&gt;
&lt;p&gt;goaccess 1.3.x 版本开始支持中文，打开终端，输入&lt;code class=&quot;language-text&quot;&gt;locale&lt;/code&gt;查看当前系统语言设置.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# locale&lt;/span&gt;
&lt;span class=&quot;token assign-left variable&quot;&gt;&lt;span class=&quot;token environment constant&quot;&gt;LANG&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;zh_CN.UTF-8&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;如果当前系统语言不是中文，使用命令来安装中文语言包。&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;apt-get&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; language-pack-zh-hans&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;安装完成后，将系统语言修改为中文&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; update-locale &lt;span class=&quot;token assign-left variable&quot;&gt;&lt;span class=&quot;token environment constant&quot;&gt;LANG&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;zh_CN.UTF-8&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;修改完重启系统以生效。&lt;/p&gt;
&lt;h2 id=&quot;使goaccess生成的报告显示地理位置&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%BD%BFgoaccess%E7%94%9F%E6%88%90%E7%9A%84%E6%8A%A5%E5%91%8A%E6%98%BE%E7%A4%BA%E5%9C%B0%E7%90%86%E4%BD%8D%E7%BD%AE&quot; aria-label=&quot;使goaccess生成的报告显示地理位置 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;使goaccess生成的报告显示地理位置&lt;/h2&gt;
&lt;p&gt;显示地理位置需要启用geoip，所以goaccess需要手动编译安装&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;apt&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; libmaxminddb0 libmaxminddb-dev mmdb-bin  libncursesw5-dev
$ &lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; clone https://github.com/allinurl/goaccess.git 
$ &lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; goaccess
$ autoreconf &lt;span class=&quot;token parameter variable&quot;&gt;-fi&lt;/span&gt;
$ ./configure --enable-utf8 --enable-geoip&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;mmdb
$ &lt;span class=&quot;token function&quot;&gt;make&lt;/span&gt;
$ &lt;span class=&quot;token function&quot;&gt;make&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;安装完成后，输入goaccess —version 查看一下版本，Build configure arguments: 需要有—enable-geoip=mmdb&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;$ goaccess &lt;span class=&quot;token parameter variable&quot;&gt;--version&lt;/span&gt;
GoAccess - &lt;span class=&quot;token number&quot;&gt;1.9&lt;/span&gt;.4.
For &lt;span class=&quot;token function&quot;&gt;more&lt;/span&gt; details visit: https://goaccess.io/
Copyright &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;C&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2009&lt;/span&gt;-2024 by Gerardo Orellana

Build configure arguments:
  --enable-utf8
  --enable-geoip&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;mmdb&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;到 maxmind.com下载 GeoLite2-City 的mmdb数据库文件，下载完解压，我下载下来是个&lt;code class=&quot;language-text&quot;&gt;GeoLite2-City_20250620.tar.gz&lt;/code&gt;，解压后在goaccess命令后面跟上GeoLite2-City.mmdb路径 &lt;code class=&quot;language-text&quot;&gt;--geoip-database=/xxx/GeoLite2-City_20250620/GeoLite2-City.mmdb&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/be8f8e39c972c257eca0e12328b47e2d/29114/9f7e640d00714646aac04601d03f2de0.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 65.54054054054055%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAABlklEQVR42nWS2W7jMAxF/f8fVmBeA3TStGnHqa3Eq2wtlEgt9tBjzEPT9IAgbEKXm1Qsy7ozA1WiP382GoPBII2TBia7ee1xcjRakhYMkksLxJyWpQAfFCCG6CmAp4vUr508teO7VLX1lXaV2c2zcaS2KHyqfIKUC+1o4MwhUUwhplYq0c9i1NbT+o0UI/scYyJcuLJ2wbI05Zz5d61E/VkLhwTOwYb7Z+yctXA8vUkpL7f2cL44j4XhYQwCBu6cK/PBeZ7VD7y+l03TVv18vE6IVBi/tc3bYv0u1lobYx6KT+cP0fZgtFYzIhbah8Ggo8i9h5RZ2XXdMAzOOfyK974SV620AtfOEGMshKJDC2dJH3MYXVyXZRt/X8BXONKPW7ejC1cTOFJMgI3yXJ8NY1p/hrOJpjUO47JiXvOyFp6i9dvCeeaYskfkhsMjiKhvO1CaJgW3Nloo7tLzTfDMvDB9B69wml+efnXPv8uyPhxL1PpezGUfKP/z9qesm05qc5sUv8gH4v2qvsPxS1WPcgJr+ZuI/gLaEOjQNVEmpgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;maxmind-geolite2-city&quot;
        title=&quot;&quot;
        src=&quot;/static/be8f8e39c972c257eca0e12328b47e2d/fcda8/9f7e640d00714646aac04601d03f2de0.png&quot;
        srcset=&quot;/static/be8f8e39c972c257eca0e12328b47e2d/12f09/9f7e640d00714646aac04601d03f2de0.png 148w,
/static/be8f8e39c972c257eca0e12328b47e2d/e4a3f/9f7e640d00714646aac04601d03f2de0.png 295w,
/static/be8f8e39c972c257eca0e12328b47e2d/fcda8/9f7e640d00714646aac04601d03f2de0.png 590w,
/static/be8f8e39c972c257eca0e12328b47e2d/efc66/9f7e640d00714646aac04601d03f2de0.png 885w,
/static/be8f8e39c972c257eca0e12328b47e2d/c83ae/9f7e640d00714646aac04601d03f2de0.png 1180w,
/static/be8f8e39c972c257eca0e12328b47e2d/29114/9f7e640d00714646aac04601d03f2de0.png 1920w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;完整使用命令如下：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;goaccess /var/log/nginx/access.log &lt;span class=&quot;token parameter variable&quot;&gt;-o&lt;/span&gt; /var/www/html/report.html --log-format&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;COMBINED --geoip-database&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;/root/GeoLite2-City_20250620/GeoLite2-City.mmdb --ignore-crawlers&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;--ignore-crawlers&lt;/code&gt; 是忽略爬虫，可以不加。&lt;/p&gt;
&lt;p&gt;使用效果
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1459d797da276a4b0e5f9810d913d100/29114/5870d230fc1b4c15a2d84b745d4c9f41.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 41.21621621621622%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABcUlEQVR42iWQSXLbQAxFeQ27LFlkzwN6opqkKFmiKIqS46mycpKdF9nk/gcIbFdh8QvAw/+F4jgMh9N4mq/T5XE8Xx6G03ftDuN+GPfjNF9ep/PL9ennr/nHPB0Pw9Bud/Hxd/P8p4CYles6k60AUKGWLkoflY/SgXJLGy/nj/f57/v541//9pSvOg3B9ZKwbrNFuCEcLKy1TVzH5LM2kXJrbBI6lNwQAdoEYROD3Kx3VAYq3LJSIfdFyUzKva8743OoO0gtV55JJ/GW8sKEZrNHA5/adntAQQXgtOI2d7tiRTUqrn3FtLRB2Sgs3obNwyhtJBJXgSlHlVOQlA24fLfiNwvqUvMJr6jiypVMMWlRQMgY5DhdlUtE2oprKi0RhmuHHvdE3C7JzaKqBHw7G+0SFVa7GsI65g1qhI1fky9bTISkiw0WOt2tGPI4LfAl3GDaWhgMHCG2VDp8koJaQv0Feyxsakg2fMIl04tSpKb/D3U4WeWkxp45AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;c14d048bfbb4b512de0a27abfaa14732.png&quot;
        title=&quot;&quot;
        src=&quot;/static/1459d797da276a4b0e5f9810d913d100/fcda8/5870d230fc1b4c15a2d84b745d4c9f41.png&quot;
        srcset=&quot;/static/1459d797da276a4b0e5f9810d913d100/12f09/5870d230fc1b4c15a2d84b745d4c9f41.png 148w,
/static/1459d797da276a4b0e5f9810d913d100/e4a3f/5870d230fc1b4c15a2d84b745d4c9f41.png 295w,
/static/1459d797da276a4b0e5f9810d913d100/fcda8/5870d230fc1b4c15a2d84b745d4c9f41.png 590w,
/static/1459d797da276a4b0e5f9810d913d100/efc66/5870d230fc1b4c15a2d84b745d4c9f41.png 885w,
/static/1459d797da276a4b0e5f9810d913d100/c83ae/5870d230fc1b4c15a2d84b745d4c9f41.png 1180w,
/static/1459d797da276a4b0e5f9810d913d100/29114/5870d230fc1b4c15a2d84b745d4c9f41.png 1920w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Nacos Client 获取不到 Nacos 服务端配置的常见原因与解决方案]]></title><description><![CDATA[在微服务架构中，Nacos 作为一款强大的服务发现与配置管理工具，被广泛应用。然而，在实际开发和部署过程中，可能会遇到 Nacos Client 获取不到 Nacos 服务端配置的问题。当出现这一情况时，首先要检查 Nacos 客户端配置的 Nacos Server…]]></description><link>https://funnyeagle.cn/nacos-cient-develop-problems</link><guid isPermaLink="false">https://funnyeagle.cn/nacos-cient-develop-problems</guid><pubDate>Fri, 20 Jun 2025 00:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;在微服务架构中，Nacos 作为一款强大的服务发现与配置管理工具，被广泛应用。然而，在实际开发和部署过程中，可能会遇到 Nacos Client 获取不到 Nacos 服务端配置的问题。当出现这一情况时，首先要检查 Nacos 客户端配置的 Nacos Server 用户名、密码、namespace、group 是否正确。错误的认证信息会导致客户端无法通过服务端的身份验证，进而无法获取配置；而错误的 namespace 或 group 则会使客户端请求的配置路径错误，找不到对应的配置文件。完成这些基础检查后，可进一步围绕以下常见原因展开分析，并通过相应的解决方案，快速定位和解决问题。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;注：本文问题基于Nacos client 2.3.0， Nacos Server 2.3.2&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;一springprofilesactive-环境变量配置错误&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%B8%80springprofilesactive-%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E9%85%8D%E7%BD%AE%E9%94%99%E8%AF%AF&quot; aria-label=&quot;一springprofilesactive 环境变量配置错误 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;一、spring.profiles.active 环境变量配置错误&lt;/h2&gt;
&lt;h3 id=&quot;问题现象&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E9%97%AE%E9%A2%98%E7%8E%B0%E8%B1%A1&quot; aria-label=&quot;问题现象 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;问题现象&lt;/h3&gt;
&lt;p&gt;服务启动日志里会发现几条warning log&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Ignore the empty nacos configuration and get it based on dataId[serviceName.yaml] &amp;amp; group[0.1.0-SNAPSHOT]&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;这说明没有从nacos server获取到配置，客户端本地缓存的nacos目录下也没有对应的配置。&lt;/p&gt;
&lt;p&gt;当通过环境变量传入&lt;code class=&quot;language-text&quot;&gt;spring.profiles.active&lt;/code&gt;且存在多个值时，如果将其配置成包含空格的字符串，而未正确拆分成数组形式，Nacos Client 就无法读取到正确的 profiles，进而导致无法获取对应的配置。例如，通过&lt;code class=&quot;language-text&quot;&gt;export spring.profiles.active=&quot; dev, test&quot;&lt;/code&gt;这样的方式设置环境变量，表面上看似传入了两个 profiles，但实际上因为格式问题，无法识别成多个profile。&lt;/p&gt;
&lt;h3 id=&quot;原因分析&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%8E%9F%E5%9B%A0%E5%88%86%E6%9E%90&quot; aria-label=&quot;原因分析 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;原因分析&lt;/h3&gt;
&lt;p&gt;Nacos Client 在读取&lt;code class=&quot;language-text&quot;&gt;spring.profiles.active&lt;/code&gt;时，期望获取的是一个明确的、可解析的 &lt;code class=&quot;language-text&quot;&gt;profiles&lt;/code&gt; 列表。在 Nacos 的配置管理逻辑中，不同的 &lt;code class=&quot;language-text&quot;&gt;profiles&lt;/code&gt; 对应着不同的配置集合，如果以错误的字符串格式传入，客户端无法将其正确解析为多个独立的 &lt;code class=&quot;language-text&quot;&gt;profiles&lt;/code&gt;，也就无法匹配到服务端相应的配置文件，导致客户端请求的配置路径错误，自然无法获取到有效的配置。&lt;/p&gt;
&lt;p&gt;Nacos客户端配置过程：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;获取 profiles 信息&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;在应用启动时，nacos-client 首先获取 &lt;code class=&quot;language-text&quot;&gt;spring.profiles.active&lt;/code&gt; 的值，该值可通过多种方式设置，如配置文件、环境变量或命令行参数。例如，在 bootstrap.properties 中配置 &lt;code class=&quot;language-text&quot;&gt;spring.profiles.active=dev&lt;/code&gt;，或通过环境变量 &lt;code class=&quot;language-text&quot;&gt;export spring.profiles.active=dev&lt;/code&gt; 传入。&lt;/p&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;构建配置文件名称&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;在springboot应用中，我们使用&lt;code class=&quot;language-text&quot;&gt;spring.application.name&lt;/code&gt; 配置进行自定义应用名。根据获取到的 profiles 信息和应用名称，nacos-client 构建出对应的配置文件名称。具体规则为：应用名-profiles.yaml。例如，当应用名为 my-service，profiles 为 dev 时，最终构建的配置文件名称为 my-service-dev.yaml。&lt;/p&gt;
&lt;h3 id=&quot;解决方案&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88&quot; aria-label=&quot;解决方案 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;解决方案&lt;/h3&gt;
&lt;p&gt;将环境变量中的spring.profiles.active以正确的数组形式传入。使用逗号分隔多个值，例如&lt;code class=&quot;language-text&quot;&gt;spring.profiles.active=dev,test&lt;/code&gt; 。确保配置的 profiles 在 Nacos 服务端存在对应的配置文件，并且配置文件的命名符合规范，如dataId中包含对应的 profiles 标识。&lt;/p&gt;
&lt;h1 id=&quot;二nacos-server-9848-端口网络策略问题&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%BA%8Cnacos-server-9848-%E7%AB%AF%E5%8F%A3%E7%BD%91%E7%BB%9C%E7%AD%96%E7%95%A5%E9%97%AE%E9%A2%98&quot; aria-label=&quot;二nacos server 9848 端口网络策略问题 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;二、Nacos Server 9848 端口网络策略问题&lt;/h1&gt;
&lt;h3 id=&quot;问题现象-1&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E9%97%AE%E9%A2%98%E7%8E%B0%E8%B1%A1-1&quot; aria-label=&quot;问题现象 1 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;问题现象&lt;/h3&gt;
&lt;p&gt;Nacos Server 默认采用双端口设计，8848 端口用于 HTTP 协议通信，9848 端口用于 gRPC 协议通信。当 Nacos Server 的 9848 端口没有开通相应的网络策略时，Nacos Client 在建立连接过程中，尝试创建 gRPC 连接就会失败，从而影响配置的获取。&lt;/p&gt;
&lt;h3 id=&quot;原因分析-1&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%8E%9F%E5%9B%A0%E5%88%86%E6%9E%90-1&quot; aria-label=&quot;原因分析 1 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;原因分析&lt;/h3&gt;
&lt;p&gt;从 Nacos 2.x 版本开始引入的 gRPC 协议，用于实现配置变更推送、服务注册发现的增量更新等功能，提升了通信的效率和实时性。Nacos Client 在与服务端交互时，会根据协议需求尝试与 9848 端口建立 gRPC 连接。如果该端口被防火墙拦截，或者网络策略限制了访问，客户端就无法完成连接的建立，导致配置获取流程受阻。因为部分配置的获取和更新依赖于 gRPC 连接的正常通信，所以连接失败会直接导致配置获取不到。&lt;/p&gt;
&lt;h3 id=&quot;解决方案-1&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88-1&quot; aria-label=&quot;解决方案 1 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;解决方案&lt;/h3&gt;
&lt;p&gt;检查服务器的防火墙设置，确保 9848 端口已开放。在 Linux 系统中，使用iptables命令添加规则开放端口，例如iptables -A INPUT -p tcp —dport 9848 -j ACCEPT ；如果使用的是云服务器，如阿里云、腾讯云等，需要在控制台的安全组规则中添加允许 9848 端口访问的规则。同时，确认 Nacos Server 的配置文件中关于端口的配置是否正确，可检查application.properties中是否有关于端口的自定义配置，确保与实际网络环境一致。&lt;/p&gt;
&lt;h2 id=&quot;三nacos-client-依赖包缺失&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%B8%89nacos-client-%E4%BE%9D%E8%B5%96%E5%8C%85%E7%BC%BA%E5%A4%B1&quot; aria-label=&quot;三nacos client 依赖包缺失 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;三、Nacos Client 依赖包缺失&lt;/h2&gt;
&lt;h3 id=&quot;问题现象-2&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E9%97%AE%E9%A2%98%E7%8E%B0%E8%B1%A1-2&quot; aria-label=&quot;问题现象 2 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;问题现象&lt;/h3&gt;
&lt;p&gt;查看 Nacos Client 的异常日志时，若发现存在依赖包缺失的提示，如缺少 jackson 依赖，就会导致 Nacos Client 无法正常解析服务端返回的配置数据，从而获取不到配置。在日志中可能会出现类似于&lt;code class=&quot;language-text&quot;&gt;ClassNotFoundException: com.fasterxml.jackson.databind.ObjectMapper&lt;/code&gt;这样的错误信息。&lt;/p&gt;
&lt;h3 id=&quot;原因分析-2&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%8E%9F%E5%9B%A0%E5%88%86%E6%9E%90-2&quot; aria-label=&quot;原因分析 2 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;原因分析&lt;/h3&gt;
&lt;p&gt;在 Nacos 进行配置的传输和解析过程中，依赖于众多的第三方库。Jackson 作为常用的 JSON 处理库，在 Nacos 中用于对配置数据进行序列化和反序列化操作。如果缺少 Jackson 依赖，Nacos Client 在接收到服务端返回的 JSON 格式配置数据时，无法将其正确解析为 Java 对象，也就无法获取配置内容。此外，依赖包缺失还可能导致其他功能模块无法正常工作，进一步影响配置的获取流程。&lt;/p&gt;
&lt;h3 id=&quot;解决方案-2&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88-2&quot; aria-label=&quot;解决方案 2 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;解决方案&lt;/h3&gt;
&lt;p&gt;根据项目所使用的构建工具（如 Maven 或 Gradle），在项目的依赖管理文件中添加缺失的依赖包。对于 Maven 项目，在pom.xml文件中添加如下依赖：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xml&quot;&gt;&lt;pre class=&quot;language-xml&quot;&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;dependency&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;groupId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;com.fasterxml.jackson.core&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;groupId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;artifactId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;jackson-databind&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;artifactId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;2.15.2&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;dependency&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;添加依赖后，重新构建项目，确保依赖包被正确下载和引入。同时，检查是否还有其他相关依赖缺失，可通过 IDE 的依赖分析工具或构建工具的依赖树查看功能进行排查。&lt;/p&gt;</content:encoded></item><item><title><![CDATA[86版五笔简码表：一级简码与二级简码速查指南]]></title><description><![CDATA[一级简码 二级简码 86版五笔字型二级简码表（取码时先行后列，例如：GJ理、FJ进）：          - G F D S A H J K L M T R E W Q Y U I O P N B V C X G…]]></description><link>https://funnyeagle.cn/86-wubi-jian-ma</link><guid isPermaLink="false">https://funnyeagle.cn/86-wubi-jian-ma</guid><pubDate>Mon, 16 Jun 2025 00:00:00 GMT</pubDate><content:encoded>&lt;h3 id=&quot;一级简码&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%B8%80%E7%BA%A7%E7%AE%80%E7%A0%81&quot; aria-label=&quot;一级简码 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;一级简码&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;我(Q) 人(W) 有(E) 的(R) 和(T)

主(Y) 产(U) 不(I) 为(O) 这(P)

工(A) 要(S) 在(D) 地(F) 一(G)

上(H) 是(J) 中(K) 国(L) 同(M)

经(X) 以(C) 发(V) 了(B) 民(N)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;二级简码&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%BA%8C%E7%BA%A7%E7%AE%80%E7%A0%81&quot; aria-label=&quot;二级简码 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;二级简码&lt;/h3&gt;
&lt;p&gt;86版五笔字型二级简码表（取码时先行后列，例如：GJ理、FJ进）：&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;td&gt;G&lt;/td&gt;
&lt;td&gt;F&lt;/td&gt;
&lt;td&gt;D&lt;/td&gt;
&lt;td&gt;S&lt;/td&gt;
&lt;td&gt;A&lt;/td&gt;
&lt;td&gt;H&lt;/td&gt;
&lt;td&gt;J&lt;/td&gt;
&lt;td&gt;K&lt;/td&gt;
&lt;td&gt;L&lt;/td&gt;
&lt;td&gt;M&lt;/td&gt;
&lt;td&gt;T&lt;/td&gt;
&lt;td&gt;R&lt;/td&gt;
&lt;td&gt;E&lt;/td&gt;
&lt;td&gt;W&lt;/td&gt;
&lt;td&gt;Q&lt;/td&gt;
&lt;td&gt;Y&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;G&lt;/td&gt;
&lt;td&gt;五&lt;/td&gt;
&lt;td&gt;于&lt;/td&gt;
&lt;td&gt;天&lt;/td&gt;
&lt;td&gt;末&lt;/td&gt;
&lt;td&gt;开&lt;/td&gt;
&lt;td&gt;下&lt;/td&gt;
&lt;td&gt;理&lt;/td&gt;
&lt;td&gt;事&lt;/td&gt;
&lt;td&gt;画&lt;/td&gt;
&lt;td&gt;现&lt;/td&gt;
&lt;td&gt;玫&lt;/td&gt;
&lt;td&gt;珠&lt;/td&gt;
&lt;td&gt;表&lt;/td&gt;
&lt;td&gt;珍&lt;/td&gt;
&lt;td&gt;列&lt;/td&gt;
&lt;td&gt;玉&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;F&lt;/td&gt;
&lt;td&gt;二&lt;/td&gt;
&lt;td&gt;寺&lt;/td&gt;
&lt;td&gt;城&lt;/td&gt;
&lt;td&gt;霜&lt;/td&gt;
&lt;td&gt;载&lt;/td&gt;
&lt;td&gt;直&lt;/td&gt;
&lt;td&gt;进&lt;/td&gt;
&lt;td&gt;吉&lt;/td&gt;
&lt;td&gt;协&lt;/td&gt;
&lt;td&gt;南&lt;/td&gt;
&lt;td&gt;才&lt;/td&gt;
&lt;td&gt;垢&lt;/td&gt;
&lt;td&gt;圾&lt;/td&gt;
&lt;td&gt;夫&lt;/td&gt;
&lt;td&gt;无&lt;/td&gt;
&lt;td&gt;坟&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;D&lt;/td&gt;
&lt;td&gt;三&lt;/td&gt;
&lt;td&gt;夺&lt;/td&gt;
&lt;td&gt;大&lt;/td&gt;
&lt;td&gt;厅&lt;/td&gt;
&lt;td&gt;左&lt;/td&gt;
&lt;td&gt;丰&lt;/td&gt;
&lt;td&gt;百&lt;/td&gt;
&lt;td&gt;右&lt;/td&gt;
&lt;td&gt;历&lt;/td&gt;
&lt;td&gt;面&lt;/td&gt;
&lt;td&gt;帮&lt;/td&gt;
&lt;td&gt;原&lt;/td&gt;
&lt;td&gt;胡&lt;/td&gt;
&lt;td&gt;舂&lt;/td&gt;
&lt;td&gt;克&lt;/td&gt;
&lt;td&gt;太&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;S&lt;/td&gt;
&lt;td&gt;本&lt;/td&gt;
&lt;td&gt;村&lt;/td&gt;
&lt;td&gt;枯&lt;/td&gt;
&lt;td&gt;林&lt;/td&gt;
&lt;td&gt;械&lt;/td&gt;
&lt;td&gt;相&lt;/td&gt;
&lt;td&gt;查&lt;/td&gt;
&lt;td&gt;可&lt;/td&gt;
&lt;td&gt;楞&lt;/td&gt;
&lt;td&gt;机&lt;/td&gt;
&lt;td&gt;格&lt;/td&gt;
&lt;td&gt;析&lt;/td&gt;
&lt;td&gt;极&lt;/td&gt;
&lt;td&gt;检&lt;/td&gt;
&lt;td&gt;构&lt;/td&gt;
&lt;td&gt;术&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;A&lt;/td&gt;
&lt;td&gt;七&lt;/td&gt;
&lt;td&gt;革&lt;/td&gt;
&lt;td&gt;基&lt;/td&gt;
&lt;td&gt;苛&lt;/td&gt;
&lt;td&gt;式&lt;/td&gt;
&lt;td&gt;牙&lt;/td&gt;
&lt;td&gt;划&lt;/td&gt;
&lt;td&gt;或&lt;/td&gt;
&lt;td&gt;功&lt;/td&gt;
&lt;td&gt;贡&lt;/td&gt;
&lt;td&gt;攻&lt;/td&gt;
&lt;td&gt;匠&lt;/td&gt;
&lt;td&gt;菜&lt;/td&gt;
&lt;td&gt;共&lt;/td&gt;
&lt;td&gt;区&lt;/td&gt;
&lt;td&gt;芳&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;td&gt;G&lt;/td&gt;
&lt;td&gt;F&lt;/td&gt;
&lt;td&gt;D&lt;/td&gt;
&lt;td&gt;S&lt;/td&gt;
&lt;td&gt;A&lt;/td&gt;
&lt;td&gt;H&lt;/td&gt;
&lt;td&gt;J&lt;/td&gt;
&lt;td&gt;K&lt;/td&gt;
&lt;td&gt;L&lt;/td&gt;
&lt;td&gt;M&lt;/td&gt;
&lt;td&gt;T&lt;/td&gt;
&lt;td&gt;R&lt;/td&gt;
&lt;td&gt;E&lt;/td&gt;
&lt;td&gt;W&lt;/td&gt;
&lt;td&gt;Q&lt;/td&gt;
&lt;td&gt;Y&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;H&lt;/td&gt;
&lt;td&gt;睛&lt;/td&gt;
&lt;td&gt;睦&lt;/td&gt;
&lt;td&gt;睚&lt;/td&gt;
&lt;td&gt;盯&lt;/td&gt;
&lt;td&gt;虎&lt;/td&gt;
&lt;td&gt;止&lt;/td&gt;
&lt;td&gt;旧&lt;/td&gt;
&lt;td&gt;占&lt;/td&gt;
&lt;td&gt;卤&lt;/td&gt;
&lt;td&gt;贞&lt;/td&gt;
&lt;td&gt;睡&lt;/td&gt;
&lt;td&gt;盺&lt;/td&gt;
&lt;td&gt;肯&lt;/td&gt;
&lt;td&gt;具&lt;/td&gt;
&lt;td&gt;餐&lt;/td&gt;
&lt;td&gt;眩&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;J&lt;/td&gt;
&lt;td&gt;量&lt;/td&gt;
&lt;td&gt;时&lt;/td&gt;
&lt;td&gt;晨&lt;/td&gt;
&lt;td&gt;果&lt;/td&gt;
&lt;td&gt;虹&lt;/td&gt;
&lt;td&gt;早&lt;/td&gt;
&lt;td&gt;昌&lt;/td&gt;
&lt;td&gt;蝇&lt;/td&gt;
&lt;td&gt;曙&lt;/td&gt;
&lt;td&gt;遇&lt;/td&gt;
&lt;td&gt;昨&lt;/td&gt;
&lt;td&gt;蝗&lt;/td&gt;
&lt;td&gt;明&lt;/td&gt;
&lt;td&gt;蛤&lt;/td&gt;
&lt;td&gt;晚&lt;/td&gt;
&lt;td&gt;景&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;K&lt;/td&gt;
&lt;td&gt;呈&lt;/td&gt;
&lt;td&gt;叶&lt;/td&gt;
&lt;td&gt;顺&lt;/td&gt;
&lt;td&gt;呆&lt;/td&gt;
&lt;td&gt;呀&lt;/td&gt;
&lt;td&gt;中&lt;/td&gt;
&lt;td&gt;虽&lt;/td&gt;
&lt;td&gt;吕&lt;/td&gt;
&lt;td&gt;另&lt;/td&gt;
&lt;td&gt;员&lt;/td&gt;
&lt;td&gt;呼&lt;/td&gt;
&lt;td&gt;听&lt;/td&gt;
&lt;td&gt;吸&lt;/td&gt;
&lt;td&gt;只&lt;/td&gt;
&lt;td&gt;史&lt;/td&gt;
&lt;td&gt;嘛&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;L&lt;/td&gt;
&lt;td&gt;车&lt;/td&gt;
&lt;td&gt;轩&lt;/td&gt;
&lt;td&gt;因&lt;/td&gt;
&lt;td&gt;困&lt;/td&gt;
&lt;td&gt;異&lt;/td&gt;
&lt;td&gt;四&lt;/td&gt;
&lt;td&gt;辊&lt;/td&gt;
&lt;td&gt;加&lt;/td&gt;
&lt;td&gt;男&lt;/td&gt;
&lt;td&gt;轴&lt;/td&gt;
&lt;td&gt;力&lt;/td&gt;
&lt;td&gt;斩&lt;/td&gt;
&lt;td&gt;胃&lt;/td&gt;
&lt;td&gt;办&lt;/td&gt;
&lt;td&gt;罗&lt;/td&gt;
&lt;td&gt;罚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;M&lt;/td&gt;
&lt;td&gt;同&lt;/td&gt;
&lt;td&gt;财&lt;/td&gt;
&lt;td&gt;央&lt;/td&gt;
&lt;td&gt;朵&lt;/td&gt;
&lt;td&gt;曲&lt;/td&gt;
&lt;td&gt;由&lt;/td&gt;
&lt;td&gt;则&lt;/td&gt;
&lt;td&gt;過&lt;/td&gt;
&lt;td&gt;崭&lt;/td&gt;
&lt;td&gt;册&lt;/td&gt;
&lt;td&gt;几&lt;/td&gt;
&lt;td&gt;贩&lt;/td&gt;
&lt;td&gt;骨&lt;/td&gt;
&lt;td&gt;内&lt;/td&gt;
&lt;td&gt;风&lt;/td&gt;
&lt;td&gt;凡&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;td&gt;G&lt;/td&gt;
&lt;td&gt;F&lt;/td&gt;
&lt;td&gt;D&lt;/td&gt;
&lt;td&gt;S&lt;/td&gt;
&lt;td&gt;A&lt;/td&gt;
&lt;td&gt;H&lt;/td&gt;
&lt;td&gt;J&lt;/td&gt;
&lt;td&gt;K&lt;/td&gt;
&lt;td&gt;L&lt;/td&gt;
&lt;td&gt;M&lt;/td&gt;
&lt;td&gt;T&lt;/td&gt;
&lt;td&gt;R&lt;/td&gt;
&lt;td&gt;E&lt;/td&gt;
&lt;td&gt;W&lt;/td&gt;
&lt;td&gt;Q&lt;/td&gt;
&lt;td&gt;Y&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;T&lt;/td&gt;
&lt;td&gt;生&lt;/td&gt;
&lt;td&gt;行&lt;/td&gt;
&lt;td&gt;知&lt;/td&gt;
&lt;td&gt;条&lt;/td&gt;
&lt;td&gt;长&lt;/td&gt;
&lt;td&gt;处&lt;/td&gt;
&lt;td&gt;得&lt;/td&gt;
&lt;td&gt;各&lt;/td&gt;
&lt;td&gt;务&lt;/td&gt;
&lt;td&gt;向&lt;/td&gt;
&lt;td&gt;笔&lt;/td&gt;
&lt;td&gt;物&lt;/td&gt;
&lt;td&gt;秀&lt;/td&gt;
&lt;td&gt;答&lt;/td&gt;
&lt;td&gt;称&lt;/td&gt;
&lt;td&gt;入&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;R&lt;/td&gt;
&lt;td&gt;后&lt;/td&gt;
&lt;td&gt;持&lt;/td&gt;
&lt;td&gt;拓&lt;/td&gt;
&lt;td&gt;打&lt;/td&gt;
&lt;td&gt;找&lt;/td&gt;
&lt;td&gt;年&lt;/td&gt;
&lt;td&gt;提&lt;/td&gt;
&lt;td&gt;扣&lt;/td&gt;
&lt;td&gt;押&lt;/td&gt;
&lt;td&gt;抽&lt;/td&gt;
&lt;td&gt;手&lt;/td&gt;
&lt;td&gt;折&lt;/td&gt;
&lt;td&gt;扔&lt;/td&gt;
&lt;td&gt;失&lt;/td&gt;
&lt;td&gt;换&lt;/td&gt;
&lt;td&gt;扩&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;E&lt;/td&gt;
&lt;td&gt;且&lt;/td&gt;
&lt;td&gt;肝&lt;/td&gt;
&lt;td&gt;須&lt;/td&gt;
&lt;td&gt;采&lt;/td&gt;
&lt;td&gt;肛&lt;/td&gt;
&lt;td&gt;覓&lt;/td&gt;
&lt;td&gt;胆&lt;/td&gt;
&lt;td&gt;肿&lt;/td&gt;
&lt;td&gt;肋&lt;/td&gt;
&lt;td&gt;肌&lt;/td&gt;
&lt;td&gt;用&lt;/td&gt;
&lt;td&gt;遥&lt;/td&gt;
&lt;td&gt;朋&lt;/td&gt;
&lt;td&gt;脸&lt;/td&gt;
&lt;td&gt;胸&lt;/td&gt;
&lt;td&gt;及&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;W&lt;/td&gt;
&lt;td&gt;全&lt;/td&gt;
&lt;td&gt;会&lt;/td&gt;
&lt;td&gt;估&lt;/td&gt;
&lt;td&gt;休&lt;/td&gt;
&lt;td&gt;代&lt;/td&gt;
&lt;td&gt;个&lt;/td&gt;
&lt;td&gt;介&lt;/td&gt;
&lt;td&gt;保&lt;/td&gt;
&lt;td&gt;佃&lt;/td&gt;
&lt;td&gt;仙&lt;/td&gt;
&lt;td&gt;作&lt;/td&gt;
&lt;td&gt;伯&lt;/td&gt;
&lt;td&gt;仍&lt;/td&gt;
&lt;td&gt;从&lt;/td&gt;
&lt;td&gt;你&lt;/td&gt;
&lt;td&gt;信&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Q&lt;/td&gt;
&lt;td&gt;钱&lt;/td&gt;
&lt;td&gt;针&lt;/td&gt;
&lt;td&gt;然&lt;/td&gt;
&lt;td&gt;钉&lt;/td&gt;
&lt;td&gt;氏&lt;/td&gt;
&lt;td&gt;外&lt;/td&gt;
&lt;td&gt;旬&lt;/td&gt;
&lt;td&gt;名&lt;/td&gt;
&lt;td&gt;甸&lt;/td&gt;
&lt;td&gt;负&lt;/td&gt;
&lt;td&gt;儿&lt;/td&gt;
&lt;td&gt;铁&lt;/td&gt;
&lt;td&gt;角&lt;/td&gt;
&lt;td&gt;欠&lt;/td&gt;
&lt;td&gt;多&lt;/td&gt;
&lt;td&gt;久&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;td&gt;G&lt;/td&gt;
&lt;td&gt;F&lt;/td&gt;
&lt;td&gt;D&lt;/td&gt;
&lt;td&gt;S&lt;/td&gt;
&lt;td&gt;A&lt;/td&gt;
&lt;td&gt;H&lt;/td&gt;
&lt;td&gt;J&lt;/td&gt;
&lt;td&gt;K&lt;/td&gt;
&lt;td&gt;L&lt;/td&gt;
&lt;td&gt;M&lt;/td&gt;
&lt;td&gt;T&lt;/td&gt;
&lt;td&gt;R&lt;/td&gt;
&lt;td&gt;E&lt;/td&gt;
&lt;td&gt;W&lt;/td&gt;
&lt;td&gt;Q&lt;/td&gt;
&lt;td&gt;Y&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Y&lt;/td&gt;
&lt;td&gt;主&lt;/td&gt;
&lt;td&gt;计&lt;/td&gt;
&lt;td&gt;庆&lt;/td&gt;
&lt;td&gt;订&lt;/td&gt;
&lt;td&gt;度&lt;/td&gt;
&lt;td&gt;让&lt;/td&gt;
&lt;td&gt;刘&lt;/td&gt;
&lt;td&gt;训&lt;/td&gt;
&lt;td&gt;为&lt;/td&gt;
&lt;td&gt;高&lt;/td&gt;
&lt;td&gt;放&lt;/td&gt;
&lt;td&gt;诉&lt;/td&gt;
&lt;td&gt;衣&lt;/td&gt;
&lt;td&gt;认&lt;/td&gt;
&lt;td&gt;义&lt;/td&gt;
&lt;td&gt;方&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;U&lt;/td&gt;
&lt;td&gt;闰&lt;/td&gt;
&lt;td&gt;半&lt;/td&gt;
&lt;td&gt;关&lt;/td&gt;
&lt;td&gt;亲&lt;/td&gt;
&lt;td&gt;并&lt;/td&gt;
&lt;td&gt;站&lt;/td&gt;
&lt;td&gt;间&lt;/td&gt;
&lt;td&gt;部&lt;/td&gt;
&lt;td&gt;曾&lt;/td&gt;
&lt;td&gt;商&lt;/td&gt;
&lt;td&gt;产&lt;/td&gt;
&lt;td&gt;瓣&lt;/td&gt;
&lt;td&gt;前&lt;/td&gt;
&lt;td&gt;闪&lt;/td&gt;
&lt;td&gt;交&lt;/td&gt;
&lt;td&gt;六&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;I&lt;/td&gt;
&lt;td&gt;汪&lt;/td&gt;
&lt;td&gt;法&lt;/td&gt;
&lt;td&gt;尖&lt;/td&gt;
&lt;td&gt;洒&lt;/td&gt;
&lt;td&gt;江&lt;/td&gt;
&lt;td&gt;小&lt;/td&gt;
&lt;td&gt;浊&lt;/td&gt;
&lt;td&gt;澡&lt;/td&gt;
&lt;td&gt;渐&lt;/td&gt;
&lt;td&gt;没&lt;/td&gt;
&lt;td&gt;少&lt;/td&gt;
&lt;td&gt;泊&lt;/td&gt;
&lt;td&gt;肖&lt;/td&gt;
&lt;td&gt;兴&lt;/td&gt;
&lt;td&gt;光&lt;/td&gt;
&lt;td&gt;注&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;O&lt;/td&gt;
&lt;td&gt;业&lt;/td&gt;
&lt;td&gt;灶&lt;/td&gt;
&lt;td&gt;类&lt;/td&gt;
&lt;td&gt;灯&lt;/td&gt;
&lt;td&gt;煤&lt;/td&gt;
&lt;td&gt;粘&lt;/td&gt;
&lt;td&gt;烛&lt;/td&gt;
&lt;td&gt;炽&lt;/td&gt;
&lt;td&gt;烟&lt;/td&gt;
&lt;td&gt;灿&lt;/td&gt;
&lt;td&gt;烽&lt;/td&gt;
&lt;td&gt;煌&lt;/td&gt;
&lt;td&gt;粗&lt;/td&gt;
&lt;td&gt;粉&lt;/td&gt;
&lt;td&gt;炮&lt;/td&gt;
&lt;td&gt;米&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;P&lt;/td&gt;
&lt;td&gt;定&lt;/td&gt;
&lt;td&gt;守&lt;/td&gt;
&lt;td&gt;害&lt;/td&gt;
&lt;td&gt;宁&lt;/td&gt;
&lt;td&gt;宽&lt;/td&gt;
&lt;td&gt;寂&lt;/td&gt;
&lt;td&gt;审&lt;/td&gt;
&lt;td&gt;宫&lt;/td&gt;
&lt;td&gt;军&lt;/td&gt;
&lt;td&gt;宙&lt;/td&gt;
&lt;td&gt;客&lt;/td&gt;
&lt;td&gt;宾&lt;/td&gt;
&lt;td&gt;家&lt;/td&gt;
&lt;td&gt;空&lt;/td&gt;
&lt;td&gt;宛&lt;/td&gt;
&lt;td&gt;社&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;td&gt;G&lt;/td&gt;
&lt;td&gt;F&lt;/td&gt;
&lt;td&gt;D&lt;/td&gt;
&lt;td&gt;S&lt;/td&gt;
&lt;td&gt;A&lt;/td&gt;
&lt;td&gt;H&lt;/td&gt;
&lt;td&gt;J&lt;/td&gt;
&lt;td&gt;K&lt;/td&gt;
&lt;td&gt;L&lt;/td&gt;
&lt;td&gt;M&lt;/td&gt;
&lt;td&gt;T&lt;/td&gt;
&lt;td&gt;R&lt;/td&gt;
&lt;td&gt;E&lt;/td&gt;
&lt;td&gt;W&lt;/td&gt;
&lt;td&gt;Q&lt;/td&gt;
&lt;td&gt;Y&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;N&lt;/td&gt;
&lt;td&gt;怀&lt;/td&gt;
&lt;td&gt;导&lt;/td&gt;
&lt;td&gt;居&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;民&lt;/td&gt;
&lt;td&gt;收&lt;/td&gt;
&lt;td&gt;慢&lt;/td&gt;
&lt;td&gt;避&lt;/td&gt;
&lt;td&gt;惭&lt;/td&gt;
&lt;td&gt;届&lt;/td&gt;
&lt;td&gt;必&lt;/td&gt;
&lt;td&gt;怕&lt;/td&gt;
&lt;td&gt;忣&lt;/td&gt;
&lt;td&gt;愉&lt;/td&gt;
&lt;td&gt;懈&lt;/td&gt;
&lt;td&gt;心&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;B&lt;/td&gt;
&lt;td&gt;卫&lt;/td&gt;
&lt;td&gt;际&lt;/td&gt;
&lt;td&gt;承&lt;/td&gt;
&lt;td&gt;阿&lt;/td&gt;
&lt;td&gt;陈&lt;/td&gt;
&lt;td&gt;耻&lt;/td&gt;
&lt;td&gt;阳&lt;/td&gt;
&lt;td&gt;职&lt;/td&gt;
&lt;td&gt;阵&lt;/td&gt;
&lt;td&gt;出&lt;/td&gt;
&lt;td&gt;降&lt;/td&gt;
&lt;td&gt;孤&lt;/td&gt;
&lt;td&gt;阴&lt;/td&gt;
&lt;td&gt;队&lt;/td&gt;
&lt;td&gt;隐&lt;/td&gt;
&lt;td&gt;防&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;V&lt;/td&gt;
&lt;td&gt;姨&lt;/td&gt;
&lt;td&gt;寻&lt;/td&gt;
&lt;td&gt;姑&lt;/td&gt;
&lt;td&gt;杂&lt;/td&gt;
&lt;td&gt;毁&lt;/td&gt;
&lt;td&gt;盡&lt;/td&gt;
&lt;td&gt;旭&lt;/td&gt;
&lt;td&gt;如&lt;/td&gt;
&lt;td&gt;舅&lt;/td&gt;
&lt;td&gt;妯&lt;/td&gt;
&lt;td&gt;九&lt;/td&gt;
&lt;td&gt;嫵&lt;/td&gt;
&lt;td&gt;奶&lt;/td&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;婚&lt;/td&gt;
&lt;td&gt;妨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;C&lt;/td&gt;
&lt;td&gt;驪&lt;/td&gt;
&lt;td&gt;对&lt;/td&gt;
&lt;td&gt;参&lt;/td&gt;
&lt;td&gt;驃&lt;/td&gt;
&lt;td&gt;戏&lt;/td&gt;
&lt;td&gt;驉&lt;/td&gt;
&lt;td&gt;騍&lt;/td&gt;
&lt;td&gt;台&lt;/td&gt;
&lt;td&gt;劝&lt;/td&gt;
&lt;td&gt;观&lt;/td&gt;
&lt;td&gt;矣&lt;/td&gt;
&lt;td&gt;牟&lt;/td&gt;
&lt;td&gt;能&lt;/td&gt;
&lt;td&gt;难&lt;/td&gt;
&lt;td&gt;允&lt;/td&gt;
&lt;td&gt;驻&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;X&lt;/td&gt;
&lt;td&gt;线&lt;/td&gt;
&lt;td&gt;结&lt;/td&gt;
&lt;td&gt;顷&lt;/td&gt;
&lt;td&gt;糽&lt;/td&gt;
&lt;td&gt;红&lt;/td&gt;
&lt;td&gt;引&lt;/td&gt;
&lt;td&gt;旨&lt;/td&gt;
&lt;td&gt;强&lt;/td&gt;
&lt;td&gt;细&lt;/td&gt;
&lt;td&gt;纲&lt;/td&gt;
&lt;td&gt;张&lt;/td&gt;
&lt;td&gt;绵&lt;/td&gt;
&lt;td&gt;级&lt;/td&gt;
&lt;td&gt;给&lt;/td&gt;
&lt;td&gt;约&lt;/td&gt;
&lt;td&gt;纺&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;td&gt;G&lt;/td&gt;
&lt;td&gt;F&lt;/td&gt;
&lt;td&gt;D&lt;/td&gt;
&lt;td&gt;S&lt;/td&gt;
&lt;td&gt;A&lt;/td&gt;
&lt;td&gt;H&lt;/td&gt;
&lt;td&gt;J&lt;/td&gt;
&lt;td&gt;K&lt;/td&gt;
&lt;td&gt;L&lt;/td&gt;
&lt;td&gt;M&lt;/td&gt;
&lt;td&gt;T&lt;/td&gt;
&lt;td&gt;R&lt;/td&gt;
&lt;td&gt;E&lt;/td&gt;
&lt;td&gt;W&lt;/td&gt;
&lt;td&gt;Q&lt;/td&gt;
&lt;td&gt;Y&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;注：&lt;/p&gt;
&lt;p&gt;有“X”的为无字二码域，86版五笔字型的二级简码字总共有619个。&lt;/p&gt;</content:encoded></item><item><title><![CDATA[86版五笔输入法完全指南：字根、口诀与输入规则详解]]></title><description><![CDATA[五笔输入法，简称五笔，是一种汉字形码输入法，区别于拼音输入法，其核心基础是“王永民”先生于1983年发明的王码五笔，至今（2013年）已有三个核心定型版本：86版、98版、新世纪版（200…]]></description><link>https://funnyeagle.cn/86-wubi</link><guid isPermaLink="false">https://funnyeagle.cn/86-wubi</guid><pubDate>Mon, 09 Jun 2025 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;五笔输入法，简称五笔，是一种汉字形码输入法，区别于拼音输入法，其核心基础是“王永民”先生于1983年发明的王码五笔，至今（2013年）已有三个核心定型版本：86版、98版、新世纪版（2008年发布），其它五笔，诸如万能五笔、极点五笔、搜狗五笔、海峰五笔、智能五笔、小鸭五笔均是在王码五笔基础上发展的，以86最为普及，可能因版权原因，98版及新世纪版极少有其它五笔输入法支持。&lt;/p&gt;
&lt;p&gt;汉字是一种意形结合的象形文字，形体复杂，笔画繁多，它最基本的成分是笔画，由基本笔画构成汉字的偏旁部首（字根），再由字根组成有形有意的汉字。&lt;/p&gt;
&lt;p&gt;五笔字型是一种纯字型的编码方案，它由130个字根组字，重码少，便于盲打，输入速度快。&lt;/p&gt;
&lt;p&gt;“五笔”原意是也指五种基本笔画：横、竖、撇、捺（点）、折，任何一个汉字，也都是由这五种基本笔画及其衍生字根组成，通过使用一定的映射规则，至多只需要4个字母，即可完成一个汉字或词组的输入。&lt;/p&gt;
&lt;h2 id=&quot;字根&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%AD%97%E6%A0%B9&quot; aria-label=&quot;字根 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;字根&lt;/h2&gt;
&lt;p&gt;五笔字根是五笔输入法的基本单元，86版使用234个字根，98版使用259个字根，新世纪版使用了226个字根。&lt;/p&gt;
&lt;p&gt;86五笔字根表&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a2b1ddc7191dcdaa7fde93e3c095337c/c1b63/iWuBi-86-keyboard.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 38.513513513513516%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAd1AAAHdQEjKi9uAAACUElEQVR42n3Ry2/SABzAceLFxL/D6MnHzYvx5v/gzKIYMxPjEgUiC3uIc4gmKCC6MaDdWOkQGTqcs0YeA7ZZeZSWltcKlhbGI/JQHhscFlO7HXbTX/JJfqfv4fcTif49JwVnBGcFpwXnBBcEp0T/GwfBaNx0fXKrOni1gKYU7+K0DopmFC6CMbooVhqo7enD8fxoOUprme2MJP8tPU8HKAUbo/UMmh1vpMvaCsmOc9HcC3YrYxABVLHlKLUzH2v9wWviBwlSXM+UKpLu6j5vTDCYc7fDe7/nN9tY8SCHJCJdssZz3nSiEeP61VAu2YwVe+UATfWzrU4nVuFFati2KrdY9Eob5BwDAN20zeaUm4wGJQy7pgDgjQyyOmyzi1rX9By8ol+aX1aZ7LDaCMKPZ0GHxgKCk3qzXQssL9x7OWa4qhwW/cG2+fbXNXyAoe0BGiRbPqRXX3flO0FPXdhr3S0fM6CwUpBAdlAu3EOIz8lwAT3wZz3Rnd/ZwTq+Fkn8JHgkgVw7uiEuFW/gEvFiemr0EyEZshIPxQgmvf6Wkt9y45Kh99iDYUdSdsP5bE4Gz0ATyFOrAlLDTzwTFjmoc2k+KMwyzQz0aEOmu3/lKLjf6Vza6+7vNasZf6ti4uolU6DXWNr9VQXxZtmcrBaAFE0+x2vFBZLb0RPF3Bzni616w7lwd2XTfv6woeSVJ46/nEqlLjNsiY9Hv2BkaKQb9ogJcvNuP+6/zcYDI+WYT1yJeG4WEsE7JRQZZuNecdfsVkWhEMSrnMqLhw2e54+DfwG4LXvuZDY9xwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;wubi-86&quot;
        title=&quot;&quot;
        src=&quot;/static/a2b1ddc7191dcdaa7fde93e3c095337c/fcda8/iWuBi-86-keyboard.png&quot;
        srcset=&quot;/static/a2b1ddc7191dcdaa7fde93e3c095337c/12f09/iWuBi-86-keyboard.png 148w,
/static/a2b1ddc7191dcdaa7fde93e3c095337c/e4a3f/iWuBi-86-keyboard.png 295w,
/static/a2b1ddc7191dcdaa7fde93e3c095337c/fcda8/iWuBi-86-keyboard.png 590w,
/static/a2b1ddc7191dcdaa7fde93e3c095337c/efc66/iWuBi-86-keyboard.png 885w,
/static/a2b1ddc7191dcdaa7fde93e3c095337c/c83ae/iWuBi-86-keyboard.png 1180w,
/static/a2b1ddc7191dcdaa7fde93e3c095337c/c1b63/iWuBi-86-keyboard.png 1200w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3 id=&quot;口诀&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%8F%A3%E8%AF%80&quot; aria-label=&quot;口诀 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;口诀&lt;/h3&gt;
&lt;p&gt;横区&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;G 王旁青头戋（兼）五一
F 土士二干十寸雨
D 大犬三（羊）古石厂
S 木丁西
A 工戈草头右框七&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;竖区&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;H 目具上止卜虎皮
J 日早两竖与虫依
K 口与川，字根稀
L 田甲方框四车力
M 山由贝，下框几&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;撇区&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;T 禾竹一撇双人立，反文条头共三一
R 白手看头三二斤
E 月彡（衫）乃用家衣底
W 人和八，三四里
Q 金勺缺点无尾鱼，犬旁留儿一点夕，氏无七（妻）&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;点区&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Y 言文方广在四一，高头一捺谁人去
U 立辛两点六门疒
I 水旁兴头小倒立
O 火业头，四点米
P 之字军盖道建底，摘礻（示）衤（衣）&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;折区&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;N 已半巳满不出己，左框折尸心和羽
B 子耳了也框向上
V 女刀九臼山朝西
C 又巴马，丢矢矣
X 慈母无心弓和匕，幼无力&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;口诀解释：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;11-G　王旁青头戋（兼）五一，(“兼”与“戋”同音) 
12-F　土士二干十寸雨。　 
13-D　大犬三羊古石厂， （“羊”指羊字底） 
14-S　木丁西， 
15-A　工戈草头右框七。 （“右框”即“匚”） 

21-H　目具上止卜虎皮， (“具上”指具字的上部) 
22-J　日早两竖与虫依。 
23-K　口与川，码元稀， 
24-L　田甲方框四车力。 (“方框”即“囗”)
25-M　山由贝，下框几。

31-T　禾竹一撇双人立， (“双人立”即“彳”)。 反文条头共三一。 (“条头”即“夂”) 
32-R　白手看头三二斤， 
33-E　月彡(衫)乃用家衣底。 (“家衣底”即“豕”) 
34-W  人和八，三四里， (“人”和“八”在34里边) 
35-Q　金勺缺点无尾鱼， (指“钅、勹”) 。
犬旁留叉儿一点夕， ( 指“乂、儿、夕”) 。
氏无七（妻）。 (“氏”去掉“七”) 

41-Y　言文方广在四一， 高头一捺谁人去。(“谁”去掉“亻” 为“讠、谁”) 
42-U　立辛两点六门疒， 
43-I　 水旁兴头小倒立。 (指“氵、兴、小”) 
44-O　火业头，四点米， (“业头”即“ 业 ”) 
45-P　之字军盖建道底， (即“之、宀、冖、廴、辶”) 
      摘礻(示)衤(衣)。 (“礻、衤”摘除末笔画即“ 礻”) 

51-N　已半巳满不出己， 左框折尸心和羽。 
52-B　子耳了也框向上。 (“框向上”即“凵”) 
53-V　女刀九臼山朝西。 (“山朝西”即“彐”) 
54-C　又巴马，丢矢矣， (“矣”去“矢”为“厶”) 
55-X　慈母无心弓和匕， 幼无力。(“幼”去“力”为“幺”) &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;五笔中的汉字结构及字型&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%BA%94%E7%AC%94%E4%B8%AD%E7%9A%84%E6%B1%89%E5%AD%97%E7%BB%93%E6%9E%84%E5%8F%8A%E5%AD%97%E5%9E%8B&quot; aria-label=&quot;五笔中的汉字结构及字型 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;五笔中的汉字结构及字型&lt;/h2&gt;
&lt;p&gt;在五笔中，汉字分为左右型、上下型和杂合型汉字。凡是分不清上下左右结构的就是杂合型。&lt;/p&gt;
&lt;h2 id=&quot;汉字的笔画&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%B1%89%E5%AD%97%E7%9A%84%E7%AC%94%E7%94%BB&quot; aria-label=&quot;汉字的笔画 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;汉字的笔画&lt;/h2&gt;
&lt;p&gt;五笔字型把汉字笔画分成五种，对应键盘上的五个区：横（提）、竖（左竖钩）、撇、捺（点）、折（右竖钩）五种。&lt;/p&gt;
&lt;h2 id=&quot;单字输入规则&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%8D%95%E5%AD%97%E8%BE%93%E5%85%A5%E8%A7%84%E5%88%99&quot; aria-label=&quot;单字输入规则 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;单字输入规则&lt;/h2&gt;
&lt;p&gt;大多数汉字的基本输入规则&lt;/p&gt;
&lt;p&gt;能拆分为两个码元的字：第一码元 + 第二码元 + 空格&lt;/p&gt;
&lt;p&gt;如“明”字，拆分为“日”和“月”两个码元打”JE ”&lt;/p&gt;
&lt;p&gt;能拆分为三个码元的字：第一码元 + 第二码元 + 第三码元 + 空格&lt;/p&gt;
&lt;p&gt;如“些”字，拆分为“止”“匕”“二”打”HXF ”&lt;/p&gt;
&lt;p&gt;能拆分为四个码元的字：第一码元 + 第二码元 + 第三码元 + 第四码元&lt;/p&gt;
&lt;p&gt;如“命”字，拆分为“人”“一”“口”“卩”打”WGKB”&lt;/p&gt;
&lt;p&gt;拆分超过四个码元的字：第一码元 + 第二码元 + 第三码元 + 最末码元&lt;/p&gt;
&lt;p&gt;如“厨”字，拆分为“厂”“一”“口”和最后一个码元“寸”打”DGKF”&lt;/p&gt;
&lt;p&gt;键面上汉字的输入规则&lt;/p&gt;
&lt;p&gt;键面上第一个码元（键左上角）：把所在键连打四下，例如：“土”字就是打四下F，即FFFF。&lt;/p&gt;
&lt;p&gt;成字码元（第一个之外的）的输入规则: 所在键 + 第一单笔画 + 第二单笔画 + 最末单笔画，例如“雨”字，先打F（打“雨”字所在的键），然后再打“一”“|”“丶”三个单笔画所在的键，所以“雨”字的编码就是FGHY&lt;/p&gt;
&lt;p&gt;举例：“士”拆分为“一”“|”“一”编码为：FGHG。 “文” 拆分为 “丶” “一” “丶” 编码为：YYGY&lt;/p&gt;
&lt;p&gt;识别码字&lt;/p&gt;
&lt;p&gt;五笔为了减少重码，先打完码元，可以再追加一个“末笔字型识别码”，简称“识别码”。识别码由字的结构类型和最后一笔的笔划决定。&lt;/p&gt;
&lt;p&gt;有些汉字按基本规则打完码元以后还不能出来，这时识别码就是必须的了。&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;结构\末笔   横（一）    竖（丨）    撇（丿）     捺（丶）    折（乙）
左右型      G           H           T           Y           N
上下型      F           J           R           U           B
杂合型      D           K           E           I           V&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;举例：“好”的码元是“女”和“子”，分别对应VB两个键。它是左右型，最后一笔是横，所以识别码是G。完整的编码就是VBG。&lt;/p&gt;
&lt;h2 id=&quot;词组输入规则&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E8%AF%8D%E7%BB%84%E8%BE%93%E5%85%A5%E8%A7%84%E5%88%99&quot; aria-label=&quot;词组输入规则 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;词组输入规则&lt;/h2&gt;
&lt;p&gt;双字词&lt;/p&gt;
&lt;p&gt;取第一字的前两位编码和第二字的前两位编码，如“北”（UXN）+“京”（YIU）=“北京”（UXYI）&lt;/p&gt;
&lt;p&gt;三字词&lt;/p&gt;
&lt;p&gt;取第一字的第一位编码，第二位的第一位编码，第三字的前两位编码，如“毛”（TFNV）+“泽”（ICFH）+“东”（AII）=“毛泽东”（TIAI）&lt;/p&gt;
&lt;p&gt;四字词&lt;/p&gt;
&lt;p&gt;取每一个字的第一位编码，如“发”（NTCY）+“奋”（DLF）+“图”（LTUI）+“强”（XKJY）=“发奋图强”（NDLX）&lt;/p&gt;
&lt;p&gt;多字词&lt;/p&gt;
&lt;p&gt;取一、二、三、末字的第一位编码，如“共”（AWU）＋“产”（UTE）＋“主”（YGD）＋“义”（YQI）＋“社”（PYFG）＋“会”（WFCU）＝共产主义社会（AUYW）&lt;/p&gt;
&lt;h2 id=&quot;简码字&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E7%AE%80%E7%A0%81%E5%AD%97&quot; aria-label=&quot;简码字 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;简码字&lt;/h2&gt;
&lt;p&gt;一些较常用字可以用一、二或三字母编码打出，分别称为一、二、三级简码。&lt;/p&gt;
&lt;p&gt;一级简码包含汉语最常用字中的25个，为了尽可能全面地安排最常用的汉字，部分一级简码并非是该字全码的首位。但所有的二级或三级简码均为该字全码的前二或三位。&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Spring Cloud Gateway]]></title><description><![CDATA[1. 概述 Spring Cloud Gateway 是基于 Spring 6、Spring Boot 3 和 Project Reactor 的网关，本文探索其主要功能。 2. 路由处理器（Routing Handler） Spring Cloud Gateway…]]></description><link>https://funnyeagle.cn/spring-cloud-gateway</link><guid isPermaLink="false">https://funnyeagle.cn/spring-cloud-gateway</guid><pubDate>Thu, 22 May 2025 00:00:00 GMT</pubDate><content:encoded>&lt;h4 id=&quot;1-概述&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#1-%E6%A6%82%E8%BF%B0&quot; aria-label=&quot;1 概述 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;1. 概述&lt;/h4&gt;
&lt;p&gt;Spring Cloud Gateway 是基于 Spring 6、Spring Boot 3 和 Project Reactor 的网关，本文探索其主要功能。&lt;/p&gt;
&lt;h4 id=&quot;2-路由处理器routing-handler&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#2-%E8%B7%AF%E7%94%B1%E5%A4%84%E7%90%86%E5%99%A8routing-handler&quot; aria-label=&quot;2 路由处理器routing handler permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2. 路由处理器（Routing Handler）&lt;/h4&gt;
&lt;p&gt;Spring Cloud Gateway 的核心是路由请求，其将请求转发至 &lt;strong&gt;Gateway Handler Mapping&lt;/strong&gt;——该组件决定如何处理匹配特定路由的请求。以下是一个使用 &lt;code class=&quot;language-text&quot;&gt;RouteLocator&lt;/code&gt; 配置路由的示例：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Bean&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;RouteLocator&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;customRouteLocator&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;RouteLocatorBuilder&lt;/span&gt; builder&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; builder&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;routes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;route&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;r1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; r &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; r&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;host&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;**.baeldung.com&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;and&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/baeldung&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;uri&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;http://baeldung.com&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;route&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;r &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; r&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;host&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;**.baeldung.com&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;and&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/myOtherRouting&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;filters&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;f &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; f&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;prefixPath&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/myPrefix&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;uri&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;http://othersite.com&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;myOtherID&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;此处展示了 API 的核心组件：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Route&lt;/strong&gt;：网关的主要 API，由 ID、目标 URI、断言（Predicates）和过滤器（Filters）组成。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Predicate&lt;/strong&gt;：基于 Java 8 的 &lt;code class=&quot;language-text&quot;&gt;Predicate&lt;/code&gt;，用于匹配 HTTP 请求的头部、方法或参数。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Filter&lt;/strong&gt;：标准的 Spring &lt;code class=&quot;language-text&quot;&gt;WebFilter&lt;/code&gt;。&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;3-动态路由&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#3-%E5%8A%A8%E6%80%81%E8%B7%AF%E7%94%B1&quot; aria-label=&quot;3 动态路由 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;3. 动态路由&lt;/h4&gt;
&lt;p&gt;与 Zuul 类似，Spring Cloud Gateway 支持将请求路由到不同服务。路由配置可通过纯 Java（如 &lt;code class=&quot;language-text&quot;&gt;RouteLocator&lt;/code&gt;）或属性文件定义：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;spring&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;application&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; gateway&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;service
  &lt;span class=&quot;token key atrule&quot;&gt;cloud&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;gateway&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;routes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; baeldung
          &lt;span class=&quot;token key atrule&quot;&gt;uri&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; baeldung.com
        &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; myOtherRouting
          &lt;span class=&quot;token key atrule&quot;&gt;uri&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; localhost&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;9999&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;hr&gt;
&lt;h4 id=&quot;4-路由工厂&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#4-%E8%B7%AF%E7%94%B1%E5%B7%A5%E5%8E%82&quot; aria-label=&quot;4 路由工厂 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;4. 路由工厂&lt;/h4&gt;
&lt;p&gt;Spring Cloud Gateway 使用 Spring WebFlux 的 &lt;code class=&quot;language-text&quot;&gt;HandlerMapping&lt;/code&gt; 进行路由匹配，并内置多种 &lt;strong&gt;Route Predicate Factories&lt;/strong&gt;。这些断言通过逻辑“与”组合，支持编程或配置文件方式定义路由规则。&lt;/p&gt;
&lt;h4 id=&quot;41-before-路由断言工厂&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#41-before-%E8%B7%AF%E7%94%B1%E6%96%AD%E8%A8%80%E5%B7%A5%E5%8E%82&quot; aria-label=&quot;41 before 路由断言工厂 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;4.1. Before 路由断言工厂&lt;/h4&gt;
&lt;p&gt;匹配指定时间之前的请求：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;spring&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;cloud&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;gateway&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;routes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; before_route
          &lt;span class=&quot;token key atrule&quot;&gt;uri&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; http&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;//baeldung.com
          &lt;span class=&quot;token key atrule&quot;&gt;predicates&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; Before=2017&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;09&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;11T17&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;42&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;47.789&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;07&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;00&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;America/Alaska&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Java 配置：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;route&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;r &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; r&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;before&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;LocalDateTime&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;atZone&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ZoneId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;systemDefault&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;before_route&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;uri&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;http://baeldung.com&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&quot;42-between-路由断言工厂&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#42-between-%E8%B7%AF%E7%94%B1%E6%96%AD%E8%A8%80%E5%B7%A5%E5%8E%82&quot; aria-label=&quot;42 between 路由断言工厂 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;4.2. Between 路由断言工厂&lt;/h4&gt;
&lt;p&gt;匹配两个时间点之间的请求：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;predicates&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; Between=2017&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;09&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;10T17&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;42&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;47.789&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;07&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;00&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;America/Alaska&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 2017&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;09&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;11T17&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;42&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;47.789&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;07&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;00&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;America/Alaska&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Java 配置：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token class-name&quot;&gt;ZonedDateTime&lt;/span&gt; datetime1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;LocalDateTime&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;minusDays&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;atZone&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ZoneId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;systemDefault&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token class-name&quot;&gt;ZonedDateTime&lt;/span&gt; datetime2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;LocalDateTime&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;atZone&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ZoneId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;systemDefault&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;route&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;r &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; r&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;between&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;datetime1&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; datetime2&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;between_route&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;uri&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;http://baeldung.com&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&quot;43-header-路由断言工厂&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#43-header-%E8%B7%AF%E7%94%B1%E6%96%AD%E8%A8%80%E5%B7%A5%E5%8E%82&quot; aria-label=&quot;43 header 路由断言工厂 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;4.3. Header 路由断言工厂&lt;/h4&gt;
&lt;p&gt;匹配包含特定头部且符合正则表达式的请求：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;predicates&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; Header=X&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;Request&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;Id&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; \d+&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Java 配置：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;route&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;r &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; r&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;header&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;X-Request-Id&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;\\d+&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;header_route&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;uri&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;http://baeldung.com&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&quot;44-host-路由断言工厂&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#44-host-%E8%B7%AF%E7%94%B1%E6%96%AD%E8%A8%80%E5%B7%A5%E5%8E%82&quot; aria-label=&quot;44 host 路由断言工厂 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;4.4. Host 路由断言工厂&lt;/h4&gt;
&lt;p&gt;匹配 Host 头部符合 Ant 风格模式的请求：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;predicates&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; Host=&lt;span class=&quot;token important&quot;&gt;**.baeldung.com&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Java 配置：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;route&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;r &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; r&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;host&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;**.baeldung.com&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;host_route&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;uri&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;http://baeldung.com&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&quot;45-method-路由断言工厂&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#45-method-%E8%B7%AF%E7%94%B1%E6%96%AD%E8%A8%80%E5%B7%A5%E5%8E%82&quot; aria-label=&quot;45 method 路由断言工厂 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;4.5. Method 路由断言工厂&lt;/h4&gt;
&lt;p&gt;匹配指定 HTTP 方法的请求：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;predicates&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; Method=GET&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Java 配置：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;route&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;r &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; r&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;GET&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;method_route&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;uri&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;http://baeldung.com&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&quot;46-path-路由断言工厂&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#46-path-%E8%B7%AF%E7%94%B1%E6%96%AD%E8%A8%80%E5%B7%A5%E5%8E%82&quot; aria-label=&quot;46 path 路由断言工厂 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;4.6. Path 路由断言工厂&lt;/h4&gt;
&lt;p&gt;匹配路径符合 &lt;code class=&quot;language-text&quot;&gt;PathMatcher&lt;/code&gt; 模式的请求：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;predicates&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; Path=/articles/&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;articleId&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Java 配置：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;route&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;r &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; r&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/articles/&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;articleId&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;path_route&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;uri&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;http://baeldung.com&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&quot;47-query-路由断言工厂&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#47-query-%E8%B7%AF%E7%94%B1%E6%96%AD%E8%A8%80%E5%B7%A5%E5%8E%82&quot; aria-label=&quot;47 query 路由断言工厂 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;4.7. Query 路由断言工厂&lt;/h4&gt;
&lt;p&gt;匹配包含指定查询参数的请求：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;predicates&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; Query=articleId&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; \w&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Java 配置：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;route&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;r &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; r&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;articleId&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;\w&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;query_route&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;uri&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;http://baeldung.com&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&quot;48-remoteaddr-路由断言工厂&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#48-remoteaddr-%E8%B7%AF%E7%94%B1%E6%96%AD%E8%A8%80%E5%B7%A5%E5%8E%82&quot; aria-label=&quot;48 remoteaddr 路由断言工厂 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;4.8. RemoteAddr 路由断言工厂&lt;/h4&gt;
&lt;p&gt;匹配指定 IP 范围的请求：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;predicates&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; RemoteAddr=192.168.1.1/24&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Java 配置：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;route&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;r &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; r&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;remoteAddr&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;192.168.1.1/24&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;remoteaddr_route&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;uri&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;http://baeldung.com&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&quot;5-webfilter-工厂&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#5-webfilter-%E5%B7%A5%E5%8E%82&quot; aria-label=&quot;5 webfilter 工厂 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;5. WebFilter 工厂&lt;/h4&gt;
&lt;p&gt;WebFilter 用于修改请求或响应。Spring Cloud Gateway 提供多种内置工厂：&lt;/p&gt;
&lt;h4 id=&quot;51-addrequestheader-webfilter-工厂&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#51-addrequestheader-webfilter-%E5%B7%A5%E5%8E%82&quot; aria-label=&quot;51 addrequestheader webfilter 工厂 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;5.1. AddRequestHeader WebFilter 工厂&lt;/h4&gt;
&lt;p&gt;添加请求头：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;filters&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; AddRequestHeader=X&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;SomeHeader&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; bael&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Java 配置：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;filters&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;f &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; f&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addRequestHeader&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;X-TestHeader&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;rewrite_request&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&quot;52-addrequestparameter-webfilter-工厂&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#52-addrequestparameter-webfilter-%E5%B7%A5%E5%8E%82&quot; aria-label=&quot;52 addrequestparameter webfilter 工厂 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;5.2. AddRequestParameter WebFilter 工厂&lt;/h4&gt;
&lt;p&gt;添加请求参数：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;filters&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; AddRequestParameter=foo&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; bar&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Java 配置：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;filters&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;f &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; f&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addRequestParameter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;foo&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;bar&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&quot;53-addresponseheader-webfilter-工厂&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#53-addresponseheader-webfilter-%E5%B7%A5%E5%8E%82&quot; aria-label=&quot;53 addresponseheader webfilter 工厂 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;5.3. AddResponseHeader WebFilter 工厂&lt;/h4&gt;
&lt;p&gt;添加响应头：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;filters&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; AddResponseHeader=X&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;SomeHeader&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Bar&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Java 配置：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;filters&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;f &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; f&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addResponseHeader&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;X-SomeHeader&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Bar&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&quot;6-服务发现支持&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#6-%E6%9C%8D%E5%8A%A1%E5%8F%91%E7%8E%B0%E6%94%AF%E6%8C%81&quot; aria-label=&quot;6 服务发现支持 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;6. 服务发现支持&lt;/h4&gt;
&lt;p&gt;Spring Cloud Gateway 可与 Eureka 和 Consul 集成：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Configuration&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@EnableDiscoveryClient&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;GatewayDiscoveryConfiguration&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Bean&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DiscoveryClientRouteDefinitionLocator&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;discoveryClientRouteLocator&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;DiscoveryClient&lt;/span&gt; discoveryClient&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DiscoveryClientRouteDefinitionLocator&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;discoveryClient&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&quot;7-监控&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#7-%E7%9B%91%E6%8E%A7&quot; aria-label=&quot;7 监控 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;7. 监控&lt;/h4&gt;
&lt;p&gt;通过 Actuator API 监控网关：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;management&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;endpoints&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;web&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;exposure&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;include&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;*&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&quot;8-实现示例&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#8-%E5%AE%9E%E7%8E%B0%E7%A4%BA%E4%BE%8B&quot; aria-label=&quot;8 实现示例 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;8. 实现示例&lt;/h4&gt;
&lt;p&gt;依赖配置：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xml&quot;&gt;&lt;pre class=&quot;language-xml&quot;&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;dependency&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;groupId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;org.springframework.cloud&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;groupId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;artifactId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;spring-cloud-starter-gateway&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;artifactId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;dependency&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;路由配置：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;spring&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;cloud&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;gateway&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;routes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; baeldung_route
          &lt;span class=&quot;token key atrule&quot;&gt;uri&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; http&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;//baeldung.com
          &lt;span class=&quot;token key atrule&quot;&gt;predicates&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; Path=/baeldung/&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;应用启动后，访问 &lt;code class=&quot;language-text&quot;&gt;http://localhost/baeldung&lt;/code&gt; 将重定向至 &lt;code class=&quot;language-text&quot;&gt;http://baeldung.com&lt;/code&gt;。&lt;/p&gt;
&lt;h4 id=&quot;9-结论&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#9-%E7%BB%93%E8%AE%BA&quot; aria-label=&quot;9 结论 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;9. 结论&lt;/h4&gt;
&lt;p&gt;Spring Cloud Gateway 提供了强大的网关和代理功能，支持动态路由、断言、过滤器及服务发现集成。通过 Actuator 可轻松监控网关状态。&lt;/p&gt;
&lt;h4 id=&quot;参考文献&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE&quot; aria-label=&quot;参考文献 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;参考文献&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;https://www.baeldung.com/spring-cloud-gateway&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Java中如何使用log.error打印出异常的堆栈信息]]></title><description><![CDATA[在 Java…]]></description><link>https://funnyeagle.cn/log-stacktrace-in-java</link><guid isPermaLink="false">https://funnyeagle.cn/log-stacktrace-in-java</guid><pubDate>Thu, 06 Mar 2025 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;在 Java 中，希望使用 &lt;code class=&quot;language-text&quot;&gt;log.error()&lt;/code&gt; 打印异常的完整堆栈信息，记录在日志文件里，而不是打印在控制台，如果直接记录&lt;code class=&quot;language-text&quot;&gt;ex.toString()&lt;/code&gt;或者&lt;code class=&quot;language-text&quot;&gt;ex.getMessage()&lt;/code&gt;，会丢失堆栈信息。&lt;/p&gt;
&lt;h4 id=&quot;将堆栈信息转换为字符串&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%B0%86%E5%A0%86%E6%A0%88%E4%BF%A1%E6%81%AF%E8%BD%AC%E6%8D%A2%E4%B8%BA%E5%AD%97%E7%AC%A6%E4%B8%B2&quot; aria-label=&quot;将堆栈信息转换为字符串 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;将堆栈信息转换为字符串&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token import&quot;&gt;&lt;span class=&quot;token namespace&quot;&gt;java&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;io&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;PrintWriter&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token import&quot;&gt;&lt;span class=&quot;token namespace&quot;&gt;java&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;io&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;StringWriter&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Example&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Logger&lt;/span&gt; log &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;LoggerFactory&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getLogger&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Example&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;someMethod&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token comment&quot;&gt;// 可能抛出异常的代码&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Exception&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token comment&quot;&gt;// 将堆栈信息转换为字符串&lt;/span&gt;
            &lt;span class=&quot;token class-name&quot;&gt;StringWriter&lt;/span&gt; sw &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;StringWriter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;printStackTrace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PrintWriter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sw&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; stackTrace &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; sw&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

            &lt;span class=&quot;token comment&quot;&gt;// 记录错误日志&lt;/span&gt;
            log&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;An error occurred: &quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; stackTrace&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;说明&lt;/strong&gt;：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;使用 &lt;code class=&quot;language-text&quot;&gt;StringWriter&lt;/code&gt; 和 &lt;code class=&quot;language-text&quot;&gt;PrintWriter&lt;/code&gt; 将堆栈信息转换为字符串。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;可以编写一个工具类来简化堆栈信息的处理。&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ExceptionUtils&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getStackTraceAsString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Exception&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;StringWriter&lt;/span&gt; sw &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;StringWriter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;printStackTrace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PrintWriter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sw&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; sw&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 使用工具类&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 可能抛出异常的代码&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Exception&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 记录错误日志&lt;/span&gt;
    log&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;An error occurred: &quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ExceptionUtils&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getStackTraceAsString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;hr&gt;
&lt;h3 id=&quot;总结&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%80%BB%E7%BB%93&quot; aria-label=&quot;总结 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;总结&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;推荐方法&lt;/strong&gt;：使用 &lt;code class=&quot;language-text&quot;&gt;StringWriter&lt;/code&gt; 和 &lt;code class=&quot;language-text&quot;&gt;PrintWriter&lt;/code&gt; 将堆栈信息转换为字符串。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;避免方法&lt;/strong&gt;：仅使用 &lt;code class=&quot;language-text&quot;&gt;e.toString()&lt;/code&gt; 或 &lt;code class=&quot;language-text&quot;&gt;e.getMessage()&lt;/code&gt;，因为会丢失堆栈信息。&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item></channel></rss>