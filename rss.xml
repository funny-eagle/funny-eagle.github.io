<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Funny Eagle]]></title><description><![CDATA[Funny Eagle]]></description><link>http://funnyeagle.cn</link><generator>GatsbyJS</generator><lastBuildDate>Tue, 21 Nov 2023 03:05:46 GMT</lastBuildDate><item><title><![CDATA[【JWT】基于springboot的项目示例]]></title><description><![CDATA[上一篇【JWT】JSON Web Token 入门简介中，我们了解了什么是 JWT 以及使用场景等。本示例项目中，我们会搭建一个spring-boot 应用，利用 JWT 身份验证来保护公开的 REST API…]]></description><link>http://funnyeagle.cn/jwt-example/</link><guid isPermaLink="false">http://funnyeagle.cn/jwt-example/</guid><pubDate>Thu, 16 Nov 2023 01:37:10 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;上一篇&lt;a href=&quot;http://www.funnyeagle.cn/Introduction-to-jwt/&quot;&gt;【JWT】JSON Web Token 入门简介&lt;/a&gt;中，我们了解了什么是 JWT 以及使用场景等。本示例项目中，我们会搭建一个&lt;code&gt;spring-boot&lt;/code&gt; 应用，利用 &lt;code&gt;JWT&lt;/code&gt; 身份验证来保护公开的 &lt;code&gt;REST API&lt;/code&gt;。该项目没有使用数据库，用硬编码的用户名和密码进行用户身份验证。只有客户端发起携带有效的 &lt;code&gt;JSON Web Token&lt;/code&gt; （JWT） 请求时，它才能使用此 API。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;项目类图如下：
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0da4b5e702886e846afb206a62b680ae/37f8f/jwt-uml.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 61.48648648648649%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAABvElEQVR42m1RWXKrMBD0cdAAQexYQhJCK4sNXl7l3f8kCWCn8pGpril9TGumu08IAAUBCgIAhBAQUitjuVSUMdLyqsq1dVKZsq7KqirLMoqi8F2noqoo54yLummCABkplsc/5QZpnDSek2a5PfRwcVbPy83PC8YpALzIlNJtThnScgTQcXG9f87r0wxzpy1tyLTe9XDx1s3r3U3XLMsB0IsMsB0eRREABEEgGb89/0/rU2rLpCJ17eer9jNnglBWVHUcx4De5L1HKcZJipME53mepllZlaRllPEzoYS2xSb1xYn3epHjKPRW2/HSW2/coIxTZvBazsvNjhepjJ/XXhlrjB4m7by2vjdOSEVbdorCUHDeKUNbTpk4IIXw46zdyITk+xxjnAm53UJZfaakZWVVb2cjhI6o3iFAknw05zNhvGWCcVEUJdqsgRBgTzTYgXbNUfQ7PQSQp8njfrs8PrX10/Loev1jUhhGb2xuw2748e/xgAyny3Kf1qd2o5uurJM/2f6uU4JxludZlsUfSZbnGGMAiOO4rpuqbrK8KPce/knuezXM106Zc9PYYWS8O5YcwjaBCP259pv8BbkQmidCVfPvAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;jwt-uml&quot;
        title=&quot;&quot;
        src=&quot;/static/0da4b5e702886e846afb206a62b680ae/fcda8/jwt-uml.png&quot;
        srcset=&quot;/static/0da4b5e702886e846afb206a62b680ae/12f09/jwt-uml.png 148w,
/static/0da4b5e702886e846afb206a62b680ae/e4a3f/jwt-uml.png 295w,
/static/0da4b5e702886e846afb206a62b680ae/fcda8/jwt-uml.png 590w,
/static/0da4b5e702886e846afb206a62b680ae/efc66/jwt-uml.png 885w,
/static/0da4b5e702886e846afb206a62b680ae/c83ae/jwt-uml.png 1180w,
/static/0da4b5e702886e846afb206a62b680ae/37f8f/jwt-uml.png 3056w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;就这么几个类，下面直接开始吧！&lt;/p&gt;
&lt;h4 id=&quot;1创建一个spring-boot项目配置maven坐标需要使用到-spring-boot-starter-webspring-boot-starter-security-以及-jwt为了简化代码使用了lombok&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#1%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAspring-boot%E9%A1%B9%E7%9B%AE%E9%85%8D%E7%BD%AEmaven%E5%9D%90%E6%A0%87%E9%9C%80%E8%A6%81%E4%BD%BF%E7%94%A8%E5%88%B0-spring-boot-starter-webspring-boot-starter-security-%E4%BB%A5%E5%8F%8A-jwt%E4%B8%BA%E4%BA%86%E7%AE%80%E5%8C%96%E4%BB%A3%E7%A0%81%E4%BD%BF%E7%94%A8%E4%BA%86lombok&quot; aria-label=&quot;1创建一个spring boot项目配置maven坐标需要使用到 spring boot starter webspring boot starter security 以及 jwt为了简化代码使用了lombok permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;1、创建一个spring-boot项目，配置maven坐标，需要使用到 spring-boot-starter-web、spring-boot-starter-security 以及 jwt，为了简化代码，使用了lombok。&lt;/h4&gt;
&lt;p&gt;完整的pom.xml 如下：&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;xml&quot; terminal=&quot;carbon&quot; theme=&quot;one-dark&quot; line-numbers=&quot;true&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;project xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot; xmlns=&amp;quot;http://maven.apache.org/POM/4.0.0&amp;quot;
         xsi:schemaLocation=&amp;quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&amp;quot;&amp;gt;
    &amp;lt;modelVersion&amp;gt;4.0.0&amp;lt;/modelVersion&amp;gt;
    &amp;lt;parent&amp;gt;
        &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt;
        &amp;lt;artifactId&amp;gt;spring-boot-starter-parent&amp;lt;/artifactId&amp;gt;
        &amp;lt;version&amp;gt;2.5.0&amp;lt;/version&amp;gt;
        &amp;lt;relativePath/&amp;gt; &amp;lt;!-- lookup parent from repository --&amp;gt;
    &amp;lt;/parent&amp;gt;
    &amp;lt;groupId&amp;gt;cn.funnyealge&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;jwt-example&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;0.0.1-SNAPSHOT&amp;lt;/version&amp;gt;
    &amp;lt;name&amp;gt;jwt-example&amp;lt;/name&amp;gt;
    &amp;lt;description&amp;gt;Demo project for Spring Boot&amp;lt;/description&amp;gt;
    &amp;lt;properties&amp;gt;
        &amp;lt;java.version&amp;gt;8&amp;lt;/java.version&amp;gt;
    &amp;lt;/properties&amp;gt;
    &amp;lt;dependencies&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-boot-starter&amp;lt;/artifactId&amp;gt;
        &amp;lt;/dependency&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-boot-starter-web&amp;lt;/artifactId&amp;gt;
        &amp;lt;/dependency&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-boot-starter-security&amp;lt;/artifactId&amp;gt;
        &amp;lt;/dependency&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;io.jsonwebtoken&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;jjwt&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;0.9.1&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.projectlombok&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;lombok&amp;lt;/artifactId&amp;gt;
            &amp;lt;optional&amp;gt;true&amp;lt;/optional&amp;gt;
        &amp;lt;/dependency&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-boot-starter-test&amp;lt;/artifactId&amp;gt;
            &amp;lt;scope&amp;gt;test&amp;lt;/scope&amp;gt;
        &amp;lt;/dependency&amp;gt;
    &amp;lt;/dependencies&amp;gt;

    &amp;lt;build&amp;gt;
        &amp;lt;plugins&amp;gt;
            &amp;lt;plugin&amp;gt;
                &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt;
                &amp;lt;artifactId&amp;gt;spring-boot-maven-plugin&amp;lt;/artifactId&amp;gt;
                &amp;lt;configuration&amp;gt;
                    &amp;lt;image&amp;gt;
                        &amp;lt;builder&amp;gt;paketobuildpacks/builder-jammy-base:latest&amp;lt;/builder&amp;gt;
                    &amp;lt;/image&amp;gt;
                    &amp;lt;excludes&amp;gt;
                        &amp;lt;exclude&amp;gt;
                            &amp;lt;groupId&amp;gt;org.projectlombok&amp;lt;/groupId&amp;gt;
                            &amp;lt;artifactId&amp;gt;lombok&amp;lt;/artifactId&amp;gt;
                        &amp;lt;/exclude&amp;gt;
                    &amp;lt;/excludes&amp;gt;
                &amp;lt;/configuration&amp;gt;
            &amp;lt;/plugin&amp;gt;
        &amp;lt;/plugins&amp;gt;
    &amp;lt;/build&amp;gt;
    &amp;lt;repositories&amp;gt;
        &amp;lt;repository&amp;gt;
            &amp;lt;id&amp;gt;spring-milestones&amp;lt;/id&amp;gt;
            &amp;lt;name&amp;gt;Spring Milestones&amp;lt;/name&amp;gt;
            &amp;lt;url&amp;gt;https://repo.spring.io/milestone&amp;lt;/url&amp;gt;
            &amp;lt;snapshots&amp;gt;
                &amp;lt;enabled&amp;gt;false&amp;lt;/enabled&amp;gt;
            &amp;lt;/snapshots&amp;gt;
        &amp;lt;/repository&amp;gt;
        &amp;lt;repository&amp;gt;
            &amp;lt;id&amp;gt;spring-snapshots&amp;lt;/id&amp;gt;
            &amp;lt;name&amp;gt;Spring Snapshots&amp;lt;/name&amp;gt;
            &amp;lt;url&amp;gt;https://repo.spring.io/snapshot&amp;lt;/url&amp;gt;
            &amp;lt;releases&amp;gt;
                &amp;lt;enabled&amp;gt;false&amp;lt;/enabled&amp;gt;
            &amp;lt;/releases&amp;gt;
        &amp;lt;/repository&amp;gt;
    &amp;lt;/repositories&amp;gt;
    &amp;lt;pluginRepositories&amp;gt;
        &amp;lt;pluginRepository&amp;gt;
            &amp;lt;id&amp;gt;spring-milestones&amp;lt;/id&amp;gt;
            &amp;lt;name&amp;gt;Spring Milestones&amp;lt;/name&amp;gt;
            &amp;lt;url&amp;gt;https://repo.spring.io/milestone&amp;lt;/url&amp;gt;
            &amp;lt;snapshots&amp;gt;
                &amp;lt;enabled&amp;gt;false&amp;lt;/enabled&amp;gt;
            &amp;lt;/snapshots&amp;gt;
        &amp;lt;/pluginRepository&amp;gt;
        &amp;lt;pluginRepository&amp;gt;
            &amp;lt;id&amp;gt;spring-snapshots&amp;lt;/id&amp;gt;
            &amp;lt;name&amp;gt;Spring Snapshots&amp;lt;/name&amp;gt;
            &amp;lt;url&amp;gt;https://repo.spring.io/snapshot&amp;lt;/url&amp;gt;
            &amp;lt;releases&amp;gt;
                &amp;lt;enabled&amp;gt;false&amp;lt;/enabled&amp;gt;
            &amp;lt;/releases&amp;gt;
        &amp;lt;/pluginRepository&amp;gt;
    &amp;lt;/pluginRepositories&amp;gt;

&amp;lt;/project&amp;gt;
&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;h4 id=&quot;2spring-boot工程搭建好之后创建一个hellocontroller写一个get请求的-rest-api-hello&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#2spring-boot%E5%B7%A5%E7%A8%8B%E6%90%AD%E5%BB%BA%E5%A5%BD%E4%B9%8B%E5%90%8E%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAhellocontroller%E5%86%99%E4%B8%80%E4%B8%AAget%E8%AF%B7%E6%B1%82%E7%9A%84-rest-api-hello&quot; aria-label=&quot;2spring boot工程搭建好之后创建一个hellocontroller写一个get请求的 rest api hello permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2、spring-boot工程搭建好之后，创建一个HelloController，写一个GET请求的 REST API &lt;code&gt;/hello&lt;/code&gt;&lt;/h4&gt;
&lt;deckgo-highlight-code language=&quot;java&quot; terminal=&quot;carbon&quot; theme=&quot;one-dark&quot; line-numbers=&quot;true&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;package cn.funnyealge.jwt.controller;

import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;

/**
 * @author yangjl
 * @description Hello Controller
 * @date 2023-11-15 10:43
 **/
@RestController
public class HelloController {

    @GetMapping(&amp;quot;/hello&amp;quot;)
    public String hello() {
        return &amp;quot;Hello, World!&amp;quot;;
    }
}
&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;此时启动项目的话，通过 &lt;code&gt;http://localhost:8080/hello&lt;/code&gt; 可以直接访问到这个API的。&lt;/p&gt;
&lt;h4 id=&quot;3接下来开始配置spring-security-和-jwt&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#3%E6%8E%A5%E4%B8%8B%E6%9D%A5%E5%BC%80%E5%A7%8B%E9%85%8D%E7%BD%AEspring-security-%E5%92%8C-jwt&quot; aria-label=&quot;3接下来开始配置spring security 和 jwt permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;3、接下来开始配置spring security 和 JWT。&lt;/h4&gt;
&lt;p&gt;3.1 创建&lt;code&gt;JwtUtil&lt;/code&gt;类，用于创建、验证&lt;code&gt;JWT&lt;/code&gt;以及获取&lt;code&gt;JWT&lt;/code&gt;中的信息。&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;java&quot; terminal=&quot;carbon&quot; theme=&quot;one-dark&quot; line-numbers=&quot;true&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;package cn.funnyealge.jwt.config;

import io.jsonwebtoken.Claims;
import io.jsonwebtoken.Jwts;
import io.jsonwebtoken.SignatureAlgorithm;
import org.springframework.beans.factory.annotation.Value;
import org.springframework.security.core.userdetails.UserDetails;
import org.springframework.stereotype.Component;

import java.io.Serializable;
import java.util.Date;
import java.util.HashMap;
import java.util.Map;
import java.util.function.Function;

/**
 * @author yangjl
 * @description jwt util
 * @date 2023-11-15 11:21
 **/
@Component
public class JwtUtil implements Serializable {
    public static final long JWT_TOKEN_VALIDITY = 5 * 60 * 60;
    private static final long serialVersionUID = 1L;
    @Value(&amp;quot;${jwt.secret}&amp;quot;)
    private String secret;

    /**
     * 从token中获取username
     */
    public String getUserNameFromToken(String token) {
        return getClaimFromToken(token, Claims::getSubject);
    }

    /**
     * 从token中获取过期时间
     *
     * @param token
     * @return
     */
    public Date getExpirationDateFromToken(String token) {
        return getClaimFromToken(token, Claims::getExpiration);
    }

    public &amp;lt;T&amp;gt; T getClaimFromToken(String token, Function&amp;lt;Claims, T&amp;gt; claimsResolver) {
        Claims claims = getAllClaimsFromToken(token);
        return claimsResolver.apply(claims);
    }

    /**
     * 从token中获取信息
     *
     * @param token
     * @return
     */
    private Claims getAllClaimsFromToken(String token) {
        return Jwts.parser().setSigningKey(secret).parseClaimsJws(token).getBody();
    }

    /**
     * 检查token是否过期
     *
     * @param token
     * @return
     */
    private boolean isTokenExpired(String token) {
        Date expiration = getExpirationDateFromToken(token);
        return expiration.before(new Date());
    }


    public String generateToken(UserDetails userDetails) {
        Map&amp;lt;String, Object&amp;gt; claims = new HashMap&amp;lt;&amp;gt;(16);
        return doGenerateToken(claims, userDetails.getUsername());
    }

    /**
     * 使用Jwts生成Token
     *
     * @param claims
     * @param subject
     * @return
     */
    private String doGenerateToken(Map&amp;lt;String, Object&amp;gt; claims, String subject) {
        return Jwts.builder()
                .setClaims(claims)
                .setSubject(subject)
                .setIssuedAt(new Date(System.currentTimeMillis()))
                .setExpiration(new Date(System.currentTimeMillis() + JWT_TOKEN_VALIDITY * 1000))
                .signWith(SignatureAlgorithm.HS512, secret)
                .compact();
    }

    /**
     * 验证token
     *
     * @param token
     * @param userDetails
     * @return
     */
    public Boolean validateToken(String token, UserDetails userDetails) {
        String username = getUserNameFromToken(token);
        return username.equals(userDetails.getUsername()) &amp;amp;&amp;amp; !isTokenExpired(token);
    }

}
&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;3.2 创建&lt;code&gt;JWTUserDetailsService&lt;/code&gt;类,实现了 spring security 的UserDetailsService 接口，重写loadUserByUsername方法，通过用户名获取用户详细信息，此处没有使用数据库，使用硬编码的方式定义了一个用户，实际应用中应该从数据库中查询用户信息。其中密码是经过&lt;code&gt;bcrypt&lt;/code&gt;加密的，如果需要修改，搜一个在线Bcrypt密码生成工具生成替换一下就可以。&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;java&quot; terminal=&quot;carbon&quot; theme=&quot;one-dark&quot; line-numbers=&quot;true&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;package cn.funnyealge.jwt.service;

import org.springframework.security.core.userdetails.User;
import org.springframework.security.core.userdetails.UserDetails;
import org.springframework.security.core.userdetails.UserDetailsService;
import org.springframework.security.core.userdetails.UsernameNotFoundException;
import org.springframework.stereotype.Service;

import java.util.ArrayList;

/**
 * @author yangjl
 * @description
 * @date 2023-11-15 13:34
 **/
@Service
public class JtwUserDetailService implements UserDetailsService {
    @Override
    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {
        if (&amp;quot;funnyeagle&amp;quot;.equals(username)) {
            return new User(&amp;quot;funnyeagle&amp;quot;, &amp;quot;$2a$10$JQEWsaUWgp6zYk1cvLvHMuM6kcLbmAdWPrp9QCSNYswu.kFum9PIq&amp;quot;, new ArrayList&amp;lt;&amp;gt;());
        }

        throw new UsernameNotFoundException(&amp;quot;User not found with username:&amp;quot; + username);
    }
}
&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;3.3 创建&lt;code&gt;JwtRequest&lt;/code&gt;类，包含用户名和密码，客户端向服务端发送请求时使用。&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;java&quot; terminal=&quot;carbon&quot; theme=&quot;one-dark&quot; line-numbers=&quot;true&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;package cn.funnyealge.jwt.model;

import lombok.Data;

import java.io.Serializable;

/**
 * @author yangjl
 * @description
 * @date 2023-11-15 13:50
 **/
@Data
public class JwtRequest implements Serializable {
    private static final long serialVersionUID = 1L;

    private String username;
    private String password;
}&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;3.4 创建&lt;code&gt;JwtResponse&lt;/code&gt;类，包含token属性，用于向客户端返回数据&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;java&quot; terminal=&quot;carbon&quot; theme=&quot;one-dark&quot; line-numbers=&quot;true&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;package cn.funnyealge.jwt.model;

import lombok.Data;

import java.io.Serializable;

/**
 * @author yangjl
 * @description
 * @date 2023-11-15 13:52
 **/
@Data
public class JwtResponse implements Serializable {
    private static final long serialVersionUID = 1L;

    private final String token;

    public JwtResponse(String token) {
        this.token = token;
    }
}
&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;3.5 创建&lt;code&gt;JwtAuthenticationController&lt;/code&gt;类，包含一个POST &lt;code&gt;/authenticate&lt;/code&gt; API，调用&lt;code&gt;AuthenticationManager&lt;/code&gt;的&lt;code&gt;authenticate()&lt;/code&gt;方法对用户名和密码进行验证，验证通过则使用JwtUtil创建JWT token返回给客户端。&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;java&quot; terminal=&quot;carbon&quot; theme=&quot;one-dark&quot; line-numbers=&quot;true&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;package cn.funnyealge.jwt.controller;

import cn.funnyealge.jwt.config.JwtUtil;
import cn.funnyealge.jwt.model.JwtRequest;
import cn.funnyealge.jwt.model.JwtResponse;
import cn.funnyealge.jwt.service.JtwUserDetailService;
import org.springframework.http.ResponseEntity;
import org.springframework.security.authentication.AuthenticationManager;
import org.springframework.security.authentication.BadCredentialsException;
import org.springframework.security.authentication.DisabledException;
import org.springframework.security.authentication.UsernamePasswordAuthenticationToken;
import org.springframework.security.core.userdetails.UserDetails;
import org.springframework.web.bind.annotation.CrossOrigin;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RestController;

import javax.annotation.Resource;

/**
 * @author yangjl
 * @description
 * @date 2023-11-15 13:43
 **/
@RestController
@CrossOrigin
public class JwtAuthenticationController {

    @Resource
    private AuthenticationManager authenticationManager;

    @Resource
    private JwtUtil jwtUtil;

    @Resource
    private JtwUserDetailService userDetailService;

    @PostMapping(value = &amp;quot;/authenticate&amp;quot;)
    public ResponseEntity&amp;lt;?&amp;gt; createAuthenticationToken(@RequestBody JwtRequest authenticationRequest) throws Exception {
        authenticate(authenticationRequest.getUsername(), authenticationRequest.getPassword());
        UserDetails userDetails = userDetailService.loadUserByUsername(authenticationRequest.getUsername());
        String token = jwtUtil.generateToken(userDetails);
        return ResponseEntity.ok(new JwtResponse(token));
    }

    private void authenticate(String username, String password) throws Exception {
        try {
            authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(username, password));
        } catch (DisabledException e) {
            throw new Exception(&amp;quot;user disabled&amp;quot;, e);
        } catch (BadCredentialsException e) {
            throw new Exception(&amp;quot;invalid credentials&amp;quot;, e);
        }
    }
}
&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;3.6 创建&lt;code&gt;JwtRequestFilter&lt;/code&gt;类，继承自spring的OncePerRequestFilter类，任何请求过来都会执行这个Filter，用来检查token的有效性，验证通过后，将用户信息设置到security的上下文中。&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;java&quot; terminal=&quot;carbon&quot; theme=&quot;one-dark&quot; line-numbers=&quot;true&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;package cn.funnyealge.jwt.config;

import cn.funnyealge.jwt.service.JtwUserDetailService;
import io.jsonwebtoken.ExpiredJwtException;
import org.springframework.security.authentication.UsernamePasswordAuthenticationToken;
import org.springframework.security.core.context.SecurityContextHolder;
import org.springframework.security.core.userdetails.UserDetails;
import org.springframework.security.web.authentication.WebAuthenticationDetailsSource;
import org.springframework.stereotype.Component;
import org.springframework.web.filter.OncePerRequestFilter;

import javax.annotation.Resource;
import javax.servlet.FilterChain;
import javax.servlet.ServletException;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.IOException;

/**
 * JwtRequestFilter 继承了 Spring Web Filter OncePerRequestFilter 类。
 * 对于任何传入请求，都会执行此 Filter 类。它检查请求是否具有有效的 JWT 令牌。
 * 如果它具有有效的 JWT 令牌，则它会在上下文中设置身份验证，以指定当前用户已通过身份验证。
 *
 * @author yangjl
 * @description
 * @date 2023-11-15 13:54
 **/
@Component
public class JwtRequestFilter extends OncePerRequestFilter {

    @Resource
    private JtwUserDetailService userDetailService;

    @Resource
    private JwtUtil jwtUtil;


    @Override
    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain chain) throws ServletException, IOException {
        final String requestTokenHeader = request.getHeader(&amp;quot;Authorization&amp;quot;);

        String username = null;
        String jwtToken = null;
        if (requestTokenHeader != null &amp;amp;&amp;amp; requestTokenHeader.startsWith(&amp;quot;Bearer &amp;quot;)) {
            jwtToken = requestTokenHeader.substring(7);
            try {
                username = jwtUtil.getUserNameFromToken(jwtToken);
            } catch (IllegalArgumentException e) {
                System.out.println(&amp;quot;Unable to get JWT Token&amp;quot;);
            } catch (ExpiredJwtException e) {
                System.out.println(&amp;quot;JWT Token has expired&amp;quot;);
            }
        } else {
            logger.warn(&amp;quot;JWT Token does not begin with Bearer String&amp;quot;);
        }

        if (username != null &amp;amp;&amp;amp; SecurityContextHolder.getContext().getAuthentication() == null) {

            UserDetails userDetails = this.userDetailService.loadUserByUsername(username);

            if (jwtUtil.validateToken(jwtToken, userDetails)) {

                UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken = new UsernamePasswordAuthenticationToken(
                        userDetails, null, userDetails.getAuthorities());
                usernamePasswordAuthenticationToken
                        .setDetails(new WebAuthenticationDetailsSource().buildDetails(request));
                SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);
            }
        }
        chain.doFilter(request, response);
    }
}
&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;3.7 创建&lt;code&gt;JwtAuthenticationEntryPoint&lt;/code&gt;类，继承spring的&lt;code&gt;AuthenticationEntryPoint&lt;/code&gt;类，重写&lt;code&gt;commence&lt;/code&gt;方法，用于拒绝未经身份验证的请求并返回错误码401。&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;java&quot; terminal=&quot;carbon&quot; theme=&quot;one-dark&quot; line-numbers=&quot;true&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;package cn.funnyealge.jwt.config;

import org.springframework.security.core.AuthenticationException;
import org.springframework.security.web.AuthenticationEntryPoint;
import org.springframework.stereotype.Component;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.IOException;
import java.io.Serializable;

/**
 * 此类继承 Spring 的 AuthenticationEntryPoint 类，拒绝未经身份验证的请求并返回错误代码 401
 *
 * @author yangjl
 * @description
 * @date 2023-11-15 14:02
 **/
@Component
public class JwtAuthenticationEntryPoint implements AuthenticationEntryPoint, Serializable {

    private static final long serialVersionUID = -1L;

    @Override
    public void commence(HttpServletRequest request, HttpServletResponse response,
                         AuthenticationException authException) throws IOException {

        response.sendError(HttpServletResponse.SC_UNAUTHORIZED, &amp;quot;Unauthorized&amp;quot;);
    }
}&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;3.8 创建&lt;code&gt;WebSecurityConfig&lt;/code&gt;类， 配置 AuthenticationManager，BCryptPasswordEncoder 和验证配置。&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;java&quot; terminal=&quot;carbon&quot; theme=&quot;one-dark&quot; line-numbers=&quot;true&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;package cn.funnyealge.jwt.config;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.security.authentication.AuthenticationManager;
import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;
import org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;
import org.springframework.security.config.annotation.web.builders.HttpSecurity;
import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;
import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;
import org.springframework.security.config.http.SessionCreationPolicy;
import org.springframework.security.core.userdetails.UserDetailsService;
import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;
import org.springframework.security.crypto.password.PasswordEncoder;
import org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;

/**
 * @author yangjl
 * @description
 * @date 2023-11-15 14:21
 **/
@Configuration
@EnableWebSecurity
@EnableGlobalMethodSecurity(prePostEnabled = true)
public class WebSecurityConfig extends WebSecurityConfigurerAdapter {

    @Autowired
    private JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint;

    @Autowired
    private UserDetailsService jwtUserDetailsService;

    @Autowired
    private JwtRequestFilter jwtRequestFilter;

    @Autowired
    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {
        auth.userDetailsService(jwtUserDetailsService).passwordEncoder(passwordEncoder());
    }

    @Bean
    public PasswordEncoder passwordEncoder() {
        return new BCryptPasswordEncoder();
    }

    @Bean
    @Override
    public AuthenticationManager authenticationManagerBean() throws Exception {
        return super.authenticationManagerBean();
    }

    @Override
    protected void configure(HttpSecurity httpSecurity) throws Exception {
        httpSecurity.csrf().disable()
                // 放行 /authenticate
                .authorizeRequests().antMatchers(&amp;quot;/authenticate&amp;quot;).permitAll().
                // 其它任何请求都需要认证
                anyRequest().authenticated().and().
                // 使用无状态session
                exceptionHandling().authenticationEntryPoint(jwtAuthenticationEntryPoint).and().sessionManagement()
                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);

        // 所有请求都要通过filter来验证token
        httpSecurity.addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);
    }
}
&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;启动项目，使用postman请求&lt;code&gt;/authenticate&lt;/code&gt;接口&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/bed327c9770c74dfc39f66e44c004863/86433/auth-api.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 44.5945945945946%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIBBf/EABUBAQEAAAAAAAAAAAAAAAAAAAEA/9oADAMBAAIQAxAAAAHk5YpCf//EABYQAQEBAAAAAAAAAAAAAAAAABABEf/aAAgBAQABBQI2lP/EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAEDAQE/AUf/xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAgEBPwFX/8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAGRAAAgMBAAAAAAAAAAAAAAAAATEAECFR/9oACAEBAAE/Id5QAiYFEr//2gAMAwEAAgADAAAAEDv/AP/EABYRAQEBAAAAAAAAAAAAAAAAAAARUf/aAAgBAwEBPxBGP//EABYRAQEBAAAAAAAAAAAAAAAAAAARUf/aAAgBAgEBPxBWv//EABoQAQEAAgMAAAAAAAAAAAAAAAEAEBExYYH/2gAIAQEAAT8QXSeQmgHTcWAv/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;auth-api&quot;
        title=&quot;&quot;
        src=&quot;/static/bed327c9770c74dfc39f66e44c004863/1c72d/auth-api.jpg&quot;
        srcset=&quot;/static/bed327c9770c74dfc39f66e44c004863/a80bd/auth-api.jpg 148w,
/static/bed327c9770c74dfc39f66e44c004863/1c91a/auth-api.jpg 295w,
/static/bed327c9770c74dfc39f66e44c004863/1c72d/auth-api.jpg 590w,
/static/bed327c9770c74dfc39f66e44c004863/a8a14/auth-api.jpg 885w,
/static/bed327c9770c74dfc39f66e44c004863/fbd2c/auth-api.jpg 1180w,
/static/bed327c9770c74dfc39f66e44c004863/86433/auth-api.jpg 2306w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;TIP: 如果&lt;code&gt;/authenticate&lt;/code&gt;接口抛出异常 &lt;code&gt;ClassNotFoundException: javax.xml.bind.DatatypeConverter&lt;/code&gt;，将JDK版本修改为8即可。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;获取到token之后，在/hello请求的Header中添加 Authorization，Value的格式为 &lt;code&gt;Bearer TOKEN&lt;/code&gt; Bearer后面有个空格。如图。
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d676904b4e92b5f23b99124716bcf266/6c27d/hello-api.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 44.5945945945946%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIBBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHkGFJJ/8QAFhAAAwAAAAAAAAAAAAAAAAAAEBEg/9oACAEBAAEFAg4//8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQMBAT8BR//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAECAQE/AVf/xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAZEAACAwEAAAAAAAAAAAAAAAAAARAhYbH/2gAIAQEAAT8h4VomQ5//2gAMAwEAAgADAAAAEOP/AP/EABYRAQEBAAAAAAAAAAAAAAAAAAARUf/aAAgBAwEBPxBGP//EABYRAQEBAAAAAAAAAAAAAAAAAAARUf/aAAgBAgEBPxBWv//EABsQAQACAgMAAAAAAAAAAAAAAAEAIRAxEYGh/9oACAEBAAE/EF0IkNKV1BuD0GbYJ//Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;hello-api&quot;
        title=&quot;&quot;
        src=&quot;/static/d676904b4e92b5f23b99124716bcf266/1c72d/hello-api.jpg&quot;
        srcset=&quot;/static/d676904b4e92b5f23b99124716bcf266/a80bd/hello-api.jpg 148w,
/static/d676904b4e92b5f23b99124716bcf266/1c91a/hello-api.jpg 295w,
/static/d676904b4e92b5f23b99124716bcf266/1c72d/hello-api.jpg 590w,
/static/d676904b4e92b5f23b99124716bcf266/a8a14/hello-api.jpg 885w,
/static/d676904b4e92b5f23b99124716bcf266/fbd2c/hello-api.jpg 1180w,
/static/d676904b4e92b5f23b99124716bcf266/6c27d/hello-api.jpg 2298w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;完整项目源码：&lt;a href=&quot;https://github.com/funny-eagle/jwt-example&quot;&gt;https://github.com/funny-eagle/jwt-example&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;（完）&lt;/p&gt;</content:encoded></item><item><title><![CDATA[【JWT】JSON Web Token 入门简介]]></title><description><![CDATA[1. 什么是 JWT JSON Web Token，简称JWT，读作/dʒɒt/， 是一种开放标准（RFC 7519），用于以JSON对象的方式安全地传输信息，由于传输的信息是经过数字签名的，所以信息可被验证和信任。 2. JWT 的使用场景 授权：这是使用JWT…]]></description><link>http://funnyeagle.cn/Introduction-to-jwt/</link><guid isPermaLink="false">http://funnyeagle.cn/Introduction-to-jwt/</guid><pubDate>Tue, 14 Nov 2023 09:52:10 GMT</pubDate><content:encoded>&lt;h2 id=&quot;1-什么是-jwt&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#1-%E4%BB%80%E4%B9%88%E6%98%AF-jwt&quot; aria-label=&quot;1 什么是 jwt permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;1. 什么是 JWT&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;JSON Web Token&lt;/code&gt;，简称&lt;code&gt;JWT&lt;/code&gt;，读作&lt;code&gt;/dʒɒt/&lt;/code&gt;， 是一种开放标准（&lt;a href=&quot;https://tools.ietf.org/html/rfc7519&quot;&gt;RFC 7519&lt;/a&gt;），用于以JSON对象的方式安全地传输信息，由于传输的信息是经过数字签名的，所以信息可被验证和信任。&lt;/p&gt;
&lt;h2 id=&quot;2-jwt-的使用场景&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#2-jwt-%E7%9A%84%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF&quot; aria-label=&quot;2 jwt 的使用场景 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2. JWT 的使用场景&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;授权：这是使用JWT最常见的场景。用户登录后，每个后续请求都将包含JWT，从而允许用户访问该令牌允许的路由、服务和资源。单点登录是目前广泛使用JWT的功能，它的开销小并且能够轻松跨域使用。例如，服务器可以生成一个声明为“以管理员身份登录”的令牌，并将其提供给客户端，客户端可以使用该令牌来证明它以管理员身份登录。&lt;/li&gt;
&lt;li&gt;信息交换：JWT是在应用间安全传输信息的好方法。JWT可以使用密钥对进行签名，所以可以确定发送者。由于签名是使用&lt;code&gt;Header&lt;/code&gt;和&lt;code&gt;Payload&lt;/code&gt;计算的，因此可以验证内容是否未被篡改。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;3-jwt-的结构&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#3-jwt-%E7%9A%84%E7%BB%93%E6%9E%84&quot; aria-label=&quot;3 jwt 的结构 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;3. JWT 的结构&lt;/h2&gt;
&lt;p&gt;一个&lt;code&gt;JWT&lt;/code&gt;是由&lt;code&gt;Header&lt;/code&gt;、&lt;code&gt;Payload&lt;/code&gt;、&lt;code&gt;Signature&lt;/code&gt;三个元素构成的字符串，使用&lt;code&gt;.&lt;/code&gt;分隔(Header.Payload.Signature)。前两个元素是特定结构的JSON对象，通常经过&lt;code&gt;base64url&lt;/code&gt;编码。第三个是将Header和Payload的内容组合并加密。下面是一个&lt;code&gt;JWT&lt;/code&gt;示例（为了方便阅读，加了换行符）：&lt;/p&gt;
&lt;deckgo-highlight-code  terminal=&quot;carbon&quot; theme=&quot;one-dark&quot; line-numbers=&quot;true&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.
eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.
TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;在 &lt;a href=&quot;https://jwt.io/#debugger-io&quot;&gt;https://jwt.io/#debugger-io&lt;/a&gt; 进行解码后如下图所示，&lt;strong&gt;Header&lt;/strong&gt; 中指定了使用&lt;code&gt;HS256&lt;/code&gt;算法进行签名，令牌类型为JWT；&lt;strong&gt;Payload&lt;/strong&gt;中包含了sub、name、admin信息；&lt;strong&gt;Signature&lt;/strong&gt;中， 使用header和payload以及特定的&lt;code&gt;secret&lt;/code&gt;来生成签名。&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/47843a562d5fea9be3334c55c116a2c4/5496c/image-20231114171718443.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 89.86486486486487%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAABYlAAAWJQFJUiTwAAACWElEQVR42p2Sy2oUURCGG7IRom7EnRvfQteKrsSnyJUQ0BBFXLgQn0AExcuTiPtoLisXxgQzEwOT6Z4k06f73M/5pLtnzCSZYLDho+pUnUv9VZ1cunyD69ducuXqJEmS/BcTExNMTg7OP116xpPnL1h6/IiFhQWmp6eZmZmpmZubY3Z2lqmpqdoOGeYrqvXi4iLLy8vMz8+TcIEvy3p0OvsX2Uqiyz366VdEb4O8t36GKt7P1uh1Vgbr41wVrxAHG4jeGla1SaIv8TbF2wxnUvyAxs+wah+j9pu1zeqYG+TdyD5vukQvSEKIOBsIYbwEYzxSGpS2OBeJ/5Kci5z23i5CFngCgebQkOM+ZrRaOxSFwFqDc5YY4xmS6D2kAjJBTAWx21g6OXQEQYZ6o1IKKSVa65oQwlgSbwL5piPfcogfDvHTITYd6a7l954lF4NafYBcQV+eK7eu0IVIV0U6OtIzkQMT6epIx0YENC2IEaMNRioqRSEGYjgrt66wcjiv1YPU8EJtKqmR4Ks2nJR64sIGxja5+uqKPIQjcCn4YuTB05JHDw7t6IahddZhpSY4XwXGPn6iwuHB86o8FAXb+1ltZTVxperJj2KMGZFcX9hwuo1VsC8V3w8kW0clW4cF3bygL445EoJSqdGhHDO2SqNQUuKMxmoFugRzCqub36Z0AekbKj+M9mXw4OfU8PpXybsdydsdyce25FNb8r4l+dCSvPkl+ZIaEukjLRnY0w1tFf7KjvWEG//ltubWSsH91ZK7qyUPN0oerJfc+VZyb7Xk9krBq23NH/00GfUPg7g3AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;image-20231114171718443.png&quot;
        title=&quot;&quot;
        src=&quot;/static/47843a562d5fea9be3334c55c116a2c4/fcda8/image-20231114171718443.png&quot;
        srcset=&quot;/static/47843a562d5fea9be3334c55c116a2c4/12f09/image-20231114171718443.png 148w,
/static/47843a562d5fea9be3334c55c116a2c4/e4a3f/image-20231114171718443.png 295w,
/static/47843a562d5fea9be3334c55c116a2c4/fcda8/image-20231114171718443.png 590w,
/static/47843a562d5fea9be3334c55c116a2c4/efc66/image-20231114171718443.png 885w,
/static/47843a562d5fea9be3334c55c116a2c4/c83ae/image-20231114171718443.png 1180w,
/static/47843a562d5fea9be3334c55c116a2c4/5496c/image-20231114171718443.png 2452w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Header&lt;/strong&gt;：通常由令牌的类型和签名算法两部分组成，经过对该&lt;code&gt;JSON&lt;/code&gt;进行Base64Url编码后形成第一个元素。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Payload&lt;/strong&gt;：包含传输的数据。官方称作声明( claims)，用来描述实体（通常是用户）和附加数据，声明分为三类：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;注册声明(registered claims)：预定义的声明，非强制性，都只有三个字符，旨在紧凑。包含：
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;iss&lt;/code&gt; ：Issuer&lt;/li&gt;
&lt;li&gt;&lt;code&gt;exp&lt;/code&gt;：Expiration Time&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sub&lt;/code&gt; ：Subject&lt;/li&gt;
&lt;li&gt;&lt;code&gt;aud&lt;/code&gt;：Audience&lt;/li&gt;
&lt;li&gt;&lt;code&gt;nbf&lt;/code&gt;：Not Before&lt;/li&gt;
&lt;li&gt;&lt;code&gt;iat&lt;/code&gt;：Issued At&lt;/li&gt;
&lt;li&gt;&lt;code&gt;jti&lt;/code&gt;：JWT ID&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;公共声明(public claims)：遵循 &lt;a href=&quot;https://www.iana.org/assignments/jwt/jwt.xhtml&quot;&gt;IANA JSON Web Token Registry&lt;/a&gt; 中定义的声明命名，或者防冲突的命名&lt;/li&gt;
&lt;li&gt;私有声明(private claims)：用户自定义声明。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Signature&lt;/strong&gt; 用于验证JWT的真实性和完整性，签名的生成方式通常是将Header和Payload组合起来，使用一个secret key 进行计算，然后再与令牌中的签名部分比对&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;4-jwt-工作流程&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#4-jwt-%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B&quot; aria-label=&quot;4 jwt 工作流程 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;4. JWT 工作流程&lt;/h2&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/8d31250fc93192cfa985f60183285af4/8cdda/1269fc4dd4a144b5a001f35b4a7804d9.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 85.13513513513513%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAAsTAAALEwEAmpwYAAACBElEQVR42nVS227aQBDl/z+gUpM2/ZG+tFKqqKQ0BpoLIcRADNjGZr2XmZ292JXtxgEaRqvR6pydnTOXXlVVxjlBBhqvra3+M2OdJAPeCzJkXYf3qqoapdnZYHj24/r8V3C1jquqKl9pX9bX30l6Phh++HZ1Pgj6m6R7UAePt9mnm9GXfnBxM/65x3XBQZpdBOOPl/3Pg9FxsHFOWcuJGKBQiFojkibTek2GSygAhbGCjHGHslvTxq6TfDJ7Ce5m90/LxzAK7maTMLqdLv5M5rPFhit91Itep4GDzjgUSjOFTOFO/jtMYqF0WshFyrZcAdUddd4fZCbr2gpPGZLlqO+fo6/fry/7Y6lwX/ZbMONy+hzN5qs0Y7W0Bk8L+bJlTMJTGK3irfdlr+MSJqMtzwVmHOJchKt0GeebnGccMg7bAnIBR9J6+6rIOuu8L9+elGX9tXXeOg9kWqKj36kZUUsJAK1HIaH9TRv7TuYWEEhMokD9OF8PH8Lbp+VoMr+dLoOHcCdgJyEt5MlRKU0SCbQxtlbeHutrzUhWIsU7kRaSSQDUgPrkqKx1ClABtvNsUYmUFmoZ59E6idNdWe5lLpTmoMk6JBPF2fA+vLmb5VyaBjHWbXKxyjiSPZTdJMy4SpisN6xZKYEkNBWq3jDWrFqh8HUEZRvyJnt/Qu+a800New37C4US0huC5ZgtAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;1269fc4dd4a144b5a001f35b4a7804d9.png&quot;
        title=&quot;&quot;
        src=&quot;/static/8d31250fc93192cfa985f60183285af4/fcda8/1269fc4dd4a144b5a001f35b4a7804d9.png&quot;
        srcset=&quot;/static/8d31250fc93192cfa985f60183285af4/12f09/1269fc4dd4a144b5a001f35b4a7804d9.png 148w,
/static/8d31250fc93192cfa985f60183285af4/e4a3f/1269fc4dd4a144b5a001f35b4a7804d9.png 295w,
/static/8d31250fc93192cfa985f60183285af4/fcda8/1269fc4dd4a144b5a001f35b4a7804d9.png 590w,
/static/8d31250fc93192cfa985f60183285af4/efc66/1269fc4dd4a144b5a001f35b4a7804d9.png 885w,
/static/8d31250fc93192cfa985f60183285af4/8cdda/1269fc4dd4a144b5a001f35b4a7804d9.png 1168w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;首先客户端发送带有用户名和密码的Post请求。服务端验证身份成功后，生成JWT返回给客户端。后续所有的请求中，客户端都会在Header中带上这个toekn（JWT），服务端通过token验证用户身份，返回对应的响应数据。&lt;/p&gt;
&lt;h2 id=&quot;参考文献&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE&quot; aria-label=&quot;参考文献 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;参考文献&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://jwt.io/introduction/&quot;&gt;JWT.IO&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://auth0.com/resources/ebooks/jwt-handbook?_ga=2.186766504.1633974048.1699948492-2054291612.1699940448&amp;#x26;_gl=1*1c5u08o*rollup_ga*MjA1NDI5MTYxMi4xNjk5OTQwNDQ4*rollup_ga_F1G3E656YZ*MTY5OTk1MzQ2OS4yLjEuMTY5OTk1NDg3Mi42MC4wLjA.*_ga*MjA1NDI5MTYxMi4xNjk5OTQwNDQ4*_ga_QKMSDV5369*MTY5OTk1MzQ2OS4yLjEuMTY5OTk1NDg3My42MC4wLjA.&quot;&gt;JWT Handbook&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/JSON_Web_Token&quot;&gt;wikipedia JSON Web Token&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.iana.org/assignments/jwt/jwt.xhtml&quot;&gt;JSON Web Token Claims&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[We Were Children - Tribes 和弦谱]]></title><description><![CDATA[https://www.azchords.com/t/tribes-tabs-47515/wewerechildren-tabs-711868.html]]></description><link>http://funnyeagle.cn/tribes-we-were-children-chords/</link><guid isPermaLink="false">http://funnyeagle.cn/tribes-we-were-children-chords/</guid><pubDate>Fri, 10 Nov 2023 04:30:30 GMT</pubDate><content:encoded>&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/66ba225cd380c904471570de835c60a2/b4294/tribes-band.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 66.89189189189189%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAUCAwQG/8QAFgEBAQEAAAAAAAAAAAAAAAAAAQAC/9oADAMBAAIQAxAAAAHRLnrcrMShf//EABoQAAMAAwEAAAAAAAAAAAAAAAABAgMEERP/2gAIAQEAAQUCWyLZpyszs6etJdP/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAgEBPwFH/8QAGxAAAgMAAwAAAAAAAAAAAAAAAAECERIQMUH/2gAIAQEABj8Ckk7fhF5Zo6KXH//EAB0QAAICAgMBAAAAAAAAAAAAAAABESFBYTFRcZH/2gAIAQEAAT8hrgefjs5oE4EG2xKrUH6LAkWaUf/aAAwDAQACAAMAAAAQeO//xAAWEQEBAQAAAAAAAAAAAAAAAAAAESH/2gAIAQMBAT8QxX//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAbEAEBAAIDAQAAAAAAAAAAAAABEQAhMUFhUf/aAAgBAQABPxDUYo4ClC9PkzrnDyrGX5xcVKg9XKTWNEWvMqpEtm1SOWaHr1z/2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;tribes&quot;
        title=&quot;&quot;
        src=&quot;/static/66ba225cd380c904471570de835c60a2/1c72d/tribes-band.jpg&quot;
        srcset=&quot;/static/66ba225cd380c904471570de835c60a2/a80bd/tribes-band.jpg 148w,
/static/66ba225cd380c904471570de835c60a2/1c91a/tribes-band.jpg 295w,
/static/66ba225cd380c904471570de835c60a2/1c72d/tribes-band.jpg 590w,
/static/66ba225cd380c904471570de835c60a2/b4294/tribes-band.jpg 600w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;deckgo-highlight-code  terminal=&quot;carbon&quot; theme=&quot;one-dark&quot; line-numbers=&quot;true&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;Intro : B F# E Eb x2
e|-------------------------|--------------------------|
B|-------------------------|--------------------------|
G|-------4-----------3-----|-----0-----0-----1-----1--|
D|----4-----4-----4-----4--|--1-----1-----2-----2-----|
A|-2-----------2-----------|--------------------------|
E|-------------------------|--------------------------|

B                         F#  
It was a day like today,
               Abm            E 
a sunday afternoon when they took you away
B        F#         Eb 
down to Hades in a shopping trolley
E 
with a magazine and a suitcase
B              F# 
They stole your clothes 
            Abm 
i took your watch 
          E 
i couldnt look you in the eye 
B              F#             E               E 
why its always those who you love the most you criticise


Chorus

B       F#         Abm         E 
Oh no stranger your just like me,
             B           F#          Abm            E 
these things happen we were children in the mid 90&amp;#39;s
B       F#         Abm         E 
Oh no stranger your just like me,
       B           F#          Abm            E 
we get older they get younger it was you or me

Interlude: B F# E Eb x2

e|-------------------------|--------------------------|
B|-------------------------|--------------------------|
G|-------4-----------3-----|-----0-----0-----1-----1--|
D|----4-----4-----4-----4--|--1-----1-----2-----2-----|
A|-2-----------2-----------|--------------------------|
E|-------------------------|--------------------------|

e|-------------------------|--------------------x--x--|
B|-------------------------|--------------------x--x--|
G|-------4-----------3-----|-----0-----0-----1--x--x--|
D|----4-----4-----4-----4--|--1-----1-----2-----x--x--|
A|-2-----------2-----------|--------------------x--x--|
E|-------------------------|--------------------------|


Verse 2
B                       F#                Abm          E        
We stood there throwing ice cream in your hair how i solemly swear
B            F#                Eb (6th)    E (7th)
its the thing in life i regret the most... leaving you standing there
B                F#             Abm 
And if you asked me id pull my eyes out 
      E 
and when i woke up blind
B            F#           Eb (6th)
if you forgave i would sleep at night 
E (7th)
knowing i&amp;#39;d led a good life.


Chorus

B       F#         Abm         E 
Oh no stranger your just like me,
             B           F#          Abm            E 
these things happen we were children in the mid 90&amp;#39;s
B       F#         Abm         E 
Oh no stranger your just like me,
       B           F#          Abm            E 
we get older they get younger it was you or me


Solo B F# E Eb x4

e|--2-----2-----0-----0--------------------------|
B|----0-----0-----0-----0--2-----2-----2---------|
G|-----------------------------4-----4-----4--4--|
D|-----------------------------------------------|
A|-----------------------------------------------|
E|-----------------------------------------------|


e|-14------14------12------12-------------------------|
B|-----12------12------12------12--14------14---------|
G|-------------------------------------16------16--16-|
D|----------------------------------------------------|
A|----------------------------------------------------|
E|----------------------------------------------------|


Play both chords once

B                  F# 
Learning how to keep living


Chorus - play power chords softly over the chorus

B       F#         Abm         E 
Oh no stranger your just like me,
             B           F#          Abm            E 
these things happen we were children in the mid 90&amp;#39;s
B       F#         Abm         E 
Oh no stranger your just like me,
       B           F#          Abm            E 
we get older they get younger it was you or me

B       F#         Abm         E 
Oh no stranger your just like me,
             B           F#          Abm            E 
these things happen we were children in the mid 90&amp;#39;s
B       F#         Abm         E 
Oh no stranger your just like me,
       B           F#          Abm            E 
we get older they get younger it was you or me

End on - B &lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;&lt;a href=&quot;https://www.azchords.com/t/tribes-tabs-47515/wewerechildren-tabs-711868.html&quot;&gt;https://www.azchords.com/t/tribes-tabs-47515/wewerechildren-tabs-711868.html&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[论软件系统架构风格]]></title><description><![CDATA[摘要 2021年…]]></description><link>http://funnyeagle.cn/architecture-style/</link><guid isPermaLink="false">http://funnyeagle.cn/architecture-style/</guid><pubDate>Thu, 19 Oct 2023 08:25:54 GMT</pubDate><content:encoded>&lt;p&gt;&lt;strong&gt;摘要&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;2021年6月，我参与了某机场航班节点运行保障系统的开发工作，该系统的主要目标是优化航班保障作业流程，提高航班地面运行保障效率。我在该项目中担任系统架构师，主要负责系统整体架构设计和架构实现等工作。本文以机场航班节点运行保障系统为例，主要论述了软件系统架构风格在该项目中的具体应用。该项目包含三个子系统，其中航班数据中心使用仓库风格，航班节点运行保障子系统主要使用MVC架构和独立构件风格，对账子系统主要使用数据流和虚拟机风格。系统遵循可靠性、可维护性和经济性原则，满足易扩充、高可靠、易维护和可管理要求，在性能和安全性方面均满足系统技术规范的要求。该项目历时15个月，最终系统顺利上线，获得用户好评。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;正文&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;航班节点运行保障对机场的运行保障及协同调度至关重要，现有航班节点运行主要依靠人工记录实现，航空器到达与离开、客舱门打开与关闭、乘务人员和旅客人员到达与离开，客梯车到达与离开、食品车到达与离开、保洁员到达与离开等节点均需要记录保障。由于现有航班节点运作主要依赖人工记录，造成诸多问题。一方面，节点保障记录依靠地面保障人员通过纸质表单进行记录，人力成本较高，工作量大，易出现漏填、误填，对于机场站坪监控员来说，高峰状态下保障效率难以满足需求。另一方面，现有的航班节点运作实时性差，数据不及时，不利于及时发现问题和分配资源。&lt;/p&gt;
&lt;p&gt;为进一步优化现有航班保障作业流程，提高航班地面运行保障效率，客户机场集团委托我公司承建该机场航班节点运行保障系统，我在项目中担任系统架构师，主要负责系统整体架构设计和架构实现等工作。机场航班节点运行保障系统由三个子系统组成，分别是航班数据中心、航班节点运行保障子系统和对账子系统。航班数据中心主要负责汇聚航班计划、航班动态和客货邮行等数据并向其它系统提供数据服务；航班节点运行保障子系统处理核心业务，包括生成、记录保障节点和电子签单等功能；对账子系统主要包括机场与各航空公司进行费用结算和对账等功能。&lt;/p&gt;
&lt;p&gt;在软件系统开发中，架构风格反应了众多系统所共有的结构和语义特性，并指导如何将各个构件和子模块有效地组织成一个完整的系统。常用的架构风格有数据流风格、调用/返回风格、独立构件风格、虚拟机风格和仓库风格等。数据流风格是按顺序从前往后逐步执行程序，代表的风格有批处理和管道过滤器；调用/返回风格中，构件之间存在互相调用的关系，一般是显示调用，代表的风格有主程序/子程序、面向对象和层次结构；独立构件风格，其构件之间是相互独立的，不存在显示的调用关系，而是通过某个事件触发、异步的方式来执行，代表的风格有进程通信、事件驱动系统；虚拟机风格自定义一套规则供使用者使用，使用者基于这套规则来开发构件，能够跨平台适配，代表的风格有解释器、基于规则的系统；仓库风格是以数据为中心，所有的操作都是围绕建立的数据中心进行的，代表的风格有数据库系统、超文本系统和黑板系统。 &lt;/p&gt;
&lt;p&gt;通过需求分析和团队评审决定，航班数据中心使用仓库风格，航班节点运行保障子系统使用MVC架构和独立构件风格，对账子系统使用数据流和虚拟机风格。&lt;/p&gt;
&lt;p&gt;航班数据中心是一个共享数据源，汇聚了航班计划、航班动态和客货邮行等数据，并为其它系统提供数据服务，适合采用仓库风格进行构建。将获取到的航班等相关数据，经过数据清洗后统一汇聚至数据中心，通过API和数据订阅的方式向应用层的服务提供数据接口，供航班节点运行保障子系统和对账子系统使用，子系统围绕航班数据进行业务处理。&lt;/p&gt;
&lt;p&gt;航班节点运行保障系统包括PC端和移动端，面向地面保障工作人员处理核心节点保障业务。该子系统使用了MVC架构和独立构件风格。MVC架构中，Module是模型，用于处理应用系统中数据逻辑，并在数据库存取数据；View是视图，用于处理数据显示的部分，依据模型数据创建；Controller是控制器，处理用户交互的部分，负责从视图读取数据，控制用户输入，并向模型发送数据。节点保障记录完成后，通过事件驱动的隐式调用方式，触发后续电子签单和结算对账等事件，这样的设计使每个构件都是相对独立的个体，它们之间不存在显示调用，从而降低服务之间的耦合度，提高系统的灵活性。&lt;/p&gt;
&lt;p&gt;对账系统主要功能是依据航班节点保障记录，基于特定的规则，每月生成对应的账单和对账数据，用于机场和航空公司进行费用结算。该子系统使用数据流风格和虚拟机风格。账单是基于可配置的规则来生成的，系统向用户提供规则配置界面，配置自定义流程后，由解释引擎来按流程解释执行；每一类账单都是一个批处理任务，任务中的每一步必须在其前一步结束后才能开始，数据必须是完整的，以整体的方式传递。&lt;/p&gt;
&lt;p&gt;经过近15个月的项目开发，该机场航班节点运行保障系统顺利投入使用，我们协助客户对航班节点保障、地空协同运行进行全面的功能和性能的测试和试运行，运行至今客户反馈良好。所选用的架构风格经过实践证实，有效的将各子系统组织成完整的航班节点运行保障系统，满足对可靠性、可维护性和安全性方面的相关要求。经过项目团队成员的共同努力，最终保证了该系统的顺利交付。&lt;/p&gt;
&lt;p&gt;在本项目中，还存在一些不足之处，比如我们对于用户的移动终端操作易用性方面考虑不周，实际节点保障工作场景下，对用户交互和易用性要求较高，后期经过和用户共同打磨，对移动终端界面进行了优化和部分重构，有效解决了该问题；另一个不足是对系统的监控和运维自动化方面，在自动预警和告警方面还有待改进，目前系统的部分功能仍依赖人工监控，计划通过使用自动化运维工具覆盖，以提高系统监控和运维效率，减少运维人员成本。&lt;/p&gt;
&lt;p&gt;后续我们将持续改进，小步重构，不断优化系统，并持续提升团队和个人技术水平，更好的完成软件系统开发工作，为行业提供优质的软件系统。&lt;/p&gt;</content:encoded></item><item><title><![CDATA[基于Quartz的定时任务UI组件]]></title><description><![CDATA[需求 我需要实现一个基于springboot 的quartz-ui组件，可以通过web界面来管理定时任务。然后打包成jar文件，提供给使用quartz的项目。 基本思路 去github…]]></description><link>http://funnyeagle.cn/quartz-ui/</link><guid isPermaLink="false">http://funnyeagle.cn/quartz-ui/</guid><pubDate>Fri, 07 Jul 2023 09:14:00 GMT</pubDate><content:encoded>&lt;h2 id=&quot;需求&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E9%9C%80%E6%B1%82&quot; aria-label=&quot;需求 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;需求&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;我需要实现一个基于&lt;code&gt;springboot&lt;/code&gt; 的&lt;code&gt;quartz-ui&lt;/code&gt;组件，可以通过web界面来管理定时任务。然后打包成&lt;code&gt;jar&lt;/code&gt;文件，提供给使用&lt;code&gt;quartz&lt;/code&gt;的项目。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;基本思路&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF&quot; aria-label=&quot;基本思路 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;基本思路&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;去github上逛一圈，有现成的就拿来试试，改改直接用，不然还能怎么样，难道自己生写&lt;/li&gt;
&lt;li&gt;好吧，如果没有我就去啃 &lt;code&gt;quartz&lt;/code&gt; 的 API，然后自己生写&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;于是很快我就找到了 &lt;a href=&quot;https://github.com/zjcscut/quartz-web-ui-kit&quot;&gt;quartz-web-ui-kit&lt;/a&gt;，&lt;code&gt;Readme&lt;/code&gt;在这个哥们儿的个人博客上，但链接已经访问不到了，不过找到一个cnblogs的&lt;a href=&quot;https://www.cnblogs.com/throwable/p/12670693.html&quot;&gt;基于Quartz编写一个可复用的分布式调度任务管理WebUI组件&lt;/a&gt;。代码拉下来研究了一下，结构清晰，命名舒服，maven的依赖也没什么多余的，直击要害，就只解决任务管理问题。模版用&lt;code&gt;freemarker&lt;/code&gt;，&lt;code&gt;css&lt;/code&gt;和&lt;code&gt;js&lt;/code&gt;用&lt;code&gt;uikit&lt;/code&gt;和&lt;code&gt;jquery&lt;/code&gt;。简单明了，感谢分享，就用您这个了。&lt;/p&gt;
&lt;p&gt;跑完SQL脚本，很顺利就运行起来了，测试了一下功能，除了禁用的任务还能点触发，后台会报错，倒也没啥影响。&lt;/p&gt;
&lt;p&gt;接下来开始动手改：
1、这个组件需要打成&lt;code&gt;jar&lt;/code&gt;，需要的项目就增加一个依赖。
2、上传到nexus私服。&lt;/p&gt;
&lt;h2 id=&quot;问题和解决办法&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E9%97%AE%E9%A2%98%E5%92%8C%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95&quot; aria-label=&quot;问题和解决办法 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;问题和解决办法&lt;/h2&gt;
&lt;p&gt;1、项目无法直接加载&lt;code&gt;jar&lt;/code&gt;中静态文件，打包时需要将静态文件放在&lt;code&gt;META-INF/resources&lt;/code&gt;目录下。&lt;/p&gt;
&lt;p&gt;在&lt;code&gt;pom.xml&lt;/code&gt; 的 &lt;code&gt;build&lt;/code&gt; 下增加&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;xml&quot; terminal=&quot;carbon&quot; theme=&quot;one-dark&quot; line-numbers=&quot;true&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;&amp;lt;resources&amp;gt;
	&amp;lt;resource&amp;gt;
		&amp;lt;directory&amp;gt;${basedir}/src/main/resources/templates&amp;lt;/directory&amp;gt;
		&amp;lt;targetPath&amp;gt;META-INF/resources/&amp;lt;/targetPath&amp;gt;
		&amp;lt;includes&amp;gt;
			&amp;lt;include&amp;gt;**/**&amp;lt;/include&amp;gt;
		&amp;lt;/includes&amp;gt;
	&amp;lt;/resource&amp;gt;
&amp;lt;/resources&amp;gt;&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;&lt;code&gt;application.yml&lt;/code&gt;中也要对应修改&lt;code&gt;template-loader-path&lt;/code&gt;的路径&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;yml&quot; terminal=&quot;carbon&quot; theme=&quot;one-dark&quot; line-numbers=&quot;true&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;spring:
  freemarker:
    cache: false
    charset: UTF-8
    check-template-location: true
    content-type: text/html
    expose-request-attributes: true
    expose-session-attributes: true
    request-context-attribute: request
    suffix: .ftl
    template-loader-path: classpath:/META-INF/resources/
    prefer-file-system-access: false&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;2、配置文件也需要打包进去，继续在&lt;code&gt;pom.xml&lt;/code&gt; 的 &lt;code&gt;resources&lt;/code&gt; 下增加&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;xml&quot; terminal=&quot;carbon&quot; theme=&quot;one-dark&quot; line-numbers=&quot;true&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;	&amp;lt;resource&amp;gt;
		&amp;lt;directory&amp;gt;${basedir}/src/main/resources/&amp;lt;/directory&amp;gt;
		&amp;lt;includes&amp;gt;
			&amp;lt;include&amp;gt;**/*.yml&amp;lt;/include&amp;gt;
			&amp;lt;include&amp;gt;**/*.factories&amp;lt;/include&amp;gt;
		&amp;lt;/includes&amp;gt;
	&amp;lt;/resource&amp;gt;&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;3、发现&lt;code&gt;jar&lt;/code&gt;中的配置文件不生效，被项目的&lt;code&gt;application.yml&lt;/code&gt;覆盖了&lt;/p&gt;
&lt;p&gt;将配置文件放在&lt;code&gt;src/main/resources/config&lt;/code&gt;目录下即可，参考&lt;code&gt;Spring&lt;/code&gt;&lt;a href=&quot;https://docs.spring.io/spring-boot/docs/2.1.13.RELEASE/reference/html/boot-features-external-config.html&quot;&gt;官方文档&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;h3 id=&quot;243-application-property-files&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#243-application-property-files&quot; aria-label=&quot;243 application property files permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;24.3 Application Property Files&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;SpringApplication&lt;/code&gt; loads properties from &lt;code&gt;application.properties&lt;/code&gt; files in the following locations and adds them to the Spring &lt;code&gt;Environment&lt;/code&gt;:&lt;/p&gt;
&lt;p&gt;A &lt;code&gt;/config&lt;/code&gt; subdirectory of the current directory
The current directory
A classpath &lt;code&gt;/config&lt;/code&gt; package
The classpath root&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;参考链接&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5&quot; aria-label=&quot;参考链接 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;参考链接&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.cnblogs.com/throwable/p/12670693.html&quot;&gt;https://www.cnblogs.com/throwable/p/12670693.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/zjcscut/quartz-web-ui-kit&quot;&gt;https://github.com/zjcscut/quartz-web-ui-kit&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.spring.io/spring-boot/docs/2.1.13.RELEASE/reference/html/boot-features-external-config.html&quot;&gt;https://docs.spring.io/spring-boot/docs/2.1.13.RELEASE/reference/html/boot-features-external-config.html&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;差不多了，有啥后面再补充。今天周五，下午划水写博客，下班回家玩羊娃子喜欢的周五夜放克。&lt;/p&gt;</content:encoded></item><item><title><![CDATA[WindTerm 2.5.0 输入用户名后假死卡住的解决办法]]></title><description><![CDATA[问题描述 WindTerm2.5.0，使用SSH用户名和密码方式登录Linux服务器。新建会话，输入IP和端口后，到输入用户名界面，输入用户名后，提示”身份验证被拒绝，请重试“，然后软件假死卡住，30秒到…]]></description><link>http://funnyeagle.cn/wind-term-hanging-problem/</link><guid isPermaLink="false">http://funnyeagle.cn/wind-term-hanging-problem/</guid><pubDate>Fri, 07 Jul 2023 07:51:00 GMT</pubDate><content:encoded>&lt;h2 id=&quot;问题描述&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E9%97%AE%E9%A2%98%E6%8F%8F%E8%BF%B0&quot; aria-label=&quot;问题描述 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;问题描述&lt;/h2&gt;
&lt;p&gt;WindTerm2.5.0，使用&lt;code&gt;SSH&lt;/code&gt;用户名和密码方式登录Linux服务器。新建会话，输入IP和端口后，到输入用户名界面，输入用户名后，提示”身份验证被拒绝，请重试“，然后软件假死卡住，30秒到1分钟后又弹出身份验证失败请重试，输入密码后又跳转到登录界面，继续输入用户名，又会假死。。。&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d97c212c6276b1cdf543c29122de3611/ef245/1.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 54.05405405405405%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAABx0AH/8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQABBQJf/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAFxABAAMAAAAAAAAAAAAAAAAAEQAgIf/aAAgBAQABPyHKrP/aAAwDAQACAAMAAAAQs8//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAdEAADAAEFAQAAAAAAAAAAAAAAARExIUFRcYGx/9oACAEBAAE/EHh1yON5PSuTYswNtT+H/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;1.jpg&quot;
        title=&quot;&quot;
        src=&quot;/static/d97c212c6276b1cdf543c29122de3611/1c72d/1.jpg&quot;
        srcset=&quot;/static/d97c212c6276b1cdf543c29122de3611/a80bd/1.jpg 148w,
/static/d97c212c6276b1cdf543c29122de3611/1c91a/1.jpg 295w,
/static/d97c212c6276b1cdf543c29122de3611/1c72d/1.jpg 590w,
/static/d97c212c6276b1cdf543c29122de3611/a8a14/1.jpg 885w,
/static/d97c212c6276b1cdf543c29122de3611/ef245/1.jpg 1112w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/2c8ebc659e2b26418f4aefd8104c8cd7/08cdb/2.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 50.67567567567568%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAQACBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAeMiFuP/xAAWEAEBAQAAAAAAAAAAAAAAAAAAASD/2gAIAQEAAQUCxFf/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAXEAEAAwAAAAAAAAAAAAAAAAAAESAx/9oACAEBAAE/IU0bf//aAAwDAQACAAMAAAAQsw//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAdEAACAgEFAAAAAAAAAAAAAAAAARFxECExQWGR/9oACAEBAAE/EHUHdLwmeFjc6F00j//Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;2.jpg&quot;
        title=&quot;&quot;
        src=&quot;/static/2c8ebc659e2b26418f4aefd8104c8cd7/1c72d/2.jpg&quot;
        srcset=&quot;/static/2c8ebc659e2b26418f4aefd8104c8cd7/a80bd/2.jpg 148w,
/static/2c8ebc659e2b26418f4aefd8104c8cd7/1c91a/2.jpg 295w,
/static/2c8ebc659e2b26418f4aefd8104c8cd7/1c72d/2.jpg 590w,
/static/2c8ebc659e2b26418f4aefd8104c8cd7/a8a14/2.jpg 885w,
/static/2c8ebc659e2b26418f4aefd8104c8cd7/08cdb/2.jpg 1084w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9529c55627248f221153e491ba3f1834/7bc57/3.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 52.02702702702703%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAeOlI0P/xAAWEAADAAAAAAAAAAAAAAAAAAAAASD/2gAIAQEAAQUCln//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAYEAEAAwEAAAAAAAAAAAAAAAAAARARMf/aAAgBAQABPyFtw7f/2gAMAwEAAgADAAAAEEMP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAHBAAAgICAwAAAAAAAAAAAAAAAAERUSGBEDGR/9oACAEBAAE/EJynGh3S8G5rjtoac6P/2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;3.jpg&quot;
        title=&quot;&quot;
        src=&quot;/static/9529c55627248f221153e491ba3f1834/1c72d/3.jpg&quot;
        srcset=&quot;/static/9529c55627248f221153e491ba3f1834/a80bd/3.jpg 148w,
/static/9529c55627248f221153e491ba3f1834/1c91a/3.jpg 295w,
/static/9529c55627248f221153e491ba3f1834/1c72d/3.jpg 590w,
/static/9529c55627248f221153e491ba3f1834/a8a14/3.jpg 885w,
/static/9529c55627248f221153e491ba3f1834/7bc57/3.jpg 1104w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2 id=&quot;解决办法&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95&quot; aria-label=&quot;解决办法 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;解决办法&lt;/h2&gt;
&lt;p&gt;在会话的IP上右键-&gt;属性-&gt;验证，取消&lt;code&gt;勾选尝试公钥认&lt;/code&gt;、&lt;code&gt;尝试键盘交互认&lt;/code&gt;、&lt;code&gt;尝试gssapi-with-mic身份验证&lt;/code&gt;，保存。
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1320c1b1da98cb17d1b3f8109265c2c9/29114/0892dc87d0174c26b5c71b6a0b193bf4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 52.70270270270271%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAABC0lEQVR42m2SUY7DIAxEOUaAEAMGjElImm602/Zj73+sVROp6oa+L2R5xvYIwcy1VmYmIuecUspai4gAEELIOccYXw0HzFxKISIRQui6Tu1orfsdqVTK+Wvbyq7x3kspVYMYx7FvMFpfEO/bdllXa60x5uX7jmDmU0n3Peh+sW6bapmmgGitBYAP4pRSW+2V+ubye7//3G4pJSJCxHb4U3xc+46Ucizl8Xgsy7Jbqc9r11qhYTAm5zzPs/f+GYEx51D2irher845+x8ASCkxs/d+aDA7wzCIdV0R8bS5UoqI5nmOMba+iBhCAABBRO0xWmvvfYwRAFpxjJGInuKcs3OuzeOYfzxOvH7UHwvQUuGzFq+ZAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;034b80c250eae9f2bf9b4f14c74df9cf.png&quot;
        title=&quot;&quot;
        src=&quot;/static/1320c1b1da98cb17d1b3f8109265c2c9/fcda8/0892dc87d0174c26b5c71b6a0b193bf4.png&quot;
        srcset=&quot;/static/1320c1b1da98cb17d1b3f8109265c2c9/12f09/0892dc87d0174c26b5c71b6a0b193bf4.png 148w,
/static/1320c1b1da98cb17d1b3f8109265c2c9/e4a3f/0892dc87d0174c26b5c71b6a0b193bf4.png 295w,
/static/1320c1b1da98cb17d1b3f8109265c2c9/fcda8/0892dc87d0174c26b5c71b6a0b193bf4.png 590w,
/static/1320c1b1da98cb17d1b3f8109265c2c9/efc66/0892dc87d0174c26b5c71b6a0b193bf4.png 885w,
/static/1320c1b1da98cb17d1b3f8109265c2c9/c83ae/0892dc87d0174c26b5c71b6a0b193bf4.png 1180w,
/static/1320c1b1da98cb17d1b3f8109265c2c9/29114/0892dc87d0174c26b5c71b6a0b193bf4.png 1920w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;然后重新登录就可以了。。。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;WindTerm&lt;/code&gt;开源免费又好用，有点儿小BUG能接受，希望后续版本能解决。&lt;/p&gt;
&lt;p&gt;Game Over&lt;/p&gt;</content:encoded></item><item><title><![CDATA[三十岁的女人]]></title><link>http://funnyeagle.cn/30-sui-de-nv-ren-guitar/</link><guid isPermaLink="false">http://funnyeagle.cn/30-sui-de-nv-ren-guitar/</guid><pubDate>Sun, 02 Jul 2023 16:13:46 GMT</pubDate><content:encoded>&lt;iframe src=&quot;//player.bilibili.com/player.html?aid=742906598&amp;bvid=BV1Ak4y1M73i&amp;cid=1182994472&amp;page=1&quot; allowfullscreen=&quot;allowfullscreen&quot; width=&quot;100%&quot; height=&quot;500&quot; scrolling=&quot;no&quot; frameborder=&quot;0&quot; sandbox=&quot;allow-top-navigation allow-same-origin allow-forms allow-scripts&quot;&gt; &lt;/iframe&gt;</content:encoded></item><item><title><![CDATA[Java字节码和指令集]]></title><description><![CDATA[Java 字节码是Java虚拟机执行的一种指令格式。大多数操作码都是一个字节长，而有些操作需要参数，导致了有一些多字节的操作码。而且并不是所有可能的256个操作码都被使用；其中有51个操作码被保留做将来使用。除此之外，Sun 公司额外保留了…]]></description><link>http://funnyeagle.cn/java-bytecode-and-instructions/inded/</link><guid isPermaLink="false">http://funnyeagle.cn/java-bytecode-and-instructions/inded/</guid><pubDate>Fri, 30 Jun 2023 02:36:19 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;Java 字节码是Java虚拟机执行的一种指令格式。大多数操作码都是一个字节长，而有些操作需要参数，导致了有一些多字节的操作码。而且并不是所有可能的256个操作码都被使用；其中有51个操作码被保留做将来使用。除此之外，Sun 公司额外保留了3个代码永久不使用。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;指令&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%8C%87%E4%BB%A4&quot; aria-label=&quot;指令 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;指令&lt;/h2&gt;
&lt;p&gt;每一个字节，有256个可能的代码值（2^8=256），因此一个字节的操作码最多可能有256种不同的操作。其中，0x00、0xFE、0xCA、0xFF被指定保留。例如0xCA作为一个Java调试器的中断指令而从未被语言使用。相似地，0xFE和0xFF也未被语言使用。&lt;/p&gt;
&lt;p&gt;指令可以基本分为以下几类：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;存储指令 （例如：aload_0, istore）&lt;/li&gt;
&lt;li&gt;算术与逻辑指令 （例如: ladd, fcmpl）&lt;/li&gt;
&lt;li&gt;类型转换指令 （例如：i2b, d2i）&lt;/li&gt;
&lt;li&gt;对象创建与操作指令 （例如：new, putfield）&lt;/li&gt;
&lt;li&gt;堆栈操作指令 （例如：swap, dup2）&lt;/li&gt;
&lt;li&gt;控制转移指令 （例如：ifeq, goto）&lt;/li&gt;
&lt;li&gt;方法调用与返回指令 （例如：invokespecial, areturn)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;除此之外，还有一些更特殊的指令，作为异常抛出或同步等作用。&lt;/p&gt;
&lt;p&gt;大多数的指令有前缀和（或）后缀来表明其操作数的类型。如下表&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;前/后缀&lt;/th&gt;
&lt;th&gt;操作数类型&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;i&lt;/td&gt;
&lt;td&gt;整数&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;l&lt;/td&gt;
&lt;td&gt;长整数&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;s&lt;/td&gt;
&lt;td&gt;短整数&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;b&lt;/td&gt;
&lt;td&gt;字节&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;c&lt;/td&gt;
&lt;td&gt;字符&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;f&lt;/td&gt;
&lt;td&gt;单精度浮点数&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;d&lt;/td&gt;
&lt;td&gt;双精度浮点数&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;z&lt;/td&gt;
&lt;td&gt;布尔值&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;a&lt;/td&gt;
&lt;td&gt;引用&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;例如，“iadd”指令将两个整数相加；而”dadd”指令将两个double浮点数相加。
此外，“const”、 “load”、 “store”等命令还会使用”_n”后缀，其中 “load”和”store”命令中的n可以为0到3之间的整数；而”const”命令中的n由类型指定。 const”指令把一个指定类型的值放入堆栈。例如”iconst_5”指令将一个整数5放入堆栈；而”dconst_1”将一个双精度浮点数1放入堆栈。
此外还有”aconst_null”指令，放入一个null进堆栈。而对于”load” “store”指令中的n，指定了变量表中的存储位置。“aload_0”指令把在变量0中的对象（通常是”this”对象）放入堆栈，“istore_1”指令把栈顶的一个整数放入变量1.对于更高的变量，后缀将被去除，而这条指令将需要操作数。&lt;/p&gt;
&lt;h2 id=&quot;指令集&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E6%8C%87%E4%BB%A4%E9%9B%86&quot; aria-label=&quot;指令集 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;指令集&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;助记词&lt;/th&gt;
&lt;th&gt;说明&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;nop&lt;/td&gt;
&lt;td&gt;None&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;aconst_null&lt;/td&gt;
&lt;td&gt;将null推送至栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;iconst_m1&lt;/td&gt;
&lt;td&gt;将int型-1推送至栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;iconst_0&lt;/td&gt;
&lt;td&gt;将int型0推送至栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;iconst_1&lt;/td&gt;
&lt;td&gt;将int型1推送至栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;iconst_2&lt;/td&gt;
&lt;td&gt;将int型2推送至栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;iconst_3&lt;/td&gt;
&lt;td&gt;将int型3推送至栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;iconst_4&lt;/td&gt;
&lt;td&gt;将int型4推送至栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;iconst_5&lt;/td&gt;
&lt;td&gt;将int型5推送至栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;lconst_0&lt;/td&gt;
&lt;td&gt;将long型0推送至栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;lconst_1&lt;/td&gt;
&lt;td&gt;将long型1推送至栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;fconst_0&lt;/td&gt;
&lt;td&gt;将float型0推送至栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;fconst_1&lt;/td&gt;
&lt;td&gt;将float型1推送至栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;fconst_2&lt;/td&gt;
&lt;td&gt;将float型2推送至栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;dconst_0&lt;/td&gt;
&lt;td&gt;将double型0推送至栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;dconst_1&lt;/td&gt;
&lt;td&gt;将double型1推送至栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;bipush&lt;/td&gt;
&lt;td&gt;将单字节的常量值(-128~127)推送至栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;sipush&lt;/td&gt;
&lt;td&gt;将一个短整型常量(-32768~32767)推送至栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ldc&lt;/td&gt;
&lt;td&gt;将int,float或String型常量值从常量池中推送至栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ldc_w&lt;/td&gt;
&lt;td&gt;将int,float或String型常量值从常量池中推送至栈顶(宽索引)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ldc2_w&lt;/td&gt;
&lt;td&gt;将long或double型常量值从常量池中推送至栈顶(宽索引)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;iload&lt;/td&gt;
&lt;td&gt;将指定的int型本地变量推送至栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;lload&lt;/td&gt;
&lt;td&gt;将指定的long型本地变量推送至栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;fload&lt;/td&gt;
&lt;td&gt;将指定的float型本地变量推送至栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;dload&lt;/td&gt;
&lt;td&gt;将指定的double型本地变量推送至栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;aload&lt;/td&gt;
&lt;td&gt;将指定的引用类型本地变量推送至栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;iload_0&lt;/td&gt;
&lt;td&gt;将第一个int型本地变量推送至栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;iload_1&lt;/td&gt;
&lt;td&gt;将第二个int型本地变量推送至栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;iload_2&lt;/td&gt;
&lt;td&gt;将第三个int型本地变量推送至栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;iload_3&lt;/td&gt;
&lt;td&gt;将第四个int型本地变量推送至栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;lload_0&lt;/td&gt;
&lt;td&gt;将第一个long型本地变量推送至栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;lload_1&lt;/td&gt;
&lt;td&gt;将第二个long型本地变量推送至栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;lload_2&lt;/td&gt;
&lt;td&gt;将第三个long型本地变量推送至栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;lload_3&lt;/td&gt;
&lt;td&gt;将第四个long型本地变量推送至栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;fload_0&lt;/td&gt;
&lt;td&gt;将第一个float型本地变量推送至栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;fload_1&lt;/td&gt;
&lt;td&gt;将第二个float型本地变量推送至栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;fload_2&lt;/td&gt;
&lt;td&gt;将第三个float型本地变量推送至栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;fload_3&lt;/td&gt;
&lt;td&gt;将第四个float型本地变量推送至栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;dload_0&lt;/td&gt;
&lt;td&gt;将第一个double型本地变量推送至栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;dload_1&lt;/td&gt;
&lt;td&gt;将第二个double型本地变量推送至栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;dload_2&lt;/td&gt;
&lt;td&gt;将第三个double型本地变量推送至栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;dload_3&lt;/td&gt;
&lt;td&gt;将第四个double型本地变量推送至栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;aload_0&lt;/td&gt;
&lt;td&gt;将第一个引用类型本地变量推送至栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;aload_1&lt;/td&gt;
&lt;td&gt;将第二个引用类型本地变量推送至栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;aload_2&lt;/td&gt;
&lt;td&gt;将第三个引用类型本地变量推送至栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;aload_3&lt;/td&gt;
&lt;td&gt;将第四个引用类型本地变量推送至栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;iaload&lt;/td&gt;
&lt;td&gt;将int型数组指定索引的值推送至栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;laload&lt;/td&gt;
&lt;td&gt;将long型数组指定索引的值推送至栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;faload&lt;/td&gt;
&lt;td&gt;将float型数组指定索引的值推送至栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;daload&lt;/td&gt;
&lt;td&gt;将double型数组指定索引的值推送至栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;aaload&lt;/td&gt;
&lt;td&gt;将引用类型数组指定索引的值推送至栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;baload&lt;/td&gt;
&lt;td&gt;将boolean或byte型数组指定索引的值推送至栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;caload&lt;/td&gt;
&lt;td&gt;将char型数组指定索引的值推送至栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;saload&lt;/td&gt;
&lt;td&gt;将short型数组指定索引的值推送至栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;istore&lt;/td&gt;
&lt;td&gt;将栈顶int型数值存入指定本地变量&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;lstore&lt;/td&gt;
&lt;td&gt;将栈顶long型数值存入指定本地变量&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;fstore&lt;/td&gt;
&lt;td&gt;将栈顶float型数值存入指定本地变量&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;dstore&lt;/td&gt;
&lt;td&gt;将栈顶double型数值存入指定本地变量&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;astore&lt;/td&gt;
&lt;td&gt;将栈顶引用类型数值存入指定本地变量&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;istore_0&lt;/td&gt;
&lt;td&gt;将栈顶int型数值存入第一个本地变量&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;istore_1&lt;/td&gt;
&lt;td&gt;将栈顶int型数值存入第二个本地变量&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;istore_2&lt;/td&gt;
&lt;td&gt;将栈顶int型数值存入第三个本地变量&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;istore_3&lt;/td&gt;
&lt;td&gt;将栈顶int型数值存入第四个本地变量&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;lstore_0&lt;/td&gt;
&lt;td&gt;将栈顶long型数值存入第一个本地变量&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;lstore_1&lt;/td&gt;
&lt;td&gt;将栈顶long型数值存入第二个本地变量&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;lstore_2&lt;/td&gt;
&lt;td&gt;将栈顶long型数值存入第三个本地变量&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;lstore_3&lt;/td&gt;
&lt;td&gt;将栈顶long型数值存入第四个本地变量&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;fstore_0&lt;/td&gt;
&lt;td&gt;将栈顶float型数值存入第一个本地变量&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;fstore_1&lt;/td&gt;
&lt;td&gt;将栈顶float型数值存入第二个本地变量&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;fstore_2&lt;/td&gt;
&lt;td&gt;将栈顶float型数值存入第三个本地变量&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;fstore_3&lt;/td&gt;
&lt;td&gt;将栈顶float型数值存入第四个本地变量&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;dstore_0&lt;/td&gt;
&lt;td&gt;将栈顶double型数值存入第一个本地变量&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;dstore_1&lt;/td&gt;
&lt;td&gt;将栈顶double型数值存入第二个本地变量&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;dstore_2&lt;/td&gt;
&lt;td&gt;将栈顶double型数值存入第三个本地变量&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;dstore_3&lt;/td&gt;
&lt;td&gt;将栈顶double型数值存入第四个本地变量&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;astore_0&lt;/td&gt;
&lt;td&gt;将栈顶引用型数值存入第一个本地变量&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;astore_1&lt;/td&gt;
&lt;td&gt;将栈顶引用型数值存入第二个本地变量&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;astore_2&lt;/td&gt;
&lt;td&gt;将栈顶引用型数值存入第三个本地变量&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;astore_3&lt;/td&gt;
&lt;td&gt;将栈顶引用型数值存入第四个本地变量&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;iastore&lt;/td&gt;
&lt;td&gt;将栈顶int型数值存入指定数组的指定索引位置&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;lastore&lt;/td&gt;
&lt;td&gt;将栈顶long型数值存入指定数组的指定索引位置&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;fastore&lt;/td&gt;
&lt;td&gt;将栈顶float型数值存入指定数组的指定索引位置&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;dastore&lt;/td&gt;
&lt;td&gt;将栈顶double型数值存入指定数组的指定索引位置&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;aastore&lt;/td&gt;
&lt;td&gt;将栈顶引用型数值存入指定数组的指定索引位置&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;bastore&lt;/td&gt;
&lt;td&gt;将栈顶boolean或byte型数值存入指定数组的指定索引位置&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;castore&lt;/td&gt;
&lt;td&gt;将栈顶char型数值存入指定数组的指定索引位置&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;sastore&lt;/td&gt;
&lt;td&gt;将栈顶short型数值存入指定数组的指定索引位置&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;pop&lt;/td&gt;
&lt;td&gt;将栈顶数值弹出(数值不能是long或double类型的)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;pop2&lt;/td&gt;
&lt;td&gt;将栈顶的一个(对于非long或double类型)或两个数值(对于非long或double的其他类型)弹出&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;dup&lt;/td&gt;
&lt;td&gt;复制栈顶数值并将复制值压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;dup_x1	复制栈顶数值并将两个复制值压入栈顶&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;dup_x2	复制栈顶数值并将三个(或两个)复制值压入栈顶&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;dup2&lt;/td&gt;
&lt;td&gt;复制栈顶一个(对于long或double类型)或两个(对于非long或double的其他类型)数值并将复制值压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;dup2_x1&lt;/td&gt;
&lt;td&gt;dup_x1指令的双倍版本&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;dup2_x2&lt;/td&gt;
&lt;td&gt;dup_x2指令的双倍版本&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;swap&lt;/td&gt;
&lt;td&gt;将栈顶最顶端的两个数值互换(数值不能是long或double类型)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;iadd&lt;/td&gt;
&lt;td&gt;将栈顶两int型数值相加并将结果压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ladd&lt;/td&gt;
&lt;td&gt;将栈顶两long型数值相加并将结果压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;fadd&lt;/td&gt;
&lt;td&gt;将栈顶两float型数值相加并将结果压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;dadd&lt;/td&gt;
&lt;td&gt;将栈顶两double型数值相加并将结果压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;isub&lt;/td&gt;
&lt;td&gt;将栈顶两int型数值相减并将结果压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;lsub&lt;/td&gt;
&lt;td&gt;将栈顶两long型数值相减并将结果压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;fsub&lt;/td&gt;
&lt;td&gt;将栈顶两float型数值相减并将结果压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;dsub&lt;/td&gt;
&lt;td&gt;将栈顶两double型数值相减并将结果压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;imul&lt;/td&gt;
&lt;td&gt;将栈顶两int型数值相乘并将结果压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;lmul&lt;/td&gt;
&lt;td&gt;将栈顶两long型数值相乘并将结果压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;fmul&lt;/td&gt;
&lt;td&gt;将栈顶两float型数值相乘并将结果压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;dmul&lt;/td&gt;
&lt;td&gt;将栈顶两double型数值相乘并将结果压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;idiv&lt;/td&gt;
&lt;td&gt;将栈顶两int型数值相除并将结果压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ldiv&lt;/td&gt;
&lt;td&gt;将栈顶两long型数值相除并将结果压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;fdiv&lt;/td&gt;
&lt;td&gt;将栈顶两float型数值相除并将结果压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ddiv&lt;/td&gt;
&lt;td&gt;将栈顶两double型数值相除并将结果压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;irem&lt;/td&gt;
&lt;td&gt;将栈顶两int型数值作取模运算并将结果压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;lrem&lt;/td&gt;
&lt;td&gt;将栈顶两long型数值作取模运算并将结果压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;frem&lt;/td&gt;
&lt;td&gt;将栈顶两float型数值作取模运算并将结果压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;drem&lt;/td&gt;
&lt;td&gt;将栈顶两double型数值作取模运算并将结果压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ineg&lt;/td&gt;
&lt;td&gt;将栈顶int型数值取负并将结果压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;lneg&lt;/td&gt;
&lt;td&gt;将栈顶long型数值取负并将结果压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;fneg&lt;/td&gt;
&lt;td&gt;将栈顶float型数值取负并将结果压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;dneg&lt;/td&gt;
&lt;td&gt;将栈顶double型数值取负并将结果压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ishl&lt;/td&gt;
&lt;td&gt;将int型数值左移指定位数并将结果压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;lshl&lt;/td&gt;
&lt;td&gt;将long型数值左移指定位数并将结果压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ishr&lt;/td&gt;
&lt;td&gt;将int型数值右(带符号)移指定位数并将结果压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;lshr&lt;/td&gt;
&lt;td&gt;将long型数值右(带符号)移指定位数并将结果压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;iushr&lt;/td&gt;
&lt;td&gt;将int型数值右(无符号)移指定位数并将结果压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;lushr&lt;/td&gt;
&lt;td&gt;将long型数值右(无符号)移指定位数并将结果压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;iand&lt;/td&gt;
&lt;td&gt;将栈顶两int型数值”按位与”并将结果压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;land&lt;/td&gt;
&lt;td&gt;将栈顶两long型数值”按位与”并将结果压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ior&lt;/td&gt;
&lt;td&gt;将栈顶两int型数值”按位或”并将结果压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;lor&lt;/td&gt;
&lt;td&gt;将栈顶两long型数值”按位或”并将结果压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ixor&lt;/td&gt;
&lt;td&gt;将栈顶两int型数值”按位异或”并将结果压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;lxor&lt;/td&gt;
&lt;td&gt;将栈顶两long型数值”按位异或”并将结果压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;iinc&lt;/td&gt;
&lt;td&gt;将指定int型变量增加指定值(如i++, i—, i+=2等)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;i2l&lt;/td&gt;
&lt;td&gt;将栈顶int型数值强制转换为long型数值并将结果压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;i2f&lt;/td&gt;
&lt;td&gt;将栈顶int型数值强制转换为float型数值并将结果压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;i2d&lt;/td&gt;
&lt;td&gt;将栈顶int型数值强制转换为double型数值并将结果压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;l2i&lt;/td&gt;
&lt;td&gt;将栈顶long型数值强制转换为int型数值并将结果压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;l2f&lt;/td&gt;
&lt;td&gt;将栈顶long型数值强制转换为float型数值并将结果压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;l2d&lt;/td&gt;
&lt;td&gt;将栈顶long型数值强制转换为double型数值并将结果压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;f2i&lt;/td&gt;
&lt;td&gt;将栈顶float型数值强制转换为int型数值并将结果压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;f2l&lt;/td&gt;
&lt;td&gt;将栈顶float型数值强制转换为long型数值并将结果压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;f2d&lt;/td&gt;
&lt;td&gt;将栈顶float型数值强制转换为double型数值并将结果压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;d2i&lt;/td&gt;
&lt;td&gt;将栈顶double型数值强制转换为int型数值并将结果压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;d2l&lt;/td&gt;
&lt;td&gt;将栈顶double型数值强制转换为long型数值并将结果压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;d2f&lt;/td&gt;
&lt;td&gt;将栈顶double型数值强制转换为float型数值并将结果压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;i2b&lt;/td&gt;
&lt;td&gt;将栈顶int型数值强制转换为byte型数值并将结果压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;i2c&lt;/td&gt;
&lt;td&gt;将栈顶int型数值强制转换为char型数值并将结果压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;i2s&lt;/td&gt;
&lt;td&gt;将栈顶int型数值强制转换为short型数值并将结果压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;lcmp&lt;/td&gt;
&lt;td&gt;比较栈顶两long型数值大小, 并将结果(1, 0或-1)压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;fcmpl&lt;/td&gt;
&lt;td&gt;比较栈顶两float型数值大小, 并将结果(1, 0或-1)压入栈顶; 当其中一个数值为NaN时, 将-1压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;fcmpg&lt;/td&gt;
&lt;td&gt;比较栈顶两float型数值大小, 并将结果(1, 0或-1)压入栈顶; 当其中一个数值为NaN时, 将1压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;dcmpl&lt;/td&gt;
&lt;td&gt;比较栈顶两double型数值大小, 并将结果(1, 0或-1)压入栈顶; 当其中一个数值为NaN时, 将-1压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;dcmpg&lt;/td&gt;
&lt;td&gt;比较栈顶两double型数值大小, 并将结果(1, 0或-1)压入栈顶; 当其中一个数值为NaN时, 将1压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ifeq&lt;/td&gt;
&lt;td&gt;当栈顶int型数值等于0时跳转&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ifne&lt;/td&gt;
&lt;td&gt;当栈顶int型数值不等于0时跳转&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;iflt&lt;/td&gt;
&lt;td&gt;当栈顶int型数值小于0时跳转&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ifge&lt;/td&gt;
&lt;td&gt;当栈顶int型数值大于等于0时跳转&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ifgt&lt;/td&gt;
&lt;td&gt;当栈顶int型数值大于0时跳转&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ifle&lt;/td&gt;
&lt;td&gt;当栈顶int型数值小于等于0时跳转&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;if_icmpeq&lt;/td&gt;
&lt;td&gt;比较栈顶两int型数值大小, 当结果等于0时跳转&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;if_icmpne&lt;/td&gt;
&lt;td&gt;比较栈顶两int型数值大小, 当结果不等于0时跳转&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;if_icmplt&lt;/td&gt;
&lt;td&gt;比较栈顶两int型数值大小, 当结果小于0时跳转&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;if_icmpge&lt;/td&gt;
&lt;td&gt;比较栈顶两int型数值大小, 当结果大于等于0时跳转&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;if_icmpgt&lt;/td&gt;
&lt;td&gt;比较栈顶两int型数值大小, 当结果大于0时跳转&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;if_icmple&lt;/td&gt;
&lt;td&gt;比较栈顶两int型数值大小, 当结果小于等于0时跳转&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;if_acmpeq&lt;/td&gt;
&lt;td&gt;比较栈顶两引用型数值, 当结果相等时跳转&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;if_acmpne&lt;/td&gt;
&lt;td&gt;比较栈顶两引用型数值, 当结果不相等时跳转&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;goto&lt;/td&gt;
&lt;td&gt;无条件跳转&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;jsr&lt;/td&gt;
&lt;td&gt;跳转至指定的16位offset位置, 并将jsr的下一条指令地址压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ret&lt;/td&gt;
&lt;td&gt;返回至本地变量指定的index的指令位置(一般与jsr或jsr_w联合使用)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;tableswitch&lt;/td&gt;
&lt;td&gt;用于switch条件跳转, case值连续(可变长度指令)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;lookupswitch&lt;/td&gt;
&lt;td&gt;用于switch条件跳转, case值不连续(可变长度指令)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ireturn&lt;/td&gt;
&lt;td&gt;从当前方法返回int&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;lreturn&lt;/td&gt;
&lt;td&gt;从当前方法返回long&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;freturn&lt;/td&gt;
&lt;td&gt;从当前方法返回float&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;dreturn&lt;/td&gt;
&lt;td&gt;从当前方法返回double&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;areturn&lt;/td&gt;
&lt;td&gt;从当前方法返回对象引用&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;return&lt;/td&gt;
&lt;td&gt;从当前方法返回void&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;getstatic&lt;/td&gt;
&lt;td&gt;获取指定类的静态域, 并将其压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;putstatic&lt;/td&gt;
&lt;td&gt;为指定类的静态域赋值&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;getfield&lt;/td&gt;
&lt;td&gt;获取指定类的实例域, 并将其压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;putfield&lt;/td&gt;
&lt;td&gt;为指定类的实例域赋值&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;invokevirtual&lt;/td&gt;
&lt;td&gt;调用实例方法&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;invokespecial&lt;/td&gt;
&lt;td&gt;调用超类构建方法, 实例初始化方法, 私有方法&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;invokestatic&lt;/td&gt;
&lt;td&gt;调用静态方法&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;invokeinterface&lt;/td&gt;
&lt;td&gt;调用接口方法&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;invokedynamic&lt;/td&gt;
&lt;td&gt;调用动态方法&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;new&lt;/td&gt;
&lt;td&gt;创建一个对象, 并将其引用引用值压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;newarray&lt;/td&gt;
&lt;td&gt;创建一个指定的原始类型(如int, float, char等)的数组, 并将其引用值压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;anewarray&lt;/td&gt;
&lt;td&gt;创建一个引用型(如类, 接口, 数组)的数组, 并将其引用值压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;arraylength&lt;/td&gt;
&lt;td&gt;获取数组的长度值并压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;athrow&lt;/td&gt;
&lt;td&gt;将栈顶的异常抛出&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;checkcast&lt;/td&gt;
&lt;td&gt;检验类型转换, 检验未通过将抛出 ClassCastException&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;instanceof&lt;/td&gt;
&lt;td&gt;检验对象是否是指定类的实际, 如果是将1压入栈顶, 否则将0压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;monitorenter&lt;/td&gt;
&lt;td&gt;获得对象的锁, 用于同步方法或同步块&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;monitorexit&lt;/td&gt;
&lt;td&gt;释放对象的锁, 用于同步方法或同步块&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;wide&lt;/td&gt;
&lt;td&gt;扩展本地变量的宽度&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;multianewarray&lt;/td&gt;
&lt;td&gt;创建指定类型和指定维度的多维数组(执行该指令时, 操作栈中必须包含各维度的长度值), 并将其引用压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ifnull&lt;/td&gt;
&lt;td&gt;为null时跳转&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ifnonnull&lt;/td&gt;
&lt;td&gt;不为null时跳转&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;goto_w&lt;/td&gt;
&lt;td&gt;无条件跳转(宽索引)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;jsr_w&lt;/td&gt;
&lt;td&gt;跳转至指定的32位offset位置, 并将jsr_w的下一条指令地址压入栈顶&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&quot;计算模型&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E8%AE%A1%E7%AE%97%E6%A8%A1%E5%9E%8B&quot; aria-label=&quot;计算模型 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;计算模型&lt;/h2&gt;
&lt;p&gt;Java字节码的计算模型是面向堆栈结构计算机的。例如，一个x86处理器的汇编代码如下&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;shell&quot; terminal=&quot;carbon&quot; theme=&quot;one-dark&quot; line-numbers=&quot;true&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;mov eax, byte [ebp-4]
mov edx, byte [ebp-8]
add eax, edx
mov ecx, eax&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;这段代码将两个数值相加，并存入另一个地址。相似的反汇编字节码如下&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;java&quot; terminal=&quot;carbon&quot; theme=&quot;one-dark&quot; line-numbers=&quot;true&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;0 iload_1
1 iload_2
2 iadd
3 istore_3&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;在这里，需要相加的两个操作数被放入堆栈，而相加操作就在栈中进行，其结果也被放入堆栈。存储指令之后把栈顶的数据放入一个变量地址。在每条指令前面的数字仅仅是表示这条指令到方法开始处的偏移值。这种堆栈结构也可以推广到面向对象模型上。例如，有一个”getName”方法如下&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;java&quot; terminal=&quot;carbon&quot; theme=&quot;one-dark&quot; line-numbers=&quot;true&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt; Method java.lang.String getName()
 0 aload_0       // &amp;quot;this&amp;quot;对象被存入变量0
 1 getfield #5 &amp;lt;Field java.lang.String name&amp;gt;
                 // 这个指令从栈顶取出一个对象，并从中搜索一个指定的域
                 // 并将相应的数据存入栈顶。
                 // 这个例子中，&amp;quot;name&amp;quot;域对应于该类中的第五个常量。
 
 4 areturn  	 // 返回栈顶的对象作为函数的返回值&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;h2 id=&quot;例子&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E4%BE%8B%E5%AD%90&quot; aria-label=&quot;例子 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;例子&lt;/h2&gt;
&lt;p&gt;考虑如下Java代码&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;java&quot; terminal=&quot;carbon&quot; theme=&quot;one-dark&quot; line-numbers=&quot;true&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;  outer:
  for (int i = 2; i &amp;lt; 1000; i++) {
      for (int j = 2; j &amp;lt; i; j++) {
          if (i % j == 0)
              continue outer;
      }
      System.out.println (i);
  }&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;p&gt;假设上述代码位于一个函数中，Java编译器可能将代码翻译成下述的Java字节码。&lt;/p&gt;
&lt;deckgo-highlight-code language=&quot;java&quot; terminal=&quot;carbon&quot; theme=&quot;one-dark&quot; line-numbers=&quot;true&quot;  &gt;
          &lt;code slot=&quot;code&quot;&gt;  0:   iconst_2
  1:   istore_1
  2:   iload_1
  3:   sipush  1000
  6:   if_icmpge       44
  9:   iconst_2
  10:  istore_2
  11:  iload_2
  12:  iload_1
  13:  if_icmpge       31
  16:  iload_1
  17:  iload_2
  18:  irem
  19:  ifne    25
  22:  goto    38
  25:  iinc    2, 1
  28:  goto    11
  31:  getstatic       #84; //Field java/lang/System.out:Ljava/io/PrintStream;
  34:  iload_1
  35:  invokevirtual   #85; //Method java/io/PrintStream.println:(I)V
  38:  iinc    1, 1
  41:  goto    2
  44:  return&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
&lt;h2 id=&quot;基于java字节码的语言&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%9F%BA%E4%BA%8Ejava%E5%AD%97%E8%8A%82%E7%A0%81%E7%9A%84%E8%AF%AD%E8%A8%80&quot; aria-label=&quot;基于java字节码的语言 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;基于Java字节码的语言&lt;/h2&gt;
&lt;p&gt;Groovy, 一种基于Java的脚本语言
Scala,一种类型安全的通用编程语言，支持面向对象编程和函数式编程
Clojure, 一种函数式的通用编程语言，提供优秀的并发性。是一种LISP方言&lt;/p&gt;
&lt;h2 id=&quot;对动态语言的支持&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%AF%B9%E5%8A%A8%E6%80%81%E8%AF%AD%E8%A8%80%E7%9A%84%E6%94%AF%E6%8C%81&quot; aria-label=&quot;对动态语言的支持 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;对动态语言的支持&lt;/h2&gt;
&lt;p&gt;Java虚拟机对动态类型语言提供了一定的支持。但绝大多数的Java虚拟机指令集是基于静态类型语言的。在静态类型机制下，方法调用中的类型分析都是在编译时执行的，而且缺乏一种机制在运行时确定一个类型已经确定相应的方法。&lt;/p&gt;
&lt;p&gt;JSR292中，在Java虚拟机层次增加了一种支持动态类型的指令&lt;code&gt;invokedynamic&lt;/code&gt;，以支持在动态类型检测中的方法调用。 达芬奇机器则是一种支持这种动态类型调用的虚拟机。 而所有支持JSE 7的Java虚拟机都应支持&lt;code&gt;invokedynamic&lt;/code&gt;操作码。&lt;/p&gt;
&lt;h2 id=&quot;参考连接&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%E5%8F%82%E8%80%83%E8%BF%9E%E6%8E%A5&quot; aria-label=&quot;参考连接 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;参考连接&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/List_of_Java_bytecode_instructions&quot;&gt;https://en.wikipedia.org/wiki/List_of_Java_bytecode_instructions&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://zh.wikipedia.org/wiki/Java%E5%AD%97%E8%8A%82%E7%A0%81#cite_note-5&quot;&gt;https://zh.wikipedia.org/wiki/Java%E5%AD%97%E8%8A%82%E7%A0%81#cite_note-5&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item></channel></rss>